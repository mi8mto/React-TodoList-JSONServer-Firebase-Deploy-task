(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function r(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=r(a);fetch(a.href,c)}})();var Ua={exports:{}},xi={},Ba={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rh;function S_(){if(rh)return J;rh=1;var i=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),w=Symbol.iterator;function k(E){return E===null||typeof E!="object"?null:(E=w&&E[w]||E["@@iterator"],typeof E=="function"?E:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,V={};function K(E,x,X){this.props=E,this.context=x,this.refs=V,this.updater=X||A}K.prototype.isReactComponent={},K.prototype.setState=function(E,x){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,x,"setState")},K.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function Oe(){}Oe.prototype=K.prototype;function Fe(E,x,X){this.props=E,this.context=x,this.refs=V,this.updater=X||A}var ze=Fe.prototype=new Oe;ze.constructor=Fe,L(ze,K.prototype),ze.isPureReactComponent=!0;var Te=Array.isArray,re=Object.prototype.hasOwnProperty,H={current:null},ie={key:!0,ref:!0,__self:!0,__source:!0};function Le(E,x,X){var te,oe={},le=null,he=null;if(x!=null)for(te in x.ref!==void 0&&(he=x.ref),x.key!==void 0&&(le=""+x.key),x)re.call(x,te)&&!ie.hasOwnProperty(te)&&(oe[te]=x[te]);var ce=arguments.length-2;if(ce===1)oe.children=X;else if(1<ce){for(var Ee=Array(ce),mt=0;mt<ce;mt++)Ee[mt]=arguments[mt+2];oe.children=Ee}if(E&&E.defaultProps)for(te in ce=E.defaultProps,ce)oe[te]===void 0&&(oe[te]=ce[te]);return{$$typeof:i,type:E,key:le,ref:he,props:oe,_owner:H.current}}function Ge(E,x){return{$$typeof:i,type:E.type,key:x,ref:E.ref,props:E.props,_owner:E._owner}}function Nt(E){return typeof E=="object"&&E!==null&&E.$$typeof===i}function Kt(E){var x={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(X){return x[X]})}var jt=/\/+/g;function pt(E,x){return typeof E=="object"&&E!==null&&E.key!=null?Kt(""+E.key):x.toString(36)}function xt(E,x,X,te,oe){var le=typeof E;(le==="undefined"||le==="boolean")&&(E=null);var he=!1;if(E===null)he=!0;else switch(le){case"string":case"number":he=!0;break;case"object":switch(E.$$typeof){case i:case t:he=!0}}if(he)return he=E,oe=oe(he),E=te===""?"."+pt(he,0):te,Te(oe)?(X="",E!=null&&(X=E.replace(jt,"$&/")+"/"),xt(oe,x,X,"",function(mt){return mt})):oe!=null&&(Nt(oe)&&(oe=Ge(oe,X+(!oe.key||he&&he.key===oe.key?"":(""+oe.key).replace(jt,"$&/")+"/")+E)),x.push(oe)),1;if(he=0,te=te===""?".":te+":",Te(E))for(var ce=0;ce<E.length;ce++){le=E[ce];var Ee=te+pt(le,ce);he+=xt(le,x,X,Ee,oe)}else if(Ee=k(E),typeof Ee=="function")for(E=Ee.call(E),ce=0;!(le=E.next()).done;)le=le.value,Ee=te+pt(le,ce++),he+=xt(le,x,X,Ee,oe);else if(le==="object")throw x=String(E),Error("Objects are not valid as a React child (found: "+(x==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":x)+"). If you meant to render a collection of children, use an array instead.");return he}function Wt(E,x,X){if(E==null)return E;var te=[],oe=0;return xt(E,te,"","",function(le){return x.call(X,le,oe++)}),te}function st(E){if(E._status===-1){var x=E._result;x=x(),x.then(function(X){(E._status===0||E._status===-1)&&(E._status=1,E._result=X)},function(X){(E._status===0||E._status===-1)&&(E._status=2,E._result=X)}),E._status===-1&&(E._status=0,E._result=x)}if(E._status===1)return E._result.default;throw E._result}var Ne={current:null},M={transition:null},G={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:M,ReactCurrentOwner:H};function U(){throw Error("act(...) is not supported in production builds of React.")}return J.Children={map:Wt,forEach:function(E,x,X){Wt(E,function(){x.apply(this,arguments)},X)},count:function(E){var x=0;return Wt(E,function(){x++}),x},toArray:function(E){return Wt(E,function(x){return x})||[]},only:function(E){if(!Nt(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},J.Component=K,J.Fragment=r,J.Profiler=a,J.PureComponent=Fe,J.StrictMode=o,J.Suspense=m,J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,J.act=U,J.cloneElement=function(E,x,X){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var te=L({},E.props),oe=E.key,le=E.ref,he=E._owner;if(x!=null){if(x.ref!==void 0&&(le=x.ref,he=H.current),x.key!==void 0&&(oe=""+x.key),E.type&&E.type.defaultProps)var ce=E.type.defaultProps;for(Ee in x)re.call(x,Ee)&&!ie.hasOwnProperty(Ee)&&(te[Ee]=x[Ee]===void 0&&ce!==void 0?ce[Ee]:x[Ee])}var Ee=arguments.length-2;if(Ee===1)te.children=X;else if(1<Ee){ce=Array(Ee);for(var mt=0;mt<Ee;mt++)ce[mt]=arguments[mt+2];te.children=ce}return{$$typeof:i,type:E.type,key:oe,ref:le,props:te,_owner:he}},J.createContext=function(E){return E={$$typeof:f,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:c,_context:E},E.Consumer=E},J.createElement=Le,J.createFactory=function(E){var x=Le.bind(null,E);return x.type=E,x},J.createRef=function(){return{current:null}},J.forwardRef=function(E){return{$$typeof:p,render:E}},J.isValidElement=Nt,J.lazy=function(E){return{$$typeof:I,_payload:{_status:-1,_result:E},_init:st}},J.memo=function(E,x){return{$$typeof:g,type:E,compare:x===void 0?null:x}},J.startTransition=function(E){var x=M.transition;M.transition={};try{E()}finally{M.transition=x}},J.unstable_act=U,J.useCallback=function(E,x){return Ne.current.useCallback(E,x)},J.useContext=function(E){return Ne.current.useContext(E)},J.useDebugValue=function(){},J.useDeferredValue=function(E){return Ne.current.useDeferredValue(E)},J.useEffect=function(E,x){return Ne.current.useEffect(E,x)},J.useId=function(){return Ne.current.useId()},J.useImperativeHandle=function(E,x,X){return Ne.current.useImperativeHandle(E,x,X)},J.useInsertionEffect=function(E,x){return Ne.current.useInsertionEffect(E,x)},J.useLayoutEffect=function(E,x){return Ne.current.useLayoutEffect(E,x)},J.useMemo=function(E,x){return Ne.current.useMemo(E,x)},J.useReducer=function(E,x,X){return Ne.current.useReducer(E,x,X)},J.useRef=function(E){return Ne.current.useRef(E)},J.useState=function(E){return Ne.current.useState(E)},J.useSyncExternalStore=function(E,x,X){return Ne.current.useSyncExternalStore(E,x,X)},J.useTransition=function(){return Ne.current.useTransition()},J.version="18.3.1",J}var ih;function ku(){return ih||(ih=1,Ba.exports=S_()),Ba.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sh;function k_(){if(sh)return xi;sh=1;var i=ku(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(p,m,g){var I,w={},k=null,A=null;g!==void 0&&(k=""+g),m.key!==void 0&&(k=""+m.key),m.ref!==void 0&&(A=m.ref);for(I in m)o.call(m,I)&&!c.hasOwnProperty(I)&&(w[I]=m[I]);if(p&&p.defaultProps)for(I in m=p.defaultProps,m)w[I]===void 0&&(w[I]=m[I]);return{$$typeof:t,type:p,key:k,ref:A,props:w,_owner:a.current}}return xi.Fragment=r,xi.jsx=f,xi.jsxs=f,xi}var oh;function I_(){return oh||(oh=1,Ua.exports=k_()),Ua.exports}var b=I_(),Se=ku(),co={},ja={exports:{}},dt={},Wa={exports:{}},Ha={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lh;function T_(){return lh||(lh=1,function(i){function t(M,G){var U=M.length;M.push(G);e:for(;0<U;){var E=U-1>>>1,x=M[E];if(0<a(x,G))M[E]=G,M[U]=x,U=E;else break e}}function r(M){return M.length===0?null:M[0]}function o(M){if(M.length===0)return null;var G=M[0],U=M.pop();if(U!==G){M[0]=U;e:for(var E=0,x=M.length,X=x>>>1;E<X;){var te=2*(E+1)-1,oe=M[te],le=te+1,he=M[le];if(0>a(oe,U))le<x&&0>a(he,oe)?(M[E]=he,M[le]=U,E=le):(M[E]=oe,M[te]=U,E=te);else if(le<x&&0>a(he,U))M[E]=he,M[le]=U,E=le;else break e}}return G}function a(M,G){var U=M.sortIndex-G.sortIndex;return U!==0?U:M.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();i.unstable_now=function(){return f.now()-p}}var m=[],g=[],I=1,w=null,k=3,A=!1,L=!1,V=!1,K=typeof setTimeout=="function"?setTimeout:null,Oe=typeof clearTimeout=="function"?clearTimeout:null,Fe=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ze(M){for(var G=r(g);G!==null;){if(G.callback===null)o(g);else if(G.startTime<=M)o(g),G.sortIndex=G.expirationTime,t(m,G);else break;G=r(g)}}function Te(M){if(V=!1,ze(M),!L)if(r(m)!==null)L=!0,st(re);else{var G=r(g);G!==null&&Ne(Te,G.startTime-M)}}function re(M,G){L=!1,V&&(V=!1,Oe(Le),Le=-1),A=!0;var U=k;try{for(ze(G),w=r(m);w!==null&&(!(w.expirationTime>G)||M&&!Kt());){var E=w.callback;if(typeof E=="function"){w.callback=null,k=w.priorityLevel;var x=E(w.expirationTime<=G);G=i.unstable_now(),typeof x=="function"?w.callback=x:w===r(m)&&o(m),ze(G)}else o(m);w=r(m)}if(w!==null)var X=!0;else{var te=r(g);te!==null&&Ne(Te,te.startTime-G),X=!1}return X}finally{w=null,k=U,A=!1}}var H=!1,ie=null,Le=-1,Ge=5,Nt=-1;function Kt(){return!(i.unstable_now()-Nt<Ge)}function jt(){if(ie!==null){var M=i.unstable_now();Nt=M;var G=!0;try{G=ie(!0,M)}finally{G?pt():(H=!1,ie=null)}}else H=!1}var pt;if(typeof Fe=="function")pt=function(){Fe(jt)};else if(typeof MessageChannel<"u"){var xt=new MessageChannel,Wt=xt.port2;xt.port1.onmessage=jt,pt=function(){Wt.postMessage(null)}}else pt=function(){K(jt,0)};function st(M){ie=M,H||(H=!0,pt())}function Ne(M,G){Le=K(function(){M(i.unstable_now())},G)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(M){M.callback=null},i.unstable_continueExecution=function(){L||A||(L=!0,st(re))},i.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ge=0<M?Math.floor(1e3/M):5},i.unstable_getCurrentPriorityLevel=function(){return k},i.unstable_getFirstCallbackNode=function(){return r(m)},i.unstable_next=function(M){switch(k){case 1:case 2:case 3:var G=3;break;default:G=k}var U=k;k=G;try{return M()}finally{k=U}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(M,G){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var U=k;k=M;try{return G()}finally{k=U}},i.unstable_scheduleCallback=function(M,G,U){var E=i.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?E+U:E):U=E,M){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=U+x,M={id:I++,callback:G,priorityLevel:M,startTime:U,expirationTime:x,sortIndex:-1},U>E?(M.sortIndex=U,t(g,M),r(m)===null&&M===r(g)&&(V?(Oe(Le),Le=-1):V=!0,Ne(Te,U-E))):(M.sortIndex=x,t(m,M),L||A||(L=!0,st(re))),M},i.unstable_shouldYield=Kt,i.unstable_wrapCallback=function(M){var G=k;return function(){var U=k;k=G;try{return M.apply(this,arguments)}finally{k=U}}}}(Ha)),Ha}var ah;function N_(){return ah||(ah=1,Wa.exports=T_()),Wa.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uh;function x_(){if(uh)return dt;uh=1;var i=ku(),t=N_();function r(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function c(e,n){f(e,n),f(e+"Capture",n)}function f(e,n){for(a[e]=n,e=0;e<n.length;e++)o.add(n[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I={},w={};function k(e){return m.call(w,e)?!0:m.call(I,e)?!1:g.test(e)?w[e]=!0:(I[e]=!0,!1)}function A(e,n,s,l){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function L(e,n,s,l){if(n===null||typeof n>"u"||A(e,n,s,l))return!0;if(l)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function V(e,n,s,l,u,d,h){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=u,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=d,this.removeEmptyString=h}var K={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){K[e]=new V(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];K[n]=new V(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){K[e]=new V(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){K[e]=new V(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){K[e]=new V(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){K[e]=new V(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){K[e]=new V(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){K[e]=new V(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){K[e]=new V(e,5,!1,e.toLowerCase(),null,!1,!1)});var Oe=/[\-:]([a-z])/g;function Fe(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Oe,Fe);K[n]=new V(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Oe,Fe);K[n]=new V(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Oe,Fe);K[n]=new V(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){K[e]=new V(e,1,!1,e.toLowerCase(),null,!1,!1)}),K.xlinkHref=new V("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){K[e]=new V(e,1,!1,e.toLowerCase(),null,!0,!0)});function ze(e,n,s,l){var u=K.hasOwnProperty(n)?K[n]:null;(u!==null?u.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(L(n,s,u,l)&&(s=null),l||u===null?k(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):u.mustUseProperty?e[u.propertyName]=s===null?u.type===3?!1:"":s:(n=u.attributeName,l=u.attributeNamespace,s===null?e.removeAttribute(n):(u=u.type,s=u===3||u===4&&s===!0?"":""+s,l?e.setAttributeNS(l,n,s):e.setAttribute(n,s))))}var Te=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,re=Symbol.for("react.element"),H=Symbol.for("react.portal"),ie=Symbol.for("react.fragment"),Le=Symbol.for("react.strict_mode"),Ge=Symbol.for("react.profiler"),Nt=Symbol.for("react.provider"),Kt=Symbol.for("react.context"),jt=Symbol.for("react.forward_ref"),pt=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),Wt=Symbol.for("react.memo"),st=Symbol.for("react.lazy"),Ne=Symbol.for("react.offscreen"),M=Symbol.iterator;function G(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var U=Object.assign,E;function x(e){if(E===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);E=n&&n[1]||""}return`
`+E+e}var X=!1;function te(e,n){if(!e||X)return"";X=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(T){var l=T}Reflect.construct(e,[],n)}else{try{n.call()}catch(T){l=T}e.call(n.prototype)}else{try{throw Error()}catch(T){l=T}e()}}catch(T){if(T&&l&&typeof T.stack=="string"){for(var u=T.stack.split(`
`),d=l.stack.split(`
`),h=u.length-1,_=d.length-1;1<=h&&0<=_&&u[h]!==d[_];)_--;for(;1<=h&&0<=_;h--,_--)if(u[h]!==d[_]){if(h!==1||_!==1)do if(h--,_--,0>_||u[h]!==d[_]){var v=`
`+u[h].replace(" at new "," at ");return e.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",e.displayName)),v}while(1<=h&&0<=_);break}}}finally{X=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?x(e):""}function oe(e){switch(e.tag){case 5:return x(e.type);case 16:return x("Lazy");case 13:return x("Suspense");case 19:return x("SuspenseList");case 0:case 2:case 15:return e=te(e.type,!1),e;case 11:return e=te(e.type.render,!1),e;case 1:return e=te(e.type,!0),e;default:return""}}function le(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ie:return"Fragment";case H:return"Portal";case Ge:return"Profiler";case Le:return"StrictMode";case pt:return"Suspense";case xt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Kt:return(e.displayName||"Context")+".Consumer";case Nt:return(e._context.displayName||"Context")+".Provider";case jt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Wt:return n=e.displayName||null,n!==null?n:le(e.type)||"Memo";case st:n=e._payload,e=e._init;try{return le(e(n))}catch{}}return null}function he(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return le(n);case 8:return n===Le?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function ce(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ee(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function mt(e){var n=Ee(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var u=s.get,d=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(h){l=""+h,d.call(this,h)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(h){l=""+h},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function es(e){e._valueTracker||(e._valueTracker=mt(e))}function ac(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=Ee(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function ts(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $o(e,n){var s=n.checked;return U({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function uc(e,n){var s=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;s=ce(n.value!=null?n.value:s),e._wrapperState={initialChecked:l,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function cc(e,n){n=n.checked,n!=null&&ze(e,"checked",n,!1)}function Qo(e,n){cc(e,n);var s=ce(n.value),l=n.type;if(s!=null)l==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Go(e,n.type,s):n.hasOwnProperty("defaultValue")&&Go(e,n.type,ce(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function dc(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Go(e,n,s){(n!=="number"||ts(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Vr=Array.isArray;function nr(e,n,s,l){if(e=e.options,n){n={};for(var u=0;u<s.length;u++)n["$"+s[u]]=!0;for(s=0;s<e.length;s++)u=n.hasOwnProperty("$"+e[s].value),e[s].selected!==u&&(e[s].selected=u),u&&l&&(e[s].defaultSelected=!0)}else{for(s=""+ce(s),n=null,u=0;u<e.length;u++){if(e[u].value===s){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function Ko(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return U({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fc(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(r(92));if(Vr(s)){if(1<s.length)throw Error(r(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:ce(s)}}function hc(e,n){var s=ce(n.value),l=ce(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),l!=null&&(e.defaultValue=""+l)}function pc(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function mc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yo(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?mc(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ns,gc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,l,u){MSApp.execUnsafeLocalFunction(function(){return e(n,s,l,u)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(ns=ns||document.createElement("div"),ns.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=ns.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function br(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var $r={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nm=["Webkit","ms","Moz","O"];Object.keys($r).forEach(function(e){Nm.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),$r[n]=$r[e]})});function _c(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||$r.hasOwnProperty(e)&&$r[e]?(""+n).trim():n+"px"}function vc(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var l=s.indexOf("--")===0,u=_c(s,n[s],l);s==="float"&&(s="cssFloat"),l?e.setProperty(s,u):e[s]=u}}var xm=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qo(e,n){if(n){if(xm[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function Xo(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jo=null;function Zo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var el=null,rr=null,ir=null;function yc(e){if(e=hi(e)){if(typeof el!="function")throw Error(r(280));var n=e.stateNode;n&&(n=Is(n),el(e.stateNode,e.type,n))}}function wc(e){rr?ir?ir.push(e):ir=[e]:rr=e}function Ec(){if(rr){var e=rr,n=ir;if(ir=rr=null,yc(e),n)for(e=0;e<n.length;e++)yc(n[e])}}function Cc(e,n){return e(n)}function Sc(){}var tl=!1;function kc(e,n,s){if(tl)return e(n,s);tl=!0;try{return Cc(e,n,s)}finally{tl=!1,(rr!==null||ir!==null)&&(Sc(),Ec())}}function Qr(e,n){var s=e.stateNode;if(s===null)return null;var l=Is(s);if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var nl=!1;if(p)try{var Gr={};Object.defineProperty(Gr,"passive",{get:function(){nl=!0}}),window.addEventListener("test",Gr,Gr),window.removeEventListener("test",Gr,Gr)}catch{nl=!1}function Rm(e,n,s,l,u,d,h,_,v){var T=Array.prototype.slice.call(arguments,3);try{n.apply(s,T)}catch(R){this.onError(R)}}var Kr=!1,rs=null,is=!1,rl=null,Pm={onError:function(e){Kr=!0,rs=e}};function Dm(e,n,s,l,u,d,h,_,v){Kr=!1,rs=null,Rm.apply(Pm,arguments)}function Am(e,n,s,l,u,d,h,_,v){if(Dm.apply(this,arguments),Kr){if(Kr){var T=rs;Kr=!1,rs=null}else throw Error(r(198));is||(is=!0,rl=T)}}function Ln(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function Ic(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Tc(e){if(Ln(e)!==e)throw Error(r(188))}function Om(e){var n=e.alternate;if(!n){if(n=Ln(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,l=n;;){var u=s.return;if(u===null)break;var d=u.alternate;if(d===null){if(l=u.return,l!==null){s=l;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===s)return Tc(u),e;if(d===l)return Tc(u),n;d=d.sibling}throw Error(r(188))}if(s.return!==l.return)s=u,l=d;else{for(var h=!1,_=u.child;_;){if(_===s){h=!0,s=u,l=d;break}if(_===l){h=!0,l=u,s=d;break}_=_.sibling}if(!h){for(_=d.child;_;){if(_===s){h=!0,s=d,l=u;break}if(_===l){h=!0,l=d,s=u;break}_=_.sibling}if(!h)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function Nc(e){return e=Om(e),e!==null?xc(e):null}function xc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=xc(e);if(n!==null)return n;e=e.sibling}return null}var Rc=t.unstable_scheduleCallback,Pc=t.unstable_cancelCallback,Lm=t.unstable_shouldYield,Mm=t.unstable_requestPaint,De=t.unstable_now,Fm=t.unstable_getCurrentPriorityLevel,il=t.unstable_ImmediatePriority,Dc=t.unstable_UserBlockingPriority,ss=t.unstable_NormalPriority,zm=t.unstable_LowPriority,Ac=t.unstable_IdlePriority,os=null,Ht=null;function Um(e){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(os,e,void 0,(e.current.flags&128)===128)}catch{}}var Rt=Math.clz32?Math.clz32:Wm,Bm=Math.log,jm=Math.LN2;function Wm(e){return e>>>=0,e===0?32:31-(Bm(e)/jm|0)|0}var ls=64,as=4194304;function Yr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function us(e,n){var s=e.pendingLanes;if(s===0)return 0;var l=0,u=e.suspendedLanes,d=e.pingedLanes,h=s&268435455;if(h!==0){var _=h&~u;_!==0?l=Yr(_):(d&=h,d!==0&&(l=Yr(d)))}else h=s&~u,h!==0?l=Yr(h):d!==0&&(l=Yr(d));if(l===0)return 0;if(n!==0&&n!==l&&!(n&u)&&(u=l&-l,d=n&-n,u>=d||u===16&&(d&4194240)!==0))return n;if(l&4&&(l|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=l;0<n;)s=31-Rt(n),u=1<<s,l|=e[s],n&=~u;return l}function Hm(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vm(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes;0<d;){var h=31-Rt(d),_=1<<h,v=u[h];v===-1?(!(_&s)||_&l)&&(u[h]=Hm(_,n)):v<=n&&(e.expiredLanes|=_),d&=~_}}function sl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Oc(){var e=ls;return ls<<=1,!(ls&4194240)&&(ls=64),e}function ol(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function qr(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Rt(n),e[n]=s}function bm(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<s;){var u=31-Rt(s),d=1<<u;n[u]=0,l[u]=-1,e[u]=-1,s&=~d}}function ll(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-Rt(s),u=1<<l;u&n|e[l]&n&&(e[l]|=n),s&=~u}}var de=0;function Lc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Mc,al,Fc,zc,Uc,ul=!1,cs=[],an=null,un=null,cn=null,Xr=new Map,Jr=new Map,dn=[],$m="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bc(e,n){switch(e){case"focusin":case"focusout":an=null;break;case"dragenter":case"dragleave":un=null;break;case"mouseover":case"mouseout":cn=null;break;case"pointerover":case"pointerout":Xr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jr.delete(n.pointerId)}}function Zr(e,n,s,l,u,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[u]},n!==null&&(n=hi(n),n!==null&&al(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function Qm(e,n,s,l,u){switch(n){case"focusin":return an=Zr(an,e,n,s,l,u),!0;case"dragenter":return un=Zr(un,e,n,s,l,u),!0;case"mouseover":return cn=Zr(cn,e,n,s,l,u),!0;case"pointerover":var d=u.pointerId;return Xr.set(d,Zr(Xr.get(d)||null,e,n,s,l,u)),!0;case"gotpointercapture":return d=u.pointerId,Jr.set(d,Zr(Jr.get(d)||null,e,n,s,l,u)),!0}return!1}function jc(e){var n=Mn(e.target);if(n!==null){var s=Ln(n);if(s!==null){if(n=s.tag,n===13){if(n=Ic(s),n!==null){e.blockedOn=n,Uc(e.priority,function(){Fc(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ds(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=dl(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Jo=l,s.target.dispatchEvent(l),Jo=null}else return n=hi(s),n!==null&&al(n),e.blockedOn=s,!1;n.shift()}return!0}function Wc(e,n,s){ds(e)&&s.delete(n)}function Gm(){ul=!1,an!==null&&ds(an)&&(an=null),un!==null&&ds(un)&&(un=null),cn!==null&&ds(cn)&&(cn=null),Xr.forEach(Wc),Jr.forEach(Wc)}function ei(e,n){e.blockedOn===n&&(e.blockedOn=null,ul||(ul=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Gm)))}function ti(e){function n(u){return ei(u,e)}if(0<cs.length){ei(cs[0],e);for(var s=1;s<cs.length;s++){var l=cs[s];l.blockedOn===e&&(l.blockedOn=null)}}for(an!==null&&ei(an,e),un!==null&&ei(un,e),cn!==null&&ei(cn,e),Xr.forEach(n),Jr.forEach(n),s=0;s<dn.length;s++)l=dn[s],l.blockedOn===e&&(l.blockedOn=null);for(;0<dn.length&&(s=dn[0],s.blockedOn===null);)jc(s),s.blockedOn===null&&dn.shift()}var sr=Te.ReactCurrentBatchConfig,fs=!0;function Km(e,n,s,l){var u=de,d=sr.transition;sr.transition=null;try{de=1,cl(e,n,s,l)}finally{de=u,sr.transition=d}}function Ym(e,n,s,l){var u=de,d=sr.transition;sr.transition=null;try{de=4,cl(e,n,s,l)}finally{de=u,sr.transition=d}}function cl(e,n,s,l){if(fs){var u=dl(e,n,s,l);if(u===null)xl(e,n,l,hs,s),Bc(e,l);else if(Qm(u,e,n,s,l))l.stopPropagation();else if(Bc(e,l),n&4&&-1<$m.indexOf(e)){for(;u!==null;){var d=hi(u);if(d!==null&&Mc(d),d=dl(e,n,s,l),d===null&&xl(e,n,l,hs,s),d===u)break;u=d}u!==null&&l.stopPropagation()}else xl(e,n,l,null,s)}}var hs=null;function dl(e,n,s,l){if(hs=null,e=Zo(l),e=Mn(e),e!==null)if(n=Ln(e),n===null)e=null;else if(s=n.tag,s===13){if(e=Ic(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return hs=e,null}function Hc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fm()){case il:return 1;case Dc:return 4;case ss:case zm:return 16;case Ac:return 536870912;default:return 16}default:return 16}}var fn=null,fl=null,ps=null;function Vc(){if(ps)return ps;var e,n=fl,s=n.length,l,u="value"in fn?fn.value:fn.textContent,d=u.length;for(e=0;e<s&&n[e]===u[e];e++);var h=s-e;for(l=1;l<=h&&n[s-l]===u[d-l];l++);return ps=u.slice(e,1<l?1-l:void 0)}function ms(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function gs(){return!0}function bc(){return!1}function gt(e){function n(s,l,u,d,h){this._reactName=s,this._targetInst=u,this.type=l,this.nativeEvent=d,this.target=h,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(s=e[_],this[_]=s?s(d):d[_]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?gs:bc,this.isPropagationStopped=bc,this}return U(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=gs)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=gs)},persist:function(){},isPersistent:gs}),n}var or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hl=gt(or),ni=U({},or,{view:0,detail:0}),qm=gt(ni),pl,ml,ri,_s=U({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_l,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ri&&(ri&&e.type==="mousemove"?(pl=e.screenX-ri.screenX,ml=e.screenY-ri.screenY):ml=pl=0,ri=e),pl)},movementY:function(e){return"movementY"in e?e.movementY:ml}}),$c=gt(_s),Xm=U({},_s,{dataTransfer:0}),Jm=gt(Xm),Zm=U({},ni,{relatedTarget:0}),gl=gt(Zm),eg=U({},or,{animationName:0,elapsedTime:0,pseudoElement:0}),tg=gt(eg),ng=U({},or,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rg=gt(ng),ig=U({},or,{data:0}),Qc=gt(ig),sg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},og={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ag(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=lg[e])?!!n[e]:!1}function _l(){return ag}var ug=U({},ni,{key:function(e){if(e.key){var n=sg[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ms(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?og[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_l,charCode:function(e){return e.type==="keypress"?ms(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ms(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cg=gt(ug),dg=U({},_s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gc=gt(dg),fg=U({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_l}),hg=gt(fg),pg=U({},or,{propertyName:0,elapsedTime:0,pseudoElement:0}),mg=gt(pg),gg=U({},_s,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_g=gt(gg),vg=[9,13,27,32],vl=p&&"CompositionEvent"in window,ii=null;p&&"documentMode"in document&&(ii=document.documentMode);var yg=p&&"TextEvent"in window&&!ii,Kc=p&&(!vl||ii&&8<ii&&11>=ii),Yc=" ",qc=!1;function Xc(e,n){switch(e){case"keyup":return vg.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var lr=!1;function wg(e,n){switch(e){case"compositionend":return Jc(n);case"keypress":return n.which!==32?null:(qc=!0,Yc);case"textInput":return e=n.data,e===Yc&&qc?null:e;default:return null}}function Eg(e,n){if(lr)return e==="compositionend"||!vl&&Xc(e,n)?(e=Vc(),ps=fl=fn=null,lr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Kc&&n.locale!=="ko"?null:n.data;default:return null}}var Cg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Cg[e.type]:n==="textarea"}function ed(e,n,s,l){wc(l),n=Cs(n,"onChange"),0<n.length&&(s=new hl("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var si=null,oi=null;function Sg(e){vd(e,0)}function vs(e){var n=fr(e);if(ac(n))return e}function kg(e,n){if(e==="change")return n}var td=!1;if(p){var yl;if(p){var wl="oninput"in document;if(!wl){var nd=document.createElement("div");nd.setAttribute("oninput","return;"),wl=typeof nd.oninput=="function"}yl=wl}else yl=!1;td=yl&&(!document.documentMode||9<document.documentMode)}function rd(){si&&(si.detachEvent("onpropertychange",id),oi=si=null)}function id(e){if(e.propertyName==="value"&&vs(oi)){var n=[];ed(n,oi,e,Zo(e)),kc(Sg,n)}}function Ig(e,n,s){e==="focusin"?(rd(),si=n,oi=s,si.attachEvent("onpropertychange",id)):e==="focusout"&&rd()}function Tg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vs(oi)}function Ng(e,n){if(e==="click")return vs(n)}function xg(e,n){if(e==="input"||e==="change")return vs(n)}function Rg(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Pt=typeof Object.is=="function"?Object.is:Rg;function li(e,n){if(Pt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var u=s[l];if(!m.call(n,u)||!Pt(e[u],n[u]))return!1}return!0}function sd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function od(e,n){var s=sd(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=sd(s)}}function ld(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ld(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ad(){for(var e=window,n=ts();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ts(e.document)}return n}function El(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Pg(e){var n=ad(),s=e.focusedElem,l=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&ld(s.ownerDocument.documentElement,s)){if(l!==null&&El(s)){if(n=l.start,e=l.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var u=s.textContent.length,d=Math.min(l.start,u);l=l.end===void 0?d:Math.min(l.end,u),!e.extend&&d>l&&(u=l,l=d,d=u),u=od(s,d);var h=od(s,l);u&&h&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(n=n.createRange(),n.setStart(u.node,u.offset),e.removeAllRanges(),d>l?(e.addRange(n),e.extend(h.node,h.offset)):(n.setEnd(h.node,h.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Dg=p&&"documentMode"in document&&11>=document.documentMode,ar=null,Cl=null,ai=null,Sl=!1;function ud(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Sl||ar==null||ar!==ts(l)||(l=ar,"selectionStart"in l&&El(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ai&&li(ai,l)||(ai=l,l=Cs(Cl,"onSelect"),0<l.length&&(n=new hl("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=ar)))}function ys(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ur={animationend:ys("Animation","AnimationEnd"),animationiteration:ys("Animation","AnimationIteration"),animationstart:ys("Animation","AnimationStart"),transitionend:ys("Transition","TransitionEnd")},kl={},cd={};p&&(cd=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);function ws(e){if(kl[e])return kl[e];if(!ur[e])return e;var n=ur[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in cd)return kl[e]=n[s];return e}var dd=ws("animationend"),fd=ws("animationiteration"),hd=ws("animationstart"),pd=ws("transitionend"),md=new Map,gd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hn(e,n){md.set(e,n),c(n,[e])}for(var Il=0;Il<gd.length;Il++){var Tl=gd[Il],Ag=Tl.toLowerCase(),Og=Tl[0].toUpperCase()+Tl.slice(1);hn(Ag,"on"+Og)}hn(dd,"onAnimationEnd"),hn(fd,"onAnimationIteration"),hn(hd,"onAnimationStart"),hn("dblclick","onDoubleClick"),hn("focusin","onFocus"),hn("focusout","onBlur"),hn(pd,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ui="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lg=new Set("cancel close invalid load scroll toggle".split(" ").concat(ui));function _d(e,n,s){var l=e.type||"unknown-event";e.currentTarget=s,Am(l,n,void 0,e),e.currentTarget=null}function vd(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],u=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var h=l.length-1;0<=h;h--){var _=l[h],v=_.instance,T=_.currentTarget;if(_=_.listener,v!==d&&u.isPropagationStopped())break e;_d(u,_,T),d=v}else for(h=0;h<l.length;h++){if(_=l[h],v=_.instance,T=_.currentTarget,_=_.listener,v!==d&&u.isPropagationStopped())break e;_d(u,_,T),d=v}}}if(is)throw e=rl,is=!1,rl=null,e}function ve(e,n){var s=n[Ll];s===void 0&&(s=n[Ll]=new Set);var l=e+"__bubble";s.has(l)||(yd(n,e,2,!1),s.add(l))}function Nl(e,n,s){var l=0;n&&(l|=4),yd(s,e,l,n)}var Es="_reactListening"+Math.random().toString(36).slice(2);function ci(e){if(!e[Es]){e[Es]=!0,o.forEach(function(s){s!=="selectionchange"&&(Lg.has(s)||Nl(s,!1,e),Nl(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Es]||(n[Es]=!0,Nl("selectionchange",!1,n))}}function yd(e,n,s,l){switch(Hc(n)){case 1:var u=Km;break;case 4:u=Ym;break;default:u=cl}s=u.bind(null,n,s,e),u=void 0,!nl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(n,s,{capture:!0,passive:u}):e.addEventListener(n,s,!0):u!==void 0?e.addEventListener(n,s,{passive:u}):e.addEventListener(n,s,!1)}function xl(e,n,s,l,u){var d=l;if(!(n&1)&&!(n&2)&&l!==null)e:for(;;){if(l===null)return;var h=l.tag;if(h===3||h===4){var _=l.stateNode.containerInfo;if(_===u||_.nodeType===8&&_.parentNode===u)break;if(h===4)for(h=l.return;h!==null;){var v=h.tag;if((v===3||v===4)&&(v=h.stateNode.containerInfo,v===u||v.nodeType===8&&v.parentNode===u))return;h=h.return}for(;_!==null;){if(h=Mn(_),h===null)return;if(v=h.tag,v===5||v===6){l=d=h;continue e}_=_.parentNode}}l=l.return}kc(function(){var T=d,R=Zo(s),P=[];e:{var N=md.get(e);if(N!==void 0){var F=hl,B=e;switch(e){case"keypress":if(ms(s)===0)break e;case"keydown":case"keyup":F=cg;break;case"focusin":B="focus",F=gl;break;case"focusout":B="blur",F=gl;break;case"beforeblur":case"afterblur":F=gl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=$c;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Jm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=hg;break;case dd:case fd:case hd:F=tg;break;case pd:F=mg;break;case"scroll":F=qm;break;case"wheel":F=_g;break;case"copy":case"cut":case"paste":F=rg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Gc}var j=(n&4)!==0,Ae=!j&&e==="scroll",C=j?N!==null?N+"Capture":null:N;j=[];for(var y=T,S;y!==null;){S=y;var D=S.stateNode;if(S.tag===5&&D!==null&&(S=D,C!==null&&(D=Qr(y,C),D!=null&&j.push(di(y,D,S)))),Ae)break;y=y.return}0<j.length&&(N=new F(N,B,null,s,R),P.push({event:N,listeners:j}))}}if(!(n&7)){e:{if(N=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",N&&s!==Jo&&(B=s.relatedTarget||s.fromElement)&&(Mn(B)||B[Yt]))break e;if((F||N)&&(N=R.window===R?R:(N=R.ownerDocument)?N.defaultView||N.parentWindow:window,F?(B=s.relatedTarget||s.toElement,F=T,B=B?Mn(B):null,B!==null&&(Ae=Ln(B),B!==Ae||B.tag!==5&&B.tag!==6)&&(B=null)):(F=null,B=T),F!==B)){if(j=$c,D="onMouseLeave",C="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(j=Gc,D="onPointerLeave",C="onPointerEnter",y="pointer"),Ae=F==null?N:fr(F),S=B==null?N:fr(B),N=new j(D,y+"leave",F,s,R),N.target=Ae,N.relatedTarget=S,D=null,Mn(R)===T&&(j=new j(C,y+"enter",B,s,R),j.target=S,j.relatedTarget=Ae,D=j),Ae=D,F&&B)t:{for(j=F,C=B,y=0,S=j;S;S=cr(S))y++;for(S=0,D=C;D;D=cr(D))S++;for(;0<y-S;)j=cr(j),y--;for(;0<S-y;)C=cr(C),S--;for(;y--;){if(j===C||C!==null&&j===C.alternate)break t;j=cr(j),C=cr(C)}j=null}else j=null;F!==null&&wd(P,N,F,j,!1),B!==null&&Ae!==null&&wd(P,Ae,B,j,!0)}}e:{if(N=T?fr(T):window,F=N.nodeName&&N.nodeName.toLowerCase(),F==="select"||F==="input"&&N.type==="file")var W=kg;else if(Zc(N))if(td)W=xg;else{W=Tg;var $=Ig}else(F=N.nodeName)&&F.toLowerCase()==="input"&&(N.type==="checkbox"||N.type==="radio")&&(W=Ng);if(W&&(W=W(e,T))){ed(P,W,s,R);break e}$&&$(e,N,T),e==="focusout"&&($=N._wrapperState)&&$.controlled&&N.type==="number"&&Go(N,"number",N.value)}switch($=T?fr(T):window,e){case"focusin":(Zc($)||$.contentEditable==="true")&&(ar=$,Cl=T,ai=null);break;case"focusout":ai=Cl=ar=null;break;case"mousedown":Sl=!0;break;case"contextmenu":case"mouseup":case"dragend":Sl=!1,ud(P,s,R);break;case"selectionchange":if(Dg)break;case"keydown":case"keyup":ud(P,s,R)}var Q;if(vl)e:{switch(e){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else lr?Xc(e,s)&&(q="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(q="onCompositionStart");q&&(Kc&&s.locale!=="ko"&&(lr||q!=="onCompositionStart"?q==="onCompositionEnd"&&lr&&(Q=Vc()):(fn=R,fl="value"in fn?fn.value:fn.textContent,lr=!0)),$=Cs(T,q),0<$.length&&(q=new Qc(q,e,null,s,R),P.push({event:q,listeners:$}),Q?q.data=Q:(Q=Jc(s),Q!==null&&(q.data=Q)))),(Q=yg?wg(e,s):Eg(e,s))&&(T=Cs(T,"onBeforeInput"),0<T.length&&(R=new Qc("onBeforeInput","beforeinput",null,s,R),P.push({event:R,listeners:T}),R.data=Q))}vd(P,n)})}function di(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Cs(e,n){for(var s=n+"Capture",l=[];e!==null;){var u=e,d=u.stateNode;u.tag===5&&d!==null&&(u=d,d=Qr(e,s),d!=null&&l.unshift(di(e,d,u)),d=Qr(e,n),d!=null&&l.push(di(e,d,u))),e=e.return}return l}function cr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wd(e,n,s,l,u){for(var d=n._reactName,h=[];s!==null&&s!==l;){var _=s,v=_.alternate,T=_.stateNode;if(v!==null&&v===l)break;_.tag===5&&T!==null&&(_=T,u?(v=Qr(s,d),v!=null&&h.unshift(di(s,v,_))):u||(v=Qr(s,d),v!=null&&h.push(di(s,v,_)))),s=s.return}h.length!==0&&e.push({event:n,listeners:h})}var Mg=/\r\n?/g,Fg=/\u0000|\uFFFD/g;function Ed(e){return(typeof e=="string"?e:""+e).replace(Mg,`
`).replace(Fg,"")}function Ss(e,n,s){if(n=Ed(n),Ed(e)!==n&&s)throw Error(r(425))}function ks(){}var Rl=null,Pl=null;function Dl(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Al=typeof setTimeout=="function"?setTimeout:void 0,zg=typeof clearTimeout=="function"?clearTimeout:void 0,Cd=typeof Promise=="function"?Promise:void 0,Ug=typeof queueMicrotask=="function"?queueMicrotask:typeof Cd<"u"?function(e){return Cd.resolve(null).then(e).catch(Bg)}:Al;function Bg(e){setTimeout(function(){throw e})}function Ol(e,n){var s=n,l=0;do{var u=s.nextSibling;if(e.removeChild(s),u&&u.nodeType===8)if(s=u.data,s==="/$"){if(l===0){e.removeChild(u),ti(n);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=u}while(s);ti(n)}function pn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Sd(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var dr=Math.random().toString(36).slice(2),Vt="__reactFiber$"+dr,fi="__reactProps$"+dr,Yt="__reactContainer$"+dr,Ll="__reactEvents$"+dr,jg="__reactListeners$"+dr,Wg="__reactHandles$"+dr;function Mn(e){var n=e[Vt];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Yt]||s[Vt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Sd(e);e!==null;){if(s=e[Vt])return s;e=Sd(e)}return n}e=s,s=e.parentNode}return null}function hi(e){return e=e[Vt]||e[Yt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function Is(e){return e[fi]||null}var Ml=[],hr=-1;function mn(e){return{current:e}}function ye(e){0>hr||(e.current=Ml[hr],Ml[hr]=null,hr--)}function pe(e,n){hr++,Ml[hr]=e.current,e.current=n}var gn={},Je=mn(gn),ot=mn(!1),Fn=gn;function pr(e,n){var s=e.type.contextTypes;if(!s)return gn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var u={},d;for(d in s)u[d]=n[d];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=u),u}function lt(e){return e=e.childContextTypes,e!=null}function Ts(){ye(ot),ye(Je)}function kd(e,n,s){if(Je.current!==gn)throw Error(r(168));pe(Je,n),pe(ot,s)}function Id(e,n,s){var l=e.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return s;l=l.getChildContext();for(var u in l)if(!(u in n))throw Error(r(108,he(e)||"Unknown",u));return U({},s,l)}function Ns(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gn,Fn=Je.current,pe(Je,e),pe(ot,ot.current),!0}function Td(e,n,s){var l=e.stateNode;if(!l)throw Error(r(169));s?(e=Id(e,n,Fn),l.__reactInternalMemoizedMergedChildContext=e,ye(ot),ye(Je),pe(Je,e)):ye(ot),pe(ot,s)}var qt=null,xs=!1,Fl=!1;function Nd(e){qt===null?qt=[e]:qt.push(e)}function Hg(e){xs=!0,Nd(e)}function _n(){if(!Fl&&qt!==null){Fl=!0;var e=0,n=de;try{var s=qt;for(de=1;e<s.length;e++){var l=s[e];do l=l(!0);while(l!==null)}qt=null,xs=!1}catch(u){throw qt!==null&&(qt=qt.slice(e+1)),Rc(il,_n),u}finally{de=n,Fl=!1}}return null}var mr=[],gr=0,Rs=null,Ps=0,wt=[],Et=0,zn=null,Xt=1,Jt="";function Un(e,n){mr[gr++]=Ps,mr[gr++]=Rs,Rs=e,Ps=n}function xd(e,n,s){wt[Et++]=Xt,wt[Et++]=Jt,wt[Et++]=zn,zn=e;var l=Xt;e=Jt;var u=32-Rt(l)-1;l&=~(1<<u),s+=1;var d=32-Rt(n)+u;if(30<d){var h=u-u%5;d=(l&(1<<h)-1).toString(32),l>>=h,u-=h,Xt=1<<32-Rt(n)+u|s<<u|l,Jt=d+e}else Xt=1<<d|s<<u|l,Jt=e}function zl(e){e.return!==null&&(Un(e,1),xd(e,1,0))}function Ul(e){for(;e===Rs;)Rs=mr[--gr],mr[gr]=null,Ps=mr[--gr],mr[gr]=null;for(;e===zn;)zn=wt[--Et],wt[Et]=null,Jt=wt[--Et],wt[Et]=null,Xt=wt[--Et],wt[Et]=null}var _t=null,vt=null,Ce=!1,Dt=null;function Rd(e,n){var s=It(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function Pd(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,_t=e,vt=pn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,_t=e,vt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=zn!==null?{id:Xt,overflow:Jt}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=It(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,_t=e,vt=null,!0):!1;default:return!1}}function Bl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function jl(e){if(Ce){var n=vt;if(n){var s=n;if(!Pd(e,n)){if(Bl(e))throw Error(r(418));n=pn(s.nextSibling);var l=_t;n&&Pd(e,n)?Rd(l,s):(e.flags=e.flags&-4097|2,Ce=!1,_t=e)}}else{if(Bl(e))throw Error(r(418));e.flags=e.flags&-4097|2,Ce=!1,_t=e}}}function Dd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;_t=e}function Ds(e){if(e!==_t)return!1;if(!Ce)return Dd(e),Ce=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Dl(e.type,e.memoizedProps)),n&&(n=vt)){if(Bl(e))throw Ad(),Error(r(418));for(;n;)Rd(e,n),n=pn(n.nextSibling)}if(Dd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){vt=pn(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}vt=null}}else vt=_t?pn(e.stateNode.nextSibling):null;return!0}function Ad(){for(var e=vt;e;)e=pn(e.nextSibling)}function _r(){vt=_t=null,Ce=!1}function Wl(e){Dt===null?Dt=[e]:Dt.push(e)}var Vg=Te.ReactCurrentBatchConfig;function pi(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(r(309));var l=s.stateNode}if(!l)throw Error(r(147,e));var u=l,d=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(h){var _=u.refs;h===null?delete _[d]:_[d]=h},n._stringRef=d,n)}if(typeof e!="string")throw Error(r(284));if(!s._owner)throw Error(r(290,e))}return e}function As(e,n){throw e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Od(e){var n=e._init;return n(e._payload)}function Ld(e){function n(C,y){if(e){var S=C.deletions;S===null?(C.deletions=[y],C.flags|=16):S.push(y)}}function s(C,y){if(!e)return null;for(;y!==null;)n(C,y),y=y.sibling;return null}function l(C,y){for(C=new Map;y!==null;)y.key!==null?C.set(y.key,y):C.set(y.index,y),y=y.sibling;return C}function u(C,y){return C=In(C,y),C.index=0,C.sibling=null,C}function d(C,y,S){return C.index=S,e?(S=C.alternate,S!==null?(S=S.index,S<y?(C.flags|=2,y):S):(C.flags|=2,y)):(C.flags|=1048576,y)}function h(C){return e&&C.alternate===null&&(C.flags|=2),C}function _(C,y,S,D){return y===null||y.tag!==6?(y=Aa(S,C.mode,D),y.return=C,y):(y=u(y,S),y.return=C,y)}function v(C,y,S,D){var W=S.type;return W===ie?R(C,y,S.props.children,D,S.key):y!==null&&(y.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===st&&Od(W)===y.type)?(D=u(y,S.props),D.ref=pi(C,y,S),D.return=C,D):(D=no(S.type,S.key,S.props,null,C.mode,D),D.ref=pi(C,y,S),D.return=C,D)}function T(C,y,S,D){return y===null||y.tag!==4||y.stateNode.containerInfo!==S.containerInfo||y.stateNode.implementation!==S.implementation?(y=Oa(S,C.mode,D),y.return=C,y):(y=u(y,S.children||[]),y.return=C,y)}function R(C,y,S,D,W){return y===null||y.tag!==7?(y=Qn(S,C.mode,D,W),y.return=C,y):(y=u(y,S),y.return=C,y)}function P(C,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Aa(""+y,C.mode,S),y.return=C,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case re:return S=no(y.type,y.key,y.props,null,C.mode,S),S.ref=pi(C,null,y),S.return=C,S;case H:return y=Oa(y,C.mode,S),y.return=C,y;case st:var D=y._init;return P(C,D(y._payload),S)}if(Vr(y)||G(y))return y=Qn(y,C.mode,S,null),y.return=C,y;As(C,y)}return null}function N(C,y,S,D){var W=y!==null?y.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return W!==null?null:_(C,y,""+S,D);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case re:return S.key===W?v(C,y,S,D):null;case H:return S.key===W?T(C,y,S,D):null;case st:return W=S._init,N(C,y,W(S._payload),D)}if(Vr(S)||G(S))return W!==null?null:R(C,y,S,D,null);As(C,S)}return null}function F(C,y,S,D,W){if(typeof D=="string"&&D!==""||typeof D=="number")return C=C.get(S)||null,_(y,C,""+D,W);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case re:return C=C.get(D.key===null?S:D.key)||null,v(y,C,D,W);case H:return C=C.get(D.key===null?S:D.key)||null,T(y,C,D,W);case st:var $=D._init;return F(C,y,S,$(D._payload),W)}if(Vr(D)||G(D))return C=C.get(S)||null,R(y,C,D,W,null);As(y,D)}return null}function B(C,y,S,D){for(var W=null,$=null,Q=y,q=y=0,He=null;Q!==null&&q<S.length;q++){Q.index>q?(He=Q,Q=null):He=Q.sibling;var ae=N(C,Q,S[q],D);if(ae===null){Q===null&&(Q=He);break}e&&Q&&ae.alternate===null&&n(C,Q),y=d(ae,y,q),$===null?W=ae:$.sibling=ae,$=ae,Q=He}if(q===S.length)return s(C,Q),Ce&&Un(C,q),W;if(Q===null){for(;q<S.length;q++)Q=P(C,S[q],D),Q!==null&&(y=d(Q,y,q),$===null?W=Q:$.sibling=Q,$=Q);return Ce&&Un(C,q),W}for(Q=l(C,Q);q<S.length;q++)He=F(Q,C,q,S[q],D),He!==null&&(e&&He.alternate!==null&&Q.delete(He.key===null?q:He.key),y=d(He,y,q),$===null?W=He:$.sibling=He,$=He);return e&&Q.forEach(function(Tn){return n(C,Tn)}),Ce&&Un(C,q),W}function j(C,y,S,D){var W=G(S);if(typeof W!="function")throw Error(r(150));if(S=W.call(S),S==null)throw Error(r(151));for(var $=W=null,Q=y,q=y=0,He=null,ae=S.next();Q!==null&&!ae.done;q++,ae=S.next()){Q.index>q?(He=Q,Q=null):He=Q.sibling;var Tn=N(C,Q,ae.value,D);if(Tn===null){Q===null&&(Q=He);break}e&&Q&&Tn.alternate===null&&n(C,Q),y=d(Tn,y,q),$===null?W=Tn:$.sibling=Tn,$=Tn,Q=He}if(ae.done)return s(C,Q),Ce&&Un(C,q),W;if(Q===null){for(;!ae.done;q++,ae=S.next())ae=P(C,ae.value,D),ae!==null&&(y=d(ae,y,q),$===null?W=ae:$.sibling=ae,$=ae);return Ce&&Un(C,q),W}for(Q=l(C,Q);!ae.done;q++,ae=S.next())ae=F(Q,C,q,ae.value,D),ae!==null&&(e&&ae.alternate!==null&&Q.delete(ae.key===null?q:ae.key),y=d(ae,y,q),$===null?W=ae:$.sibling=ae,$=ae);return e&&Q.forEach(function(C_){return n(C,C_)}),Ce&&Un(C,q),W}function Ae(C,y,S,D){if(typeof S=="object"&&S!==null&&S.type===ie&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case re:e:{for(var W=S.key,$=y;$!==null;){if($.key===W){if(W=S.type,W===ie){if($.tag===7){s(C,$.sibling),y=u($,S.props.children),y.return=C,C=y;break e}}else if($.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===st&&Od(W)===$.type){s(C,$.sibling),y=u($,S.props),y.ref=pi(C,$,S),y.return=C,C=y;break e}s(C,$);break}else n(C,$);$=$.sibling}S.type===ie?(y=Qn(S.props.children,C.mode,D,S.key),y.return=C,C=y):(D=no(S.type,S.key,S.props,null,C.mode,D),D.ref=pi(C,y,S),D.return=C,C=D)}return h(C);case H:e:{for($=S.key;y!==null;){if(y.key===$)if(y.tag===4&&y.stateNode.containerInfo===S.containerInfo&&y.stateNode.implementation===S.implementation){s(C,y.sibling),y=u(y,S.children||[]),y.return=C,C=y;break e}else{s(C,y);break}else n(C,y);y=y.sibling}y=Oa(S,C.mode,D),y.return=C,C=y}return h(C);case st:return $=S._init,Ae(C,y,$(S._payload),D)}if(Vr(S))return B(C,y,S,D);if(G(S))return j(C,y,S,D);As(C,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,y!==null&&y.tag===6?(s(C,y.sibling),y=u(y,S),y.return=C,C=y):(s(C,y),y=Aa(S,C.mode,D),y.return=C,C=y),h(C)):s(C,y)}return Ae}var vr=Ld(!0),Md=Ld(!1),Os=mn(null),Ls=null,yr=null,Hl=null;function Vl(){Hl=yr=Ls=null}function bl(e){var n=Os.current;ye(Os),e._currentValue=n}function $l(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function wr(e,n){Ls=e,Hl=yr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(at=!0),e.firstContext=null)}function Ct(e){var n=e._currentValue;if(Hl!==e)if(e={context:e,memoizedValue:n,next:null},yr===null){if(Ls===null)throw Error(r(308));yr=e,Ls.dependencies={lanes:0,firstContext:e}}else yr=yr.next=e;return n}var Bn=null;function Ql(e){Bn===null?Bn=[e]:Bn.push(e)}function Fd(e,n,s,l){var u=n.interleaved;return u===null?(s.next=s,Ql(n)):(s.next=u.next,u.next=s),n.interleaved=s,Zt(e,l)}function Zt(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var vn=!1;function Gl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zd(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function en(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function yn(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,se&2){var u=l.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),l.pending=n,Zt(e,s)}return u=l.interleaved,u===null?(n.next=n,Ql(l)):(n.next=u.next,u.next=n),l.interleaved=n,Zt(e,s)}function Ms(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,ll(e,s)}}function Ud(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var u=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var h={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};d===null?u=d=h:d=d.next=h,s=s.next}while(s!==null);d===null?u=d=n:d=d.next=n}else u=d=n;s={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:l.shared,effects:l.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function Fs(e,n,s,l){var u=e.updateQueue;vn=!1;var d=u.firstBaseUpdate,h=u.lastBaseUpdate,_=u.shared.pending;if(_!==null){u.shared.pending=null;var v=_,T=v.next;v.next=null,h===null?d=T:h.next=T,h=v;var R=e.alternate;R!==null&&(R=R.updateQueue,_=R.lastBaseUpdate,_!==h&&(_===null?R.firstBaseUpdate=T:_.next=T,R.lastBaseUpdate=v))}if(d!==null){var P=u.baseState;h=0,R=T=v=null,_=d;do{var N=_.lane,F=_.eventTime;if((l&N)===N){R!==null&&(R=R.next={eventTime:F,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var B=e,j=_;switch(N=n,F=s,j.tag){case 1:if(B=j.payload,typeof B=="function"){P=B.call(F,P,N);break e}P=B;break e;case 3:B.flags=B.flags&-65537|128;case 0:if(B=j.payload,N=typeof B=="function"?B.call(F,P,N):B,N==null)break e;P=U({},P,N);break e;case 2:vn=!0}}_.callback!==null&&_.lane!==0&&(e.flags|=64,N=u.effects,N===null?u.effects=[_]:N.push(_))}else F={eventTime:F,lane:N,tag:_.tag,payload:_.payload,callback:_.callback,next:null},R===null?(T=R=F,v=P):R=R.next=F,h|=N;if(_=_.next,_===null){if(_=u.shared.pending,_===null)break;N=_,_=N.next,N.next=null,u.lastBaseUpdate=N,u.shared.pending=null}}while(!0);if(R===null&&(v=P),u.baseState=v,u.firstBaseUpdate=T,u.lastBaseUpdate=R,n=u.shared.interleaved,n!==null){u=n;do h|=u.lane,u=u.next;while(u!==n)}else d===null&&(u.shared.lanes=0);Hn|=h,e.lanes=h,e.memoizedState=P}}function Bd(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var l=e[n],u=l.callback;if(u!==null){if(l.callback=null,l=s,typeof u!="function")throw Error(r(191,u));u.call(l)}}}var mi={},bt=mn(mi),gi=mn(mi),_i=mn(mi);function jn(e){if(e===mi)throw Error(r(174));return e}function Kl(e,n){switch(pe(_i,n),pe(gi,e),pe(bt,mi),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Yo(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Yo(n,e)}ye(bt),pe(bt,n)}function Er(){ye(bt),ye(gi),ye(_i)}function jd(e){jn(_i.current);var n=jn(bt.current),s=Yo(n,e.type);n!==s&&(pe(gi,e),pe(bt,s))}function Yl(e){gi.current===e&&(ye(bt),ye(gi))}var ke=mn(0);function zs(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ql=[];function Xl(){for(var e=0;e<ql.length;e++)ql[e]._workInProgressVersionPrimary=null;ql.length=0}var Us=Te.ReactCurrentDispatcher,Jl=Te.ReactCurrentBatchConfig,Wn=0,Ie=null,Ue=null,je=null,Bs=!1,vi=!1,yi=0,bg=0;function Ze(){throw Error(r(321))}function Zl(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Pt(e[s],n[s]))return!1;return!0}function ea(e,n,s,l,u,d){if(Wn=d,Ie=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Us.current=e===null||e.memoizedState===null?Kg:Yg,e=s(l,u),vi){d=0;do{if(vi=!1,yi=0,25<=d)throw Error(r(301));d+=1,je=Ue=null,n.updateQueue=null,Us.current=qg,e=s(l,u)}while(vi)}if(Us.current=Hs,n=Ue!==null&&Ue.next!==null,Wn=0,je=Ue=Ie=null,Bs=!1,n)throw Error(r(300));return e}function ta(){var e=yi!==0;return yi=0,e}function $t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?Ie.memoizedState=je=e:je=je.next=e,je}function St(){if(Ue===null){var e=Ie.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var n=je===null?Ie.memoizedState:je.next;if(n!==null)je=n,Ue=e;else{if(e===null)throw Error(r(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},je===null?Ie.memoizedState=je=e:je=je.next=e}return je}function wi(e,n){return typeof n=="function"?n(e):n}function na(e){var n=St(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=Ue,u=l.baseQueue,d=s.pending;if(d!==null){if(u!==null){var h=u.next;u.next=d.next,d.next=h}l.baseQueue=u=d,s.pending=null}if(u!==null){d=u.next,l=l.baseState;var _=h=null,v=null,T=d;do{var R=T.lane;if((Wn&R)===R)v!==null&&(v=v.next={lane:0,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),l=T.hasEagerState?T.eagerState:e(l,T.action);else{var P={lane:R,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null};v===null?(_=v=P,h=l):v=v.next=P,Ie.lanes|=R,Hn|=R}T=T.next}while(T!==null&&T!==d);v===null?h=l:v.next=_,Pt(l,n.memoizedState)||(at=!0),n.memoizedState=l,n.baseState=h,n.baseQueue=v,s.lastRenderedState=l}if(e=s.interleaved,e!==null){u=e;do d=u.lane,Ie.lanes|=d,Hn|=d,u=u.next;while(u!==e)}else u===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function ra(e){var n=St(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=s.dispatch,u=s.pending,d=n.memoizedState;if(u!==null){s.pending=null;var h=u=u.next;do d=e(d,h.action),h=h.next;while(h!==u);Pt(d,n.memoizedState)||(at=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,l]}function Wd(){}function Hd(e,n){var s=Ie,l=St(),u=n(),d=!Pt(l.memoizedState,u);if(d&&(l.memoizedState=u,at=!0),l=l.queue,ia($d.bind(null,s,l,e),[e]),l.getSnapshot!==n||d||je!==null&&je.memoizedState.tag&1){if(s.flags|=2048,Ei(9,bd.bind(null,s,l,u,n),void 0,null),We===null)throw Error(r(349));Wn&30||Vd(s,n,u)}return u}function Vd(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Ie.updateQueue,n===null?(n={lastEffect:null,stores:null},Ie.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function bd(e,n,s,l){n.value=s,n.getSnapshot=l,Qd(n)&&Gd(e)}function $d(e,n,s){return s(function(){Qd(n)&&Gd(e)})}function Qd(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Pt(e,s)}catch{return!0}}function Gd(e){var n=Zt(e,1);n!==null&&Mt(n,e,1,-1)}function Kd(e){var n=$t();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:e},n.queue=e,e=e.dispatch=Gg.bind(null,Ie,e),[n.memoizedState,e]}function Ei(e,n,s,l){return e={tag:e,create:n,destroy:s,deps:l,next:null},n=Ie.updateQueue,n===null?(n={lastEffect:null,stores:null},Ie.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e)),e}function Yd(){return St().memoizedState}function js(e,n,s,l){var u=$t();Ie.flags|=e,u.memoizedState=Ei(1|n,s,void 0,l===void 0?null:l)}function Ws(e,n,s,l){var u=St();l=l===void 0?null:l;var d=void 0;if(Ue!==null){var h=Ue.memoizedState;if(d=h.destroy,l!==null&&Zl(l,h.deps)){u.memoizedState=Ei(n,s,d,l);return}}Ie.flags|=e,u.memoizedState=Ei(1|n,s,d,l)}function qd(e,n){return js(8390656,8,e,n)}function ia(e,n){return Ws(2048,8,e,n)}function Xd(e,n){return Ws(4,2,e,n)}function Jd(e,n){return Ws(4,4,e,n)}function Zd(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ef(e,n,s){return s=s!=null?s.concat([e]):null,Ws(4,4,Zd.bind(null,n,e),s)}function sa(){}function tf(e,n){var s=St();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&Zl(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function nf(e,n){var s=St();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&Zl(n,l[1])?l[0]:(e=e(),s.memoizedState=[e,n],e)}function rf(e,n,s){return Wn&21?(Pt(s,n)||(s=Oc(),Ie.lanes|=s,Hn|=s,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,at=!0),e.memoizedState=s)}function $g(e,n){var s=de;de=s!==0&&4>s?s:4,e(!0);var l=Jl.transition;Jl.transition={};try{e(!1),n()}finally{de=s,Jl.transition=l}}function sf(){return St().memoizedState}function Qg(e,n,s){var l=Sn(e);if(s={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null},of(e))lf(n,s);else if(s=Fd(e,n,s,l),s!==null){var u=rt();Mt(s,e,l,u),af(s,n,l)}}function Gg(e,n,s){var l=Sn(e),u={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null};if(of(e))lf(n,u);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var h=n.lastRenderedState,_=d(h,s);if(u.hasEagerState=!0,u.eagerState=_,Pt(_,h)){var v=n.interleaved;v===null?(u.next=u,Ql(n)):(u.next=v.next,v.next=u),n.interleaved=u;return}}catch{}finally{}s=Fd(e,n,u,l),s!==null&&(u=rt(),Mt(s,e,l,u),af(s,n,l))}}function of(e){var n=e.alternate;return e===Ie||n!==null&&n===Ie}function lf(e,n){vi=Bs=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function af(e,n,s){if(s&4194240){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,ll(e,s)}}var Hs={readContext:Ct,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},Kg={readContext:Ct,useCallback:function(e,n){return $t().memoizedState=[e,n===void 0?null:n],e},useContext:Ct,useEffect:qd,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,js(4194308,4,Zd.bind(null,n,e),s)},useLayoutEffect:function(e,n){return js(4194308,4,e,n)},useInsertionEffect:function(e,n){return js(4,2,e,n)},useMemo:function(e,n){var s=$t();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var l=$t();return n=s!==void 0?s(n):n,l.memoizedState=l.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=Qg.bind(null,Ie,e),[l.memoizedState,e]},useRef:function(e){var n=$t();return e={current:e},n.memoizedState=e},useState:Kd,useDebugValue:sa,useDeferredValue:function(e){return $t().memoizedState=e},useTransition:function(){var e=Kd(!1),n=e[0];return e=$g.bind(null,e[1]),$t().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var l=Ie,u=$t();if(Ce){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),We===null)throw Error(r(349));Wn&30||Vd(l,n,s)}u.memoizedState=s;var d={value:s,getSnapshot:n};return u.queue=d,qd($d.bind(null,l,d,e),[e]),l.flags|=2048,Ei(9,bd.bind(null,l,d,s,n),void 0,null),s},useId:function(){var e=$t(),n=We.identifierPrefix;if(Ce){var s=Jt,l=Xt;s=(l&~(1<<32-Rt(l)-1)).toString(32)+s,n=":"+n+"R"+s,s=yi++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=bg++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Yg={readContext:Ct,useCallback:tf,useContext:Ct,useEffect:ia,useImperativeHandle:ef,useInsertionEffect:Xd,useLayoutEffect:Jd,useMemo:nf,useReducer:na,useRef:Yd,useState:function(){return na(wi)},useDebugValue:sa,useDeferredValue:function(e){var n=St();return rf(n,Ue.memoizedState,e)},useTransition:function(){var e=na(wi)[0],n=St().memoizedState;return[e,n]},useMutableSource:Wd,useSyncExternalStore:Hd,useId:sf,unstable_isNewReconciler:!1},qg={readContext:Ct,useCallback:tf,useContext:Ct,useEffect:ia,useImperativeHandle:ef,useInsertionEffect:Xd,useLayoutEffect:Jd,useMemo:nf,useReducer:ra,useRef:Yd,useState:function(){return ra(wi)},useDebugValue:sa,useDeferredValue:function(e){var n=St();return Ue===null?n.memoizedState=e:rf(n,Ue.memoizedState,e)},useTransition:function(){var e=ra(wi)[0],n=St().memoizedState;return[e,n]},useMutableSource:Wd,useSyncExternalStore:Hd,useId:sf,unstable_isNewReconciler:!1};function At(e,n){if(e&&e.defaultProps){n=U({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function oa(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:U({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Vs={isMounted:function(e){return(e=e._reactInternals)?Ln(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var l=rt(),u=Sn(e),d=en(l,u);d.payload=n,s!=null&&(d.callback=s),n=yn(e,d,u),n!==null&&(Mt(n,e,u,l),Ms(n,e,u))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=rt(),u=Sn(e),d=en(l,u);d.tag=1,d.payload=n,s!=null&&(d.callback=s),n=yn(e,d,u),n!==null&&(Mt(n,e,u,l),Ms(n,e,u))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=rt(),l=Sn(e),u=en(s,l);u.tag=2,n!=null&&(u.callback=n),n=yn(e,u,l),n!==null&&(Mt(n,e,l,s),Ms(n,e,l))}};function uf(e,n,s,l,u,d,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,h):n.prototype&&n.prototype.isPureReactComponent?!li(s,l)||!li(u,d):!0}function cf(e,n,s){var l=!1,u=gn,d=n.contextType;return typeof d=="object"&&d!==null?d=Ct(d):(u=lt(n)?Fn:Je.current,l=n.contextTypes,d=(l=l!=null)?pr(e,u):gn),n=new n(s,d),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Vs,e.stateNode=n,n._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=d),n}function df(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Vs.enqueueReplaceState(n,n.state,null)}function la(e,n,s,l){var u=e.stateNode;u.props=s,u.state=e.memoizedState,u.refs={},Gl(e);var d=n.contextType;typeof d=="object"&&d!==null?u.context=Ct(d):(d=lt(n)?Fn:Je.current,u.context=pr(e,d)),u.state=e.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(oa(e,n,d,s),u.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(n=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),n!==u.state&&Vs.enqueueReplaceState(u,u.state,null),Fs(e,s,u,l),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function Cr(e,n){try{var s="",l=n;do s+=oe(l),l=l.return;while(l);var u=s}catch(d){u=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:n,stack:u,digest:null}}function aa(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function ua(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var Xg=typeof WeakMap=="function"?WeakMap:Map;function ff(e,n,s){s=en(-1,s),s.tag=3,s.payload={element:null};var l=n.value;return s.callback=function(){qs||(qs=!0,ka=l),ua(e,n)},s}function hf(e,n,s){s=en(-1,s),s.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var u=n.value;s.payload=function(){return l(u)},s.callback=function(){ua(e,n)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(s.callback=function(){ua(e,n),typeof l!="function"&&(En===null?En=new Set([this]):En.add(this));var h=n.stack;this.componentDidCatch(n.value,{componentStack:h!==null?h:""})}),s}function pf(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new Xg;var u=new Set;l.set(n,u)}else u=l.get(n),u===void 0&&(u=new Set,l.set(n,u));u.has(s)||(u.add(s),e=d_.bind(null,e,n,s),n.then(e,e))}function mf(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function gf(e,n,s,l,u){return e.mode&1?(e.flags|=65536,e.lanes=u,e):(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=en(-1,1),n.tag=2,yn(s,n,1))),s.lanes|=1),e)}var Jg=Te.ReactCurrentOwner,at=!1;function nt(e,n,s,l){n.child=e===null?Md(n,null,s,l):vr(n,e.child,s,l)}function _f(e,n,s,l,u){s=s.render;var d=n.ref;return wr(n,u),l=ea(e,n,s,l,d,u),s=ta(),e!==null&&!at?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,tn(e,n,u)):(Ce&&s&&zl(n),n.flags|=1,nt(e,n,l,u),n.child)}function vf(e,n,s,l,u){if(e===null){var d=s.type;return typeof d=="function"&&!Da(d)&&d.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=d,yf(e,n,d,l,u)):(e=no(s.type,null,l,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!(e.lanes&u)){var h=d.memoizedProps;if(s=s.compare,s=s!==null?s:li,s(h,l)&&e.ref===n.ref)return tn(e,n,u)}return n.flags|=1,e=In(d,l),e.ref=n.ref,e.return=n,n.child=e}function yf(e,n,s,l,u){if(e!==null){var d=e.memoizedProps;if(li(d,l)&&e.ref===n.ref)if(at=!1,n.pendingProps=l=d,(e.lanes&u)!==0)e.flags&131072&&(at=!0);else return n.lanes=e.lanes,tn(e,n,u)}return ca(e,n,s,l,u)}function wf(e,n,s){var l=n.pendingProps,u=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(kr,yt),yt|=s;else{if(!(s&1073741824))return e=d!==null?d.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,pe(kr,yt),yt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=d!==null?d.baseLanes:s,pe(kr,yt),yt|=l}else d!==null?(l=d.baseLanes|s,n.memoizedState=null):l=s,pe(kr,yt),yt|=l;return nt(e,n,u,s),n.child}function Ef(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function ca(e,n,s,l,u){var d=lt(s)?Fn:Je.current;return d=pr(n,d),wr(n,u),s=ea(e,n,s,l,d,u),l=ta(),e!==null&&!at?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,tn(e,n,u)):(Ce&&l&&zl(n),n.flags|=1,nt(e,n,s,u),n.child)}function Cf(e,n,s,l,u){if(lt(s)){var d=!0;Ns(n)}else d=!1;if(wr(n,u),n.stateNode===null)$s(e,n),cf(n,s,l),la(n,s,l,u),l=!0;else if(e===null){var h=n.stateNode,_=n.memoizedProps;h.props=_;var v=h.context,T=s.contextType;typeof T=="object"&&T!==null?T=Ct(T):(T=lt(s)?Fn:Je.current,T=pr(n,T));var R=s.getDerivedStateFromProps,P=typeof R=="function"||typeof h.getSnapshotBeforeUpdate=="function";P||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_!==l||v!==T)&&df(n,h,l,T),vn=!1;var N=n.memoizedState;h.state=N,Fs(n,l,h,u),v=n.memoizedState,_!==l||N!==v||ot.current||vn?(typeof R=="function"&&(oa(n,s,R,l),v=n.memoizedState),(_=vn||uf(n,s,_,l,N,v,T))?(P||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=v),h.props=l,h.state=v,h.context=T,l=_):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,zd(e,n),_=n.memoizedProps,T=n.type===n.elementType?_:At(n.type,_),h.props=T,P=n.pendingProps,N=h.context,v=s.contextType,typeof v=="object"&&v!==null?v=Ct(v):(v=lt(s)?Fn:Je.current,v=pr(n,v));var F=s.getDerivedStateFromProps;(R=typeof F=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_!==P||N!==v)&&df(n,h,l,v),vn=!1,N=n.memoizedState,h.state=N,Fs(n,l,h,u);var B=n.memoizedState;_!==P||N!==B||ot.current||vn?(typeof F=="function"&&(oa(n,s,F,l),B=n.memoizedState),(T=vn||uf(n,s,T,l,N,B,v)||!1)?(R||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,B,v),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,B,v)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||_===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),h.props=l,h.state=B,h.context=v,l=T):(typeof h.componentDidUpdate!="function"||_===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),l=!1)}return da(e,n,s,l,d,u)}function da(e,n,s,l,u,d){Ef(e,n);var h=(n.flags&128)!==0;if(!l&&!h)return u&&Td(n,s,!1),tn(e,n,d);l=n.stateNode,Jg.current=n;var _=h&&typeof s.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,e!==null&&h?(n.child=vr(n,e.child,null,d),n.child=vr(n,null,_,d)):nt(e,n,_,d),n.memoizedState=l.state,u&&Td(n,s,!0),n.child}function Sf(e){var n=e.stateNode;n.pendingContext?kd(e,n.pendingContext,n.pendingContext!==n.context):n.context&&kd(e,n.context,!1),Kl(e,n.containerInfo)}function kf(e,n,s,l,u){return _r(),Wl(u),n.flags|=256,nt(e,n,s,l),n.child}var fa={dehydrated:null,treeContext:null,retryLane:0};function ha(e){return{baseLanes:e,cachePool:null,transitions:null}}function If(e,n,s){var l=n.pendingProps,u=ke.current,d=!1,h=(n.flags&128)!==0,_;if((_=h)||(_=e!==null&&e.memoizedState===null?!1:(u&2)!==0),_?(d=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),pe(ke,u&1),e===null)return jl(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(h=l.children,e=l.fallback,d?(l=n.mode,d=n.child,h={mode:"hidden",children:h},!(l&1)&&d!==null?(d.childLanes=0,d.pendingProps=h):d=ro(h,l,0,null),e=Qn(e,l,s,null),d.return=n,e.return=n,d.sibling=e,n.child=d,n.child.memoizedState=ha(s),n.memoizedState=fa,e):pa(n,h));if(u=e.memoizedState,u!==null&&(_=u.dehydrated,_!==null))return Zg(e,n,h,l,_,u,s);if(d){d=l.fallback,h=n.mode,u=e.child,_=u.sibling;var v={mode:"hidden",children:l.children};return!(h&1)&&n.child!==u?(l=n.child,l.childLanes=0,l.pendingProps=v,n.deletions=null):(l=In(u,v),l.subtreeFlags=u.subtreeFlags&14680064),_!==null?d=In(_,d):(d=Qn(d,h,s,null),d.flags|=2),d.return=n,l.return=n,l.sibling=d,n.child=l,l=d,d=n.child,h=e.child.memoizedState,h=h===null?ha(s):{baseLanes:h.baseLanes|s,cachePool:null,transitions:h.transitions},d.memoizedState=h,d.childLanes=e.childLanes&~s,n.memoizedState=fa,l}return d=e.child,e=d.sibling,l=In(d,{mode:"visible",children:l.children}),!(n.mode&1)&&(l.lanes=s),l.return=n,l.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=l,n.memoizedState=null,l}function pa(e,n){return n=ro({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function bs(e,n,s,l){return l!==null&&Wl(l),vr(n,e.child,null,s),e=pa(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Zg(e,n,s,l,u,d,h){if(s)return n.flags&256?(n.flags&=-257,l=aa(Error(r(422))),bs(e,n,h,l)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(d=l.fallback,u=n.mode,l=ro({mode:"visible",children:l.children},u,0,null),d=Qn(d,u,h,null),d.flags|=2,l.return=n,d.return=n,l.sibling=d,n.child=l,n.mode&1&&vr(n,e.child,null,h),n.child.memoizedState=ha(h),n.memoizedState=fa,d);if(!(n.mode&1))return bs(e,n,h,null);if(u.data==="$!"){if(l=u.nextSibling&&u.nextSibling.dataset,l)var _=l.dgst;return l=_,d=Error(r(419)),l=aa(d,l,void 0),bs(e,n,h,l)}if(_=(h&e.childLanes)!==0,at||_){if(l=We,l!==null){switch(h&-h){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=u&(l.suspendedLanes|h)?0:u,u!==0&&u!==d.retryLane&&(d.retryLane=u,Zt(e,u),Mt(l,e,u,-1))}return Pa(),l=aa(Error(r(421))),bs(e,n,h,l)}return u.data==="$?"?(n.flags|=128,n.child=e.child,n=f_.bind(null,e),u._reactRetry=n,null):(e=d.treeContext,vt=pn(u.nextSibling),_t=n,Ce=!0,Dt=null,e!==null&&(wt[Et++]=Xt,wt[Et++]=Jt,wt[Et++]=zn,Xt=e.id,Jt=e.overflow,zn=n),n=pa(n,l.children),n.flags|=4096,n)}function Tf(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),$l(e.return,n,s)}function ma(e,n,s,l,u){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:u}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=u)}function Nf(e,n,s){var l=n.pendingProps,u=l.revealOrder,d=l.tail;if(nt(e,n,l.children,s),l=ke.current,l&2)l=l&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tf(e,s,n);else if(e.tag===19)Tf(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(pe(ke,l),!(n.mode&1))n.memoizedState=null;else switch(u){case"forwards":for(s=n.child,u=null;s!==null;)e=s.alternate,e!==null&&zs(e)===null&&(u=s),s=s.sibling;s=u,s===null?(u=n.child,n.child=null):(u=s.sibling,s.sibling=null),ma(n,!1,u,s,d);break;case"backwards":for(s=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&zs(e)===null){n.child=u;break}e=u.sibling,u.sibling=s,s=u,u=e}ma(n,!0,s,null,d);break;case"together":ma(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function $s(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function tn(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Hn|=n.lanes,!(s&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=In(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=In(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function e_(e,n,s){switch(n.tag){case 3:Sf(n),_r();break;case 5:jd(n);break;case 1:lt(n.type)&&Ns(n);break;case 4:Kl(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,u=n.memoizedProps.value;pe(Os,l._currentValue),l._currentValue=u;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(pe(ke,ke.current&1),n.flags|=128,null):s&n.child.childLanes?If(e,n,s):(pe(ke,ke.current&1),e=tn(e,n,s),e!==null?e.sibling:null);pe(ke,ke.current&1);break;case 19:if(l=(s&n.childLanes)!==0,e.flags&128){if(l)return Nf(e,n,s);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),pe(ke,ke.current),l)break;return null;case 22:case 23:return n.lanes=0,wf(e,n,s)}return tn(e,n,s)}var xf,ga,Rf,Pf;xf=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},ga=function(){},Rf=function(e,n,s,l){var u=e.memoizedProps;if(u!==l){e=n.stateNode,jn(bt.current);var d=null;switch(s){case"input":u=$o(e,u),l=$o(e,l),d=[];break;case"select":u=U({},u,{value:void 0}),l=U({},l,{value:void 0}),d=[];break;case"textarea":u=Ko(e,u),l=Ko(e,l),d=[];break;default:typeof u.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=ks)}qo(s,l);var h;s=null;for(T in u)if(!l.hasOwnProperty(T)&&u.hasOwnProperty(T)&&u[T]!=null)if(T==="style"){var _=u[T];for(h in _)_.hasOwnProperty(h)&&(s||(s={}),s[h]="")}else T!=="dangerouslySetInnerHTML"&&T!=="children"&&T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(a.hasOwnProperty(T)?d||(d=[]):(d=d||[]).push(T,null));for(T in l){var v=l[T];if(_=u!=null?u[T]:void 0,l.hasOwnProperty(T)&&v!==_&&(v!=null||_!=null))if(T==="style")if(_){for(h in _)!_.hasOwnProperty(h)||v&&v.hasOwnProperty(h)||(s||(s={}),s[h]="");for(h in v)v.hasOwnProperty(h)&&_[h]!==v[h]&&(s||(s={}),s[h]=v[h])}else s||(d||(d=[]),d.push(T,s)),s=v;else T==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,_=_?_.__html:void 0,v!=null&&_!==v&&(d=d||[]).push(T,v)):T==="children"?typeof v!="string"&&typeof v!="number"||(d=d||[]).push(T,""+v):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&(a.hasOwnProperty(T)?(v!=null&&T==="onScroll"&&ve("scroll",e),d||_===v||(d=[])):(d=d||[]).push(T,v))}s&&(d=d||[]).push("style",s);var T=d;(n.updateQueue=T)&&(n.flags|=4)}},Pf=function(e,n,s,l){s!==l&&(n.flags|=4)};function Ci(e,n){if(!Ce)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function et(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var u=e.child;u!==null;)s|=u.lanes|u.childLanes,l|=u.subtreeFlags&14680064,l|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)s|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function t_(e,n,s){var l=n.pendingProps;switch(Ul(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(n),null;case 1:return lt(n.type)&&Ts(),et(n),null;case 3:return l=n.stateNode,Er(),ye(ot),ye(Je),Xl(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Ds(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Dt!==null&&(Na(Dt),Dt=null))),ga(e,n),et(n),null;case 5:Yl(n);var u=jn(_i.current);if(s=n.type,e!==null&&n.stateNode!=null)Rf(e,n,s,l,u),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(r(166));return et(n),null}if(e=jn(bt.current),Ds(n)){l=n.stateNode,s=n.type;var d=n.memoizedProps;switch(l[Vt]=n,l[fi]=d,e=(n.mode&1)!==0,s){case"dialog":ve("cancel",l),ve("close",l);break;case"iframe":case"object":case"embed":ve("load",l);break;case"video":case"audio":for(u=0;u<ui.length;u++)ve(ui[u],l);break;case"source":ve("error",l);break;case"img":case"image":case"link":ve("error",l),ve("load",l);break;case"details":ve("toggle",l);break;case"input":uc(l,d),ve("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!d.multiple},ve("invalid",l);break;case"textarea":fc(l,d),ve("invalid",l)}qo(s,d),u=null;for(var h in d)if(d.hasOwnProperty(h)){var _=d[h];h==="children"?typeof _=="string"?l.textContent!==_&&(d.suppressHydrationWarning!==!0&&Ss(l.textContent,_,e),u=["children",_]):typeof _=="number"&&l.textContent!==""+_&&(d.suppressHydrationWarning!==!0&&Ss(l.textContent,_,e),u=["children",""+_]):a.hasOwnProperty(h)&&_!=null&&h==="onScroll"&&ve("scroll",l)}switch(s){case"input":es(l),dc(l,d,!0);break;case"textarea":es(l),pc(l);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(l.onclick=ks)}l=u,n.updateQueue=l,l!==null&&(n.flags|=4)}else{h=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=mc(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=h.createElement(s,{is:l.is}):(e=h.createElement(s),s==="select"&&(h=e,l.multiple?h.multiple=!0:l.size&&(h.size=l.size))):e=h.createElementNS(e,s),e[Vt]=n,e[fi]=l,xf(e,n,!1,!1),n.stateNode=e;e:{switch(h=Xo(s,l),s){case"dialog":ve("cancel",e),ve("close",e),u=l;break;case"iframe":case"object":case"embed":ve("load",e),u=l;break;case"video":case"audio":for(u=0;u<ui.length;u++)ve(ui[u],e);u=l;break;case"source":ve("error",e),u=l;break;case"img":case"image":case"link":ve("error",e),ve("load",e),u=l;break;case"details":ve("toggle",e),u=l;break;case"input":uc(e,l),u=$o(e,l),ve("invalid",e);break;case"option":u=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},u=U({},l,{value:void 0}),ve("invalid",e);break;case"textarea":fc(e,l),u=Ko(e,l),ve("invalid",e);break;default:u=l}qo(s,u),_=u;for(d in _)if(_.hasOwnProperty(d)){var v=_[d];d==="style"?vc(e,v):d==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&gc(e,v)):d==="children"?typeof v=="string"?(s!=="textarea"||v!=="")&&br(e,v):typeof v=="number"&&br(e,""+v):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(a.hasOwnProperty(d)?v!=null&&d==="onScroll"&&ve("scroll",e):v!=null&&ze(e,d,v,h))}switch(s){case"input":es(e),dc(e,l,!1);break;case"textarea":es(e),pc(e);break;case"option":l.value!=null&&e.setAttribute("value",""+ce(l.value));break;case"select":e.multiple=!!l.multiple,d=l.value,d!=null?nr(e,!!l.multiple,d,!1):l.defaultValue!=null&&nr(e,!!l.multiple,l.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=ks)}switch(s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return et(n),null;case 6:if(e&&n.stateNode!=null)Pf(e,n,e.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(s=jn(_i.current),jn(bt.current),Ds(n)){if(l=n.stateNode,s=n.memoizedProps,l[Vt]=n,(d=l.nodeValue!==s)&&(e=_t,e!==null))switch(e.tag){case 3:Ss(l.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ss(l.nodeValue,s,(e.mode&1)!==0)}d&&(n.flags|=4)}else l=(s.nodeType===9?s:s.ownerDocument).createTextNode(l),l[Vt]=n,n.stateNode=l}return et(n),null;case 13:if(ye(ke),l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ce&&vt!==null&&n.mode&1&&!(n.flags&128))Ad(),_r(),n.flags|=98560,d=!1;else if(d=Ds(n),l!==null&&l.dehydrated!==null){if(e===null){if(!d)throw Error(r(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Vt]=n}else _r(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;et(n),d=!1}else Dt!==null&&(Na(Dt),Dt=null),d=!0;if(!d)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(n.child.flags|=8192,n.mode&1&&(e===null||ke.current&1?Be===0&&(Be=3):Pa())),n.updateQueue!==null&&(n.flags|=4),et(n),null);case 4:return Er(),ga(e,n),e===null&&ci(n.stateNode.containerInfo),et(n),null;case 10:return bl(n.type._context),et(n),null;case 17:return lt(n.type)&&Ts(),et(n),null;case 19:if(ye(ke),d=n.memoizedState,d===null)return et(n),null;if(l=(n.flags&128)!==0,h=d.rendering,h===null)if(l)Ci(d,!1);else{if(Be!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(h=zs(e),h!==null){for(n.flags|=128,Ci(d,!1),l=h.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=s,s=n.child;s!==null;)d=s,e=l,d.flags&=14680066,h=d.alternate,h===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=h.childLanes,d.lanes=h.lanes,d.child=h.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=h.memoizedProps,d.memoizedState=h.memoizedState,d.updateQueue=h.updateQueue,d.type=h.type,e=h.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return pe(ke,ke.current&1|2),n.child}e=e.sibling}d.tail!==null&&De()>Ir&&(n.flags|=128,l=!0,Ci(d,!1),n.lanes=4194304)}else{if(!l)if(e=zs(h),e!==null){if(n.flags|=128,l=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),Ci(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!Ce)return et(n),null}else 2*De()-d.renderingStartTime>Ir&&s!==1073741824&&(n.flags|=128,l=!0,Ci(d,!1),n.lanes=4194304);d.isBackwards?(h.sibling=n.child,n.child=h):(s=d.last,s!==null?s.sibling=h:n.child=h,d.last=h)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=De(),n.sibling=null,s=ke.current,pe(ke,l?s&1|2:s&1),n):(et(n),null);case 22:case 23:return Ra(),l=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(n.flags|=8192),l&&n.mode&1?yt&1073741824&&(et(n),n.subtreeFlags&6&&(n.flags|=8192)):et(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function n_(e,n){switch(Ul(n),n.tag){case 1:return lt(n.type)&&Ts(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Er(),ye(ot),ye(Je),Xl(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return Yl(n),null;case 13:if(ye(ke),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));_r()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ye(ke),null;case 4:return Er(),null;case 10:return bl(n.type._context),null;case 22:case 23:return Ra(),null;case 24:return null;default:return null}}var Qs=!1,tt=!1,r_=typeof WeakSet=="function"?WeakSet:Set,z=null;function Sr(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(l){xe(e,n,l)}else s.current=null}function _a(e,n,s){try{s()}catch(l){xe(e,n,l)}}var Df=!1;function i_(e,n){if(Rl=fs,e=ad(),El(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var u=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var h=0,_=-1,v=-1,T=0,R=0,P=e,N=null;t:for(;;){for(var F;P!==s||u!==0&&P.nodeType!==3||(_=h+u),P!==d||l!==0&&P.nodeType!==3||(v=h+l),P.nodeType===3&&(h+=P.nodeValue.length),(F=P.firstChild)!==null;)N=P,P=F;for(;;){if(P===e)break t;if(N===s&&++T===u&&(_=h),N===d&&++R===l&&(v=h),(F=P.nextSibling)!==null)break;P=N,N=P.parentNode}P=F}s=_===-1||v===-1?null:{start:_,end:v}}else s=null}s=s||{start:0,end:0}}else s=null;for(Pl={focusedElem:e,selectionRange:s},fs=!1,z=n;z!==null;)if(n=z,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,z=e;else for(;z!==null;){n=z;try{var B=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(B!==null){var j=B.memoizedProps,Ae=B.memoizedState,C=n.stateNode,y=C.getSnapshotBeforeUpdate(n.elementType===n.type?j:At(n.type,j),Ae);C.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var S=n.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(D){xe(n,n.return,D)}if(e=n.sibling,e!==null){e.return=n.return,z=e;break}z=n.return}return B=Df,Df=!1,B}function Si(e,n,s){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var u=l=l.next;do{if((u.tag&e)===e){var d=u.destroy;u.destroy=void 0,d!==void 0&&_a(n,s,d)}u=u.next}while(u!==l)}}function Gs(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var l=s.create;s.destroy=l()}s=s.next}while(s!==n)}}function va(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function Af(e){var n=e.alternate;n!==null&&(e.alternate=null,Af(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Vt],delete n[fi],delete n[Ll],delete n[jg],delete n[Wg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Of(e){return e.tag===5||e.tag===3||e.tag===4}function Lf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Of(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ya(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ks));else if(l!==4&&(e=e.child,e!==null))for(ya(e,n,s),e=e.sibling;e!==null;)ya(e,n,s),e=e.sibling}function wa(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(wa(e,n,s),e=e.sibling;e!==null;)wa(e,n,s),e=e.sibling}var Ke=null,Ot=!1;function wn(e,n,s){for(s=s.child;s!==null;)Mf(e,n,s),s=s.sibling}function Mf(e,n,s){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(os,s)}catch{}switch(s.tag){case 5:tt||Sr(s,n);case 6:var l=Ke,u=Ot;Ke=null,wn(e,n,s),Ke=l,Ot=u,Ke!==null&&(Ot?(e=Ke,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ke.removeChild(s.stateNode));break;case 18:Ke!==null&&(Ot?(e=Ke,s=s.stateNode,e.nodeType===8?Ol(e.parentNode,s):e.nodeType===1&&Ol(e,s),ti(e)):Ol(Ke,s.stateNode));break;case 4:l=Ke,u=Ot,Ke=s.stateNode.containerInfo,Ot=!0,wn(e,n,s),Ke=l,Ot=u;break;case 0:case 11:case 14:case 15:if(!tt&&(l=s.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){u=l=l.next;do{var d=u,h=d.destroy;d=d.tag,h!==void 0&&(d&2||d&4)&&_a(s,n,h),u=u.next}while(u!==l)}wn(e,n,s);break;case 1:if(!tt&&(Sr(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=s.memoizedProps,l.state=s.memoizedState,l.componentWillUnmount()}catch(_){xe(s,n,_)}wn(e,n,s);break;case 21:wn(e,n,s);break;case 22:s.mode&1?(tt=(l=tt)||s.memoizedState!==null,wn(e,n,s),tt=l):wn(e,n,s);break;default:wn(e,n,s)}}function Ff(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new r_),n.forEach(function(l){var u=h_.bind(null,e,l);s.has(l)||(s.add(l),l.then(u,u))})}}function Lt(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];try{var d=e,h=n,_=h;e:for(;_!==null;){switch(_.tag){case 5:Ke=_.stateNode,Ot=!1;break e;case 3:Ke=_.stateNode.containerInfo,Ot=!0;break e;case 4:Ke=_.stateNode.containerInfo,Ot=!0;break e}_=_.return}if(Ke===null)throw Error(r(160));Mf(d,h,u),Ke=null,Ot=!1;var v=u.alternate;v!==null&&(v.return=null),u.return=null}catch(T){xe(u,n,T)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)zf(n,e),n=n.sibling}function zf(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lt(n,e),Qt(e),l&4){try{Si(3,e,e.return),Gs(3,e)}catch(j){xe(e,e.return,j)}try{Si(5,e,e.return)}catch(j){xe(e,e.return,j)}}break;case 1:Lt(n,e),Qt(e),l&512&&s!==null&&Sr(s,s.return);break;case 5:if(Lt(n,e),Qt(e),l&512&&s!==null&&Sr(s,s.return),e.flags&32){var u=e.stateNode;try{br(u,"")}catch(j){xe(e,e.return,j)}}if(l&4&&(u=e.stateNode,u!=null)){var d=e.memoizedProps,h=s!==null?s.memoizedProps:d,_=e.type,v=e.updateQueue;if(e.updateQueue=null,v!==null)try{_==="input"&&d.type==="radio"&&d.name!=null&&cc(u,d),Xo(_,h);var T=Xo(_,d);for(h=0;h<v.length;h+=2){var R=v[h],P=v[h+1];R==="style"?vc(u,P):R==="dangerouslySetInnerHTML"?gc(u,P):R==="children"?br(u,P):ze(u,R,P,T)}switch(_){case"input":Qo(u,d);break;case"textarea":hc(u,d);break;case"select":var N=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!d.multiple;var F=d.value;F!=null?nr(u,!!d.multiple,F,!1):N!==!!d.multiple&&(d.defaultValue!=null?nr(u,!!d.multiple,d.defaultValue,!0):nr(u,!!d.multiple,d.multiple?[]:"",!1))}u[fi]=d}catch(j){xe(e,e.return,j)}}break;case 6:if(Lt(n,e),Qt(e),l&4){if(e.stateNode===null)throw Error(r(162));u=e.stateNode,d=e.memoizedProps;try{u.nodeValue=d}catch(j){xe(e,e.return,j)}}break;case 3:if(Lt(n,e),Qt(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{ti(n.containerInfo)}catch(j){xe(e,e.return,j)}break;case 4:Lt(n,e),Qt(e);break;case 13:Lt(n,e),Qt(e),u=e.child,u.flags&8192&&(d=u.memoizedState!==null,u.stateNode.isHidden=d,!d||u.alternate!==null&&u.alternate.memoizedState!==null||(Sa=De())),l&4&&Ff(e);break;case 22:if(R=s!==null&&s.memoizedState!==null,e.mode&1?(tt=(T=tt)||R,Lt(n,e),tt=T):Lt(n,e),Qt(e),l&8192){if(T=e.memoizedState!==null,(e.stateNode.isHidden=T)&&!R&&e.mode&1)for(z=e,R=e.child;R!==null;){for(P=z=R;z!==null;){switch(N=z,F=N.child,N.tag){case 0:case 11:case 14:case 15:Si(4,N,N.return);break;case 1:Sr(N,N.return);var B=N.stateNode;if(typeof B.componentWillUnmount=="function"){l=N,s=N.return;try{n=l,B.props=n.memoizedProps,B.state=n.memoizedState,B.componentWillUnmount()}catch(j){xe(l,s,j)}}break;case 5:Sr(N,N.return);break;case 22:if(N.memoizedState!==null){jf(P);continue}}F!==null?(F.return=N,z=F):jf(P)}R=R.sibling}e:for(R=null,P=e;;){if(P.tag===5){if(R===null){R=P;try{u=P.stateNode,T?(d=u.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(_=P.stateNode,v=P.memoizedProps.style,h=v!=null&&v.hasOwnProperty("display")?v.display:null,_.style.display=_c("display",h))}catch(j){xe(e,e.return,j)}}}else if(P.tag===6){if(R===null)try{P.stateNode.nodeValue=T?"":P.memoizedProps}catch(j){xe(e,e.return,j)}}else if((P.tag!==22&&P.tag!==23||P.memoizedState===null||P===e)&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===e)break e;for(;P.sibling===null;){if(P.return===null||P.return===e)break e;R===P&&(R=null),P=P.return}R===P&&(R=null),P.sibling.return=P.return,P=P.sibling}}break;case 19:Lt(n,e),Qt(e),l&4&&Ff(e);break;case 21:break;default:Lt(n,e),Qt(e)}}function Qt(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(Of(s)){var l=s;break e}s=s.return}throw Error(r(160))}switch(l.tag){case 5:var u=l.stateNode;l.flags&32&&(br(u,""),l.flags&=-33);var d=Lf(e);wa(e,d,u);break;case 3:case 4:var h=l.stateNode.containerInfo,_=Lf(e);ya(e,_,h);break;default:throw Error(r(161))}}catch(v){xe(e,e.return,v)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function s_(e,n,s){z=e,Uf(e)}function Uf(e,n,s){for(var l=(e.mode&1)!==0;z!==null;){var u=z,d=u.child;if(u.tag===22&&l){var h=u.memoizedState!==null||Qs;if(!h){var _=u.alternate,v=_!==null&&_.memoizedState!==null||tt;_=Qs;var T=tt;if(Qs=h,(tt=v)&&!T)for(z=u;z!==null;)h=z,v=h.child,h.tag===22&&h.memoizedState!==null?Wf(u):v!==null?(v.return=h,z=v):Wf(u);for(;d!==null;)z=d,Uf(d),d=d.sibling;z=u,Qs=_,tt=T}Bf(e)}else u.subtreeFlags&8772&&d!==null?(d.return=u,z=d):Bf(e)}}function Bf(e){for(;z!==null;){var n=z;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:tt||Gs(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!tt)if(s===null)l.componentDidMount();else{var u=n.elementType===n.type?s.memoizedProps:At(n.type,s.memoizedProps);l.componentDidUpdate(u,s.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&Bd(n,d,l);break;case 3:var h=n.updateQueue;if(h!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}Bd(n,h,s)}break;case 5:var _=n.stateNode;if(s===null&&n.flags&4){s=_;var v=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&s.focus();break;case"img":v.src&&(s.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var T=n.alternate;if(T!==null){var R=T.memoizedState;if(R!==null){var P=R.dehydrated;P!==null&&ti(P)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}tt||n.flags&512&&va(n)}catch(N){xe(n,n.return,N)}}if(n===e){z=null;break}if(s=n.sibling,s!==null){s.return=n.return,z=s;break}z=n.return}}function jf(e){for(;z!==null;){var n=z;if(n===e){z=null;break}var s=n.sibling;if(s!==null){s.return=n.return,z=s;break}z=n.return}}function Wf(e){for(;z!==null;){var n=z;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{Gs(4,n)}catch(v){xe(n,s,v)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var u=n.return;try{l.componentDidMount()}catch(v){xe(n,u,v)}}var d=n.return;try{va(n)}catch(v){xe(n,d,v)}break;case 5:var h=n.return;try{va(n)}catch(v){xe(n,h,v)}}}catch(v){xe(n,n.return,v)}if(n===e){z=null;break}var _=n.sibling;if(_!==null){_.return=n.return,z=_;break}z=n.return}}var o_=Math.ceil,Ks=Te.ReactCurrentDispatcher,Ea=Te.ReactCurrentOwner,kt=Te.ReactCurrentBatchConfig,se=0,We=null,Me=null,Ye=0,yt=0,kr=mn(0),Be=0,ki=null,Hn=0,Ys=0,Ca=0,Ii=null,ut=null,Sa=0,Ir=1/0,nn=null,qs=!1,ka=null,En=null,Xs=!1,Cn=null,Js=0,Ti=0,Ia=null,Zs=-1,eo=0;function rt(){return se&6?De():Zs!==-1?Zs:Zs=De()}function Sn(e){return e.mode&1?se&2&&Ye!==0?Ye&-Ye:Vg.transition!==null?(eo===0&&(eo=Oc()),eo):(e=de,e!==0||(e=window.event,e=e===void 0?16:Hc(e.type)),e):1}function Mt(e,n,s,l){if(50<Ti)throw Ti=0,Ia=null,Error(r(185));qr(e,s,l),(!(se&2)||e!==We)&&(e===We&&(!(se&2)&&(Ys|=s),Be===4&&kn(e,Ye)),ct(e,l),s===1&&se===0&&!(n.mode&1)&&(Ir=De()+500,xs&&_n()))}function ct(e,n){var s=e.callbackNode;Vm(e,n);var l=us(e,e===We?Ye:0);if(l===0)s!==null&&Pc(s),e.callbackNode=null,e.callbackPriority=0;else if(n=l&-l,e.callbackPriority!==n){if(s!=null&&Pc(s),n===1)e.tag===0?Hg(Vf.bind(null,e)):Nd(Vf.bind(null,e)),Ug(function(){!(se&6)&&_n()}),s=null;else{switch(Lc(l)){case 1:s=il;break;case 4:s=Dc;break;case 16:s=ss;break;case 536870912:s=Ac;break;default:s=ss}s=Xf(s,Hf.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function Hf(e,n){if(Zs=-1,eo=0,se&6)throw Error(r(327));var s=e.callbackNode;if(Tr()&&e.callbackNode!==s)return null;var l=us(e,e===We?Ye:0);if(l===0)return null;if(l&30||l&e.expiredLanes||n)n=to(e,l);else{n=l;var u=se;se|=2;var d=$f();(We!==e||Ye!==n)&&(nn=null,Ir=De()+500,bn(e,n));do try{u_();break}catch(_){bf(e,_)}while(!0);Vl(),Ks.current=d,se=u,Me!==null?n=0:(We=null,Ye=0,n=Be)}if(n!==0){if(n===2&&(u=sl(e),u!==0&&(l=u,n=Ta(e,u))),n===1)throw s=ki,bn(e,0),kn(e,l),ct(e,De()),s;if(n===6)kn(e,l);else{if(u=e.current.alternate,!(l&30)&&!l_(u)&&(n=to(e,l),n===2&&(d=sl(e),d!==0&&(l=d,n=Ta(e,d))),n===1))throw s=ki,bn(e,0),kn(e,l),ct(e,De()),s;switch(e.finishedWork=u,e.finishedLanes=l,n){case 0:case 1:throw Error(r(345));case 2:$n(e,ut,nn);break;case 3:if(kn(e,l),(l&130023424)===l&&(n=Sa+500-De(),10<n)){if(us(e,0)!==0)break;if(u=e.suspendedLanes,(u&l)!==l){rt(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=Al($n.bind(null,e,ut,nn),n);break}$n(e,ut,nn);break;case 4:if(kn(e,l),(l&4194240)===l)break;for(n=e.eventTimes,u=-1;0<l;){var h=31-Rt(l);d=1<<h,h=n[h],h>u&&(u=h),l&=~d}if(l=u,l=De()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*o_(l/1960))-l,10<l){e.timeoutHandle=Al($n.bind(null,e,ut,nn),l);break}$n(e,ut,nn);break;case 5:$n(e,ut,nn);break;default:throw Error(r(329))}}}return ct(e,De()),e.callbackNode===s?Hf.bind(null,e):null}function Ta(e,n){var s=Ii;return e.current.memoizedState.isDehydrated&&(bn(e,n).flags|=256),e=to(e,n),e!==2&&(n=ut,ut=s,n!==null&&Na(n)),e}function Na(e){ut===null?ut=e:ut.push.apply(ut,e)}function l_(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var l=0;l<s.length;l++){var u=s[l],d=u.getSnapshot;u=u.value;try{if(!Pt(d(),u))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function kn(e,n){for(n&=~Ca,n&=~Ys,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-Rt(n),l=1<<s;e[s]=-1,n&=~l}}function Vf(e){if(se&6)throw Error(r(327));Tr();var n=us(e,0);if(!(n&1))return ct(e,De()),null;var s=to(e,n);if(e.tag!==0&&s===2){var l=sl(e);l!==0&&(n=l,s=Ta(e,l))}if(s===1)throw s=ki,bn(e,0),kn(e,n),ct(e,De()),s;if(s===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,$n(e,ut,nn),ct(e,De()),null}function xa(e,n){var s=se;se|=1;try{return e(n)}finally{se=s,se===0&&(Ir=De()+500,xs&&_n())}}function Vn(e){Cn!==null&&Cn.tag===0&&!(se&6)&&Tr();var n=se;se|=1;var s=kt.transition,l=de;try{if(kt.transition=null,de=1,e)return e()}finally{de=l,kt.transition=s,se=n,!(se&6)&&_n()}}function Ra(){yt=kr.current,ye(kr)}function bn(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,zg(s)),Me!==null)for(s=Me.return;s!==null;){var l=s;switch(Ul(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Ts();break;case 3:Er(),ye(ot),ye(Je),Xl();break;case 5:Yl(l);break;case 4:Er();break;case 13:ye(ke);break;case 19:ye(ke);break;case 10:bl(l.type._context);break;case 22:case 23:Ra()}s=s.return}if(We=e,Me=e=In(e.current,null),Ye=yt=n,Be=0,ki=null,Ca=Ys=Hn=0,ut=Ii=null,Bn!==null){for(n=0;n<Bn.length;n++)if(s=Bn[n],l=s.interleaved,l!==null){s.interleaved=null;var u=l.next,d=s.pending;if(d!==null){var h=d.next;d.next=u,l.next=h}s.pending=l}Bn=null}return e}function bf(e,n){do{var s=Me;try{if(Vl(),Us.current=Hs,Bs){for(var l=Ie.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}Bs=!1}if(Wn=0,je=Ue=Ie=null,vi=!1,yi=0,Ea.current=null,s===null||s.return===null){Be=1,ki=n,Me=null;break}e:{var d=e,h=s.return,_=s,v=n;if(n=Ye,_.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var T=v,R=_,P=R.tag;if(!(R.mode&1)&&(P===0||P===11||P===15)){var N=R.alternate;N?(R.updateQueue=N.updateQueue,R.memoizedState=N.memoizedState,R.lanes=N.lanes):(R.updateQueue=null,R.memoizedState=null)}var F=mf(h);if(F!==null){F.flags&=-257,gf(F,h,_,d,n),F.mode&1&&pf(d,T,n),n=F,v=T;var B=n.updateQueue;if(B===null){var j=new Set;j.add(v),n.updateQueue=j}else B.add(v);break e}else{if(!(n&1)){pf(d,T,n),Pa();break e}v=Error(r(426))}}else if(Ce&&_.mode&1){var Ae=mf(h);if(Ae!==null){!(Ae.flags&65536)&&(Ae.flags|=256),gf(Ae,h,_,d,n),Wl(Cr(v,_));break e}}d=v=Cr(v,_),Be!==4&&(Be=2),Ii===null?Ii=[d]:Ii.push(d),d=h;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var C=ff(d,v,n);Ud(d,C);break e;case 1:_=v;var y=d.type,S=d.stateNode;if(!(d.flags&128)&&(typeof y.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(En===null||!En.has(S)))){d.flags|=65536,n&=-n,d.lanes|=n;var D=hf(d,_,n);Ud(d,D);break e}}d=d.return}while(d!==null)}Gf(s)}catch(W){n=W,Me===s&&s!==null&&(Me=s=s.return);continue}break}while(!0)}function $f(){var e=Ks.current;return Ks.current=Hs,e===null?Hs:e}function Pa(){(Be===0||Be===3||Be===2)&&(Be=4),We===null||!(Hn&268435455)&&!(Ys&268435455)||kn(We,Ye)}function to(e,n){var s=se;se|=2;var l=$f();(We!==e||Ye!==n)&&(nn=null,bn(e,n));do try{a_();break}catch(u){bf(e,u)}while(!0);if(Vl(),se=s,Ks.current=l,Me!==null)throw Error(r(261));return We=null,Ye=0,Be}function a_(){for(;Me!==null;)Qf(Me)}function u_(){for(;Me!==null&&!Lm();)Qf(Me)}function Qf(e){var n=qf(e.alternate,e,yt);e.memoizedProps=e.pendingProps,n===null?Gf(e):Me=n,Ea.current=null}function Gf(e){var n=e;do{var s=n.alternate;if(e=n.return,n.flags&32768){if(s=n_(s,n),s!==null){s.flags&=32767,Me=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Be=6,Me=null;return}}else if(s=t_(s,n,yt),s!==null){Me=s;return}if(n=n.sibling,n!==null){Me=n;return}Me=n=e}while(n!==null);Be===0&&(Be=5)}function $n(e,n,s){var l=de,u=kt.transition;try{kt.transition=null,de=1,c_(e,n,s,l)}finally{kt.transition=u,de=l}return null}function c_(e,n,s,l){do Tr();while(Cn!==null);if(se&6)throw Error(r(327));s=e.finishedWork;var u=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var d=s.lanes|s.childLanes;if(bm(e,d),e===We&&(Me=We=null,Ye=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Xs||(Xs=!0,Xf(ss,function(){return Tr(),null})),d=(s.flags&15990)!==0,s.subtreeFlags&15990||d){d=kt.transition,kt.transition=null;var h=de;de=1;var _=se;se|=4,Ea.current=null,i_(e,s),zf(s,e),Pg(Pl),fs=!!Rl,Pl=Rl=null,e.current=s,s_(s),Mm(),se=_,de=h,kt.transition=d}else e.current=s;if(Xs&&(Xs=!1,Cn=e,Js=u),d=e.pendingLanes,d===0&&(En=null),Um(s.stateNode),ct(e,De()),n!==null)for(l=e.onRecoverableError,s=0;s<n.length;s++)u=n[s],l(u.value,{componentStack:u.stack,digest:u.digest});if(qs)throw qs=!1,e=ka,ka=null,e;return Js&1&&e.tag!==0&&Tr(),d=e.pendingLanes,d&1?e===Ia?Ti++:(Ti=0,Ia=e):Ti=0,_n(),null}function Tr(){if(Cn!==null){var e=Lc(Js),n=kt.transition,s=de;try{if(kt.transition=null,de=16>e?16:e,Cn===null)var l=!1;else{if(e=Cn,Cn=null,Js=0,se&6)throw Error(r(331));var u=se;for(se|=4,z=e.current;z!==null;){var d=z,h=d.child;if(z.flags&16){var _=d.deletions;if(_!==null){for(var v=0;v<_.length;v++){var T=_[v];for(z=T;z!==null;){var R=z;switch(R.tag){case 0:case 11:case 15:Si(8,R,d)}var P=R.child;if(P!==null)P.return=R,z=P;else for(;z!==null;){R=z;var N=R.sibling,F=R.return;if(Af(R),R===T){z=null;break}if(N!==null){N.return=F,z=N;break}z=F}}}var B=d.alternate;if(B!==null){var j=B.child;if(j!==null){B.child=null;do{var Ae=j.sibling;j.sibling=null,j=Ae}while(j!==null)}}z=d}}if(d.subtreeFlags&2064&&h!==null)h.return=d,z=h;else e:for(;z!==null;){if(d=z,d.flags&2048)switch(d.tag){case 0:case 11:case 15:Si(9,d,d.return)}var C=d.sibling;if(C!==null){C.return=d.return,z=C;break e}z=d.return}}var y=e.current;for(z=y;z!==null;){h=z;var S=h.child;if(h.subtreeFlags&2064&&S!==null)S.return=h,z=S;else e:for(h=y;z!==null;){if(_=z,_.flags&2048)try{switch(_.tag){case 0:case 11:case 15:Gs(9,_)}}catch(W){xe(_,_.return,W)}if(_===h){z=null;break e}var D=_.sibling;if(D!==null){D.return=_.return,z=D;break e}z=_.return}}if(se=u,_n(),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(os,e)}catch{}l=!0}return l}finally{de=s,kt.transition=n}}return!1}function Kf(e,n,s){n=Cr(s,n),n=ff(e,n,1),e=yn(e,n,1),n=rt(),e!==null&&(qr(e,1,n),ct(e,n))}function xe(e,n,s){if(e.tag===3)Kf(e,e,s);else for(;n!==null;){if(n.tag===3){Kf(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(En===null||!En.has(l))){e=Cr(s,e),e=hf(n,e,1),n=yn(n,e,1),e=rt(),n!==null&&(qr(n,1,e),ct(n,e));break}}n=n.return}}function d_(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),n=rt(),e.pingedLanes|=e.suspendedLanes&s,We===e&&(Ye&s)===s&&(Be===4||Be===3&&(Ye&130023424)===Ye&&500>De()-Sa?bn(e,0):Ca|=s),ct(e,n)}function Yf(e,n){n===0&&(e.mode&1?(n=as,as<<=1,!(as&130023424)&&(as=4194304)):n=1);var s=rt();e=Zt(e,n),e!==null&&(qr(e,n,s),ct(e,s))}function f_(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Yf(e,s)}function h_(e,n){var s=0;switch(e.tag){case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(s=u.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(r(314))}l!==null&&l.delete(n),Yf(e,s)}var qf;qf=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||ot.current)at=!0;else{if(!(e.lanes&s)&&!(n.flags&128))return at=!1,e_(e,n,s);at=!!(e.flags&131072)}else at=!1,Ce&&n.flags&1048576&&xd(n,Ps,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;$s(e,n),e=n.pendingProps;var u=pr(n,Je.current);wr(n,s),u=ea(null,n,l,e,u,s);var d=ta();return n.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,lt(l)?(d=!0,Ns(n)):d=!1,n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,Gl(n),u.updater=Vs,n.stateNode=u,u._reactInternals=n,la(n,l,e,s),n=da(null,n,l,!0,d,s)):(n.tag=0,Ce&&d&&zl(n),nt(null,n,u,s),n=n.child),n;case 16:l=n.elementType;e:{switch($s(e,n),e=n.pendingProps,u=l._init,l=u(l._payload),n.type=l,u=n.tag=m_(l),e=At(l,e),u){case 0:n=ca(null,n,l,e,s);break e;case 1:n=Cf(null,n,l,e,s);break e;case 11:n=_f(null,n,l,e,s);break e;case 14:n=vf(null,n,l,At(l.type,e),s);break e}throw Error(r(306,l,""))}return n;case 0:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:At(l,u),ca(e,n,l,u,s);case 1:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:At(l,u),Cf(e,n,l,u,s);case 3:e:{if(Sf(n),e===null)throw Error(r(387));l=n.pendingProps,d=n.memoizedState,u=d.element,zd(e,n),Fs(n,l,null,s);var h=n.memoizedState;if(l=h.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){u=Cr(Error(r(423)),n),n=kf(e,n,l,s,u);break e}else if(l!==u){u=Cr(Error(r(424)),n),n=kf(e,n,l,s,u);break e}else for(vt=pn(n.stateNode.containerInfo.firstChild),_t=n,Ce=!0,Dt=null,s=Md(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(_r(),l===u){n=tn(e,n,s);break e}nt(e,n,l,s)}n=n.child}return n;case 5:return jd(n),e===null&&jl(n),l=n.type,u=n.pendingProps,d=e!==null?e.memoizedProps:null,h=u.children,Dl(l,u)?h=null:d!==null&&Dl(l,d)&&(n.flags|=32),Ef(e,n),nt(e,n,h,s),n.child;case 6:return e===null&&jl(n),null;case 13:return If(e,n,s);case 4:return Kl(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=vr(n,null,l,s):nt(e,n,l,s),n.child;case 11:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:At(l,u),_f(e,n,l,u,s);case 7:return nt(e,n,n.pendingProps,s),n.child;case 8:return nt(e,n,n.pendingProps.children,s),n.child;case 12:return nt(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(l=n.type._context,u=n.pendingProps,d=n.memoizedProps,h=u.value,pe(Os,l._currentValue),l._currentValue=h,d!==null)if(Pt(d.value,h)){if(d.children===u.children&&!ot.current){n=tn(e,n,s);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var _=d.dependencies;if(_!==null){h=d.child;for(var v=_.firstContext;v!==null;){if(v.context===l){if(d.tag===1){v=en(-1,s&-s),v.tag=2;var T=d.updateQueue;if(T!==null){T=T.shared;var R=T.pending;R===null?v.next=v:(v.next=R.next,R.next=v),T.pending=v}}d.lanes|=s,v=d.alternate,v!==null&&(v.lanes|=s),$l(d.return,s,n),_.lanes|=s;break}v=v.next}}else if(d.tag===10)h=d.type===n.type?null:d.child;else if(d.tag===18){if(h=d.return,h===null)throw Error(r(341));h.lanes|=s,_=h.alternate,_!==null&&(_.lanes|=s),$l(h,s,n),h=d.sibling}else h=d.child;if(h!==null)h.return=d;else for(h=d;h!==null;){if(h===n){h=null;break}if(d=h.sibling,d!==null){d.return=h.return,h=d;break}h=h.return}d=h}nt(e,n,u.children,s),n=n.child}return n;case 9:return u=n.type,l=n.pendingProps.children,wr(n,s),u=Ct(u),l=l(u),n.flags|=1,nt(e,n,l,s),n.child;case 14:return l=n.type,u=At(l,n.pendingProps),u=At(l.type,u),vf(e,n,l,u,s);case 15:return yf(e,n,n.type,n.pendingProps,s);case 17:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:At(l,u),$s(e,n),n.tag=1,lt(l)?(e=!0,Ns(n)):e=!1,wr(n,s),cf(n,l,u),la(n,l,u,s),da(null,n,l,!0,e,s);case 19:return Nf(e,n,s);case 22:return wf(e,n,s)}throw Error(r(156,n.tag))};function Xf(e,n){return Rc(e,n)}function p_(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(e,n,s,l){return new p_(e,n,s,l)}function Da(e){return e=e.prototype,!(!e||!e.isReactComponent)}function m_(e){if(typeof e=="function")return Da(e)?1:0;if(e!=null){if(e=e.$$typeof,e===jt)return 11;if(e===Wt)return 14}return 2}function In(e,n){var s=e.alternate;return s===null?(s=It(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function no(e,n,s,l,u,d){var h=2;if(l=e,typeof e=="function")Da(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case ie:return Qn(s.children,u,d,n);case Le:h=8,u|=8;break;case Ge:return e=It(12,s,n,u|2),e.elementType=Ge,e.lanes=d,e;case pt:return e=It(13,s,n,u),e.elementType=pt,e.lanes=d,e;case xt:return e=It(19,s,n,u),e.elementType=xt,e.lanes=d,e;case Ne:return ro(s,u,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Nt:h=10;break e;case Kt:h=9;break e;case jt:h=11;break e;case Wt:h=14;break e;case st:h=16,l=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return n=It(h,s,n,u),n.elementType=e,n.type=l,n.lanes=d,n}function Qn(e,n,s,l){return e=It(7,e,l,n),e.lanes=s,e}function ro(e,n,s,l){return e=It(22,e,l,n),e.elementType=Ne,e.lanes=s,e.stateNode={isHidden:!1},e}function Aa(e,n,s){return e=It(6,e,null,n),e.lanes=s,e}function Oa(e,n,s){return n=It(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function g_(e,n,s,l,u){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ol(0),this.expirationTimes=ol(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ol(0),this.identifierPrefix=l,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function La(e,n,s,l,u,d,h,_,v){return e=new g_(e,n,s,_,v),n===1?(n=1,d===!0&&(n|=8)):n=0,d=It(3,null,null,n),e.current=d,d.stateNode=e,d.memoizedState={element:l,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gl(d),e}function __(e,n,s){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:l==null?null:""+l,children:e,containerInfo:n,implementation:s}}function Jf(e){if(!e)return gn;e=e._reactInternals;e:{if(Ln(e)!==e||e.tag!==1)throw Error(r(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(lt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(e.tag===1){var s=e.type;if(lt(s))return Id(e,s,n)}return n}function Zf(e,n,s,l,u,d,h,_,v){return e=La(s,l,!0,e,u,d,h,_,v),e.context=Jf(null),s=e.current,l=rt(),u=Sn(s),d=en(l,u),d.callback=n??null,yn(s,d,u),e.current.lanes=u,qr(e,u,l),ct(e,l),e}function io(e,n,s,l){var u=n.current,d=rt(),h=Sn(u);return s=Jf(s),n.context===null?n.context=s:n.pendingContext=s,n=en(d,h),n.payload={element:e},l=l===void 0?null:l,l!==null&&(n.callback=l),e=yn(u,n,h),e!==null&&(Mt(e,u,h,d),Ms(e,u,h)),h}function so(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function eh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Ma(e,n){eh(e,n),(e=e.alternate)&&eh(e,n)}function v_(){return null}var th=typeof reportError=="function"?reportError:function(e){console.error(e)};function Fa(e){this._internalRoot=e}oo.prototype.render=Fa.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));io(e,n,null,null)},oo.prototype.unmount=Fa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Vn(function(){io(null,e,null,null)}),n[Yt]=null}};function oo(e){this._internalRoot=e}oo.prototype.unstable_scheduleHydration=function(e){if(e){var n=zc();e={blockedOn:null,target:e,priority:n};for(var s=0;s<dn.length&&n!==0&&n<dn[s].priority;s++);dn.splice(s,0,e),s===0&&jc(e)}};function za(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function lo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nh(){}function y_(e,n,s,l,u){if(u){if(typeof l=="function"){var d=l;l=function(){var T=so(h);d.call(T)}}var h=Zf(n,l,e,0,null,!1,!1,"",nh);return e._reactRootContainer=h,e[Yt]=h.current,ci(e.nodeType===8?e.parentNode:e),Vn(),h}for(;u=e.lastChild;)e.removeChild(u);if(typeof l=="function"){var _=l;l=function(){var T=so(v);_.call(T)}}var v=La(e,0,!1,null,null,!1,!1,"",nh);return e._reactRootContainer=v,e[Yt]=v.current,ci(e.nodeType===8?e.parentNode:e),Vn(function(){io(n,v,s,l)}),v}function ao(e,n,s,l,u){var d=s._reactRootContainer;if(d){var h=d;if(typeof u=="function"){var _=u;u=function(){var v=so(h);_.call(v)}}io(n,h,e,u)}else h=y_(s,n,e,u,l);return so(h)}Mc=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=Yr(n.pendingLanes);s!==0&&(ll(n,s|1),ct(n,De()),!(se&6)&&(Ir=De()+500,_n()))}break;case 13:Vn(function(){var l=Zt(e,1);if(l!==null){var u=rt();Mt(l,e,1,u)}}),Ma(e,1)}},al=function(e){if(e.tag===13){var n=Zt(e,134217728);if(n!==null){var s=rt();Mt(n,e,134217728,s)}Ma(e,134217728)}},Fc=function(e){if(e.tag===13){var n=Sn(e),s=Zt(e,n);if(s!==null){var l=rt();Mt(s,e,n,l)}Ma(e,n)}},zc=function(){return de},Uc=function(e,n){var s=de;try{return de=e,n()}finally{de=s}},el=function(e,n,s){switch(n){case"input":if(Qo(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var u=Is(l);if(!u)throw Error(r(90));ac(l),Qo(l,u)}}}break;case"textarea":hc(e,s);break;case"select":n=s.value,n!=null&&nr(e,!!s.multiple,n,!1)}},Cc=xa,Sc=Vn;var w_={usingClientEntryPoint:!1,Events:[hi,fr,Is,wc,Ec,xa]},Ni={findFiberByHostInstance:Mn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},E_={bundleType:Ni.bundleType,version:Ni.version,rendererPackageName:Ni.rendererPackageName,rendererConfig:Ni.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Te.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Nc(e),e===null?null:e.stateNode},findFiberByHostInstance:Ni.findFiberByHostInstance||v_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uo.isDisabled&&uo.supportsFiber)try{os=uo.inject(E_),Ht=uo}catch{}}return dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w_,dt.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!za(n))throw Error(r(200));return __(e,n,null,s)},dt.createRoot=function(e,n){if(!za(e))throw Error(r(299));var s=!1,l="",u=th;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),n=La(e,1,!1,null,null,s,!1,l,u),e[Yt]=n.current,ci(e.nodeType===8?e.parentNode:e),new Fa(n)},dt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=Nc(n),e=e===null?null:e.stateNode,e},dt.flushSync=function(e){return Vn(e)},dt.hydrate=function(e,n,s){if(!lo(n))throw Error(r(200));return ao(null,e,n,!0,s)},dt.hydrateRoot=function(e,n,s){if(!za(e))throw Error(r(405));var l=s!=null&&s.hydratedSources||null,u=!1,d="",h=th;if(s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),n=Zf(n,null,e,1,s??null,u,!1,d,h),e[Yt]=n.current,ci(e),l)for(e=0;e<l.length;e++)s=l[e],u=s._getVersion,u=u(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,u]:n.mutableSourceEagerHydrationData.push(s,u);return new oo(n)},dt.render=function(e,n,s){if(!lo(n))throw Error(r(200));return ao(null,e,n,!1,s)},dt.unmountComponentAtNode=function(e){if(!lo(e))throw Error(r(40));return e._reactRootContainer?(Vn(function(){ao(null,null,e,!1,function(){e._reactRootContainer=null,e[Yt]=null})}),!0):!1},dt.unstable_batchedUpdates=xa,dt.unstable_renderSubtreeIntoContainer=function(e,n,s,l){if(!lo(s))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return ao(e,n,s,!1,l)},dt.version="18.3.1-next-f1338f8080-20240426",dt}var ch;function R_(){if(ch)return ja.exports;ch=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),ja.exports=x_(),ja.exports}var dh;function P_(){if(dh)return co;dh=1;var i=R_();return co.createRoot=i.createRoot,co.hydrateRoot=i.hydrateRoot,co}var D_=P_();const A_="/React-TodoList-JSONServer-Firebase-Deploy-task/assets/logo-name-CBOErCkE.svg",O_="_header_1kqmz_1",L_={header:O_},M_=()=>{const[i,t]=Se.useState(new Date);return Se.useEffect(()=>{const r=setInterval(()=>t(new Date),1e3);return()=>{clearInterval(r)}},[]),b.jsxs("div",{className:L_.header,children:[b.jsx("img",{src:A_,alt:"Result"}),b.jsx("h3",{children:"  "}),b.jsxs("span",{children:[" : ",i.toLocaleTimeString()]})]})},F_="_loader_1l585_2",z_="_app_1l585_24",U_="_buttons_1l585_44",B_="_button_1l585_44",j_="_todoItem_1l585_51",W_="_buttonContainer_1l585_66",H_="_changeInput_1l585_74",V_="_deleteButton_1l585_79",b_="_editButton_1l585_95",we={loader:F_,app:z_,buttons:U_,button:B_,todoItem:j_,buttonContainer:W_,changeInput:H_,deleteButton:V_,editButton:b_},$_=()=>{const[i,t]=Se.useState([]),[r,o]=Se.useState(!1);return Se.useEffect(()=>{o(!0),fetch("https://jsonplaceholder.typicode.com/todos").then(a=>a.json().then(c=>{t(c)}).finally(()=>o(!1)))},[]),b.jsx(b.Fragment,{children:b.jsxs("div",{className:we.app,children:[b.jsx("h2",{children:"Todolist JSON Placeholder "}),r?b.jsx("div",{className:we.loader}):i.map(({id:a,title:c})=>b.jsx("div",{className:we.todoItem,children:c},a))]})})};function Q_(i=""){const[t,r]=Se.useState(i);return{value:t,onChange:o=>r(o.target.value)}}const G_=()=>{const i=Q_(),[t,r]=Se.useState([]),[o,a]=Se.useState([]),[c,f]=Se.useState(!1),[p,m]=Se.useState(0),[g,I]=Se.useState(!1),[w,k]=Se.useState(null),[A,L]=Se.useState("");Se.useEffect(()=>{f(!0),fetch("http://localhost:3009/todos").then(re=>re.json()).then(re=>{a(re)}).finally(()=>f(!1))},[]);const V=()=>{if(p<o.length){const re=o[p];r(H=>[...H,re]),m(H=>H+1),p+1===o.length&&console.log("   !")}},K=()=>{I(re=>!re)},Oe=g?[...t].sort((re,H)=>re.title.localeCompare(H.title)):t,Fe=re=>{r(H=>H.filter(ie=>ie.id!==re))},ze=(re,H)=>{k(re),L(H)},Te=()=>{r(re=>re.map(H=>H.id===w?{...H,title:A}:H)),k(null),L("")};return b.jsxs("div",{className:we.app,children:[b.jsx("h2",{children:"Todolist JSON Server"}),b.jsx("button",{onClick:V,className:we.addButton,children:" "}),b.jsx("button",{onClick:K,className:we.sortButton,children:g?" ":" "}),b.jsx("input",{type:"text",className:"control",...i}),c?b.jsx("div",{className:we.loader}):b.jsx("div",{className:we.taskList,children:Oe.filter(re=>re.title.toLowerCase().includes(i.value.toLowerCase())).map(({id:re,title:H})=>b.jsx("div",{className:we.todoItem,children:w===re?b.jsxs(b.Fragment,{children:[b.jsx("input",{className:we.changeInput,type:"text",value:A,onChange:ie=>L(ie.target.value)}),b.jsx("button",{className:we.editButton,onClick:Te,children:""})]}):b.jsxs(b.Fragment,{children:[b.jsx("span",{children:H}),b.jsxs("div",{className:we.buttonContainer,children:[b.jsx("button",{onClick:()=>ze(re,H),className:we.editButton,children:""}),b.jsx("button",{onClick:()=>Fe(re),className:we.deleteButton,children:""})]})]})},re))})]})};var fh={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O=function(i,t){if(!i)throw Br(t)},Br=function(i){return new Error("Firebase Database ("+rp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let a=i.charCodeAt(o);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&o+1<i.length&&(i.charCodeAt(o+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++o)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},K_=function(i){const t=[];let r=0,o=0;for(;r<i.length;){const a=i[r++];if(a<128)t[o++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[r++];t[o++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[r++],f=i[r++],p=i[r++],m=((a&7)<<18|(c&63)<<12|(f&63)<<6|p&63)-65536;t[o++]=String.fromCharCode(55296+(m>>10)),t[o++]=String.fromCharCode(56320+(m&1023))}else{const c=i[r++],f=i[r++];t[o++]=String.fromCharCode((a&15)<<12|(c&63)<<6|f&63)}}return t.join("")},Iu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let a=0;a<i.length;a+=3){const c=i[a],f=a+1<i.length,p=f?i[a+1]:0,m=a+2<i.length,g=m?i[a+2]:0,I=c>>2,w=(c&3)<<4|p>>4;let k=(p&15)<<2|g>>6,A=g&63;m||(A=64,f||(k=64)),o.push(r[I],r[w],r[k],r[A])}return o.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(ip(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):K_(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let a=0;a<i.length;){const c=r[i.charAt(a++)],p=a<i.length?r[i.charAt(a)]:0;++a;const g=a<i.length?r[i.charAt(a)]:64;++a;const w=a<i.length?r[i.charAt(a)]:64;if(++a,c==null||p==null||g==null||w==null)throw new Y_;const k=c<<2|p>>4;if(o.push(k),g!==64){const A=p<<4&240|g>>2;if(o.push(A),w!==64){const L=g<<6&192|w;o.push(L)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Y_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sp=function(i){const t=ip(i);return Iu.encodeByteArray(t,!0)},mo=function(i){return sp(i).replace(/\./g,"")},nu=function(i){try{return Iu.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(i){return op(void 0,i)}function op(i,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const r=t;return new Date(r.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return t}for(const r in t)!t.hasOwnProperty(r)||!X_(r)||(i[r]=op(i[r],t[r]));return i}function X_(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=()=>J_().__FIREBASE_DEFAULTS__,ev=()=>{if(typeof process>"u"||typeof fh>"u")return;const i=fh.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},tv=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&nu(i[1]);return t&&JSON.parse(t)},lp=()=>{try{return Z_()||ev()||tv()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},nv=i=>{var t,r;return(r=(t=lp())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[i]},rv=i=>{const t=nv(i);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),o]:[t.substring(0,r),o]},ap=()=>{var i;return(i=lp())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=t||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[mo(JSON.stringify(r)),mo(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function up(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sv())}function ov(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cp(){return rp.NODE_ADMIN===!0}function lv(){try{return typeof indexedDB=="object"}catch{return!1}}function av(){return new Promise((i,t)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(o);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(o),i(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var c;t(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="FirebaseError";class Ki extends Error{constructor(t,r,o){super(r),this.code=t,this.customData=o,this.name=uv,Object.setPrototypeOf(this,Ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dp.prototype.create)}}class dp{constructor(t,r,o){this.service=t,this.serviceName=r,this.errors=o}create(t,...r){const o=r[0]||{},a=`${this.service}/${t}`,c=this.errors[t],f=c?cv(c,o):"Error",p=`${this.serviceName}: ${f} (${a}).`;return new Ki(a,p,o)}}function cv(i,t){return i.replace(dv,(r,o)=>{const a=t[o];return a!=null?String(a):`<${o}?>`})}const dv=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(i){return JSON.parse(i)}function Qe(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp=function(i){let t={},r={},o={},a="";try{const c=i.split(".");t=Ui(nu(c[0])||""),r=Ui(nu(c[1])||""),a=c[2],o=r.d||{},delete r.d}catch{}return{header:t,claims:r,data:o,signature:a}},fv=function(i){const t=fp(i),r=t.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},hv=function(i){const t=fp(i).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(i,t){return Object.prototype.hasOwnProperty.call(i,t)}function Or(i,t){if(Object.prototype.hasOwnProperty.call(i,t))return i[t]}function hh(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function go(i,t,r){const o={};for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&(o[a]=t.call(r,i[a],a,i));return o}function ru(i,t){if(i===t)return!0;const r=Object.keys(i),o=Object.keys(t);for(const a of r){if(!o.includes(a))return!1;const c=i[a],f=t[a];if(ph(c)&&ph(f)){if(!ru(c,f))return!1}else if(c!==f)return!1}for(const a of o)if(!r.includes(a))return!1;return!0}function ph(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(i){const t=[];for(const[r,o]of Object.entries(i))Array.isArray(o)?o.forEach(a=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,r){r||(r=0);const o=this.W_;if(typeof t=="string")for(let w=0;w<16;w++)o[w]=t.charCodeAt(r)<<24|t.charCodeAt(r+1)<<16|t.charCodeAt(r+2)<<8|t.charCodeAt(r+3),r+=4;else for(let w=0;w<16;w++)o[w]=t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3],r+=4;for(let w=16;w<80;w++){const k=o[w-3]^o[w-8]^o[w-14]^o[w-16];o[w]=(k<<1|k>>>31)&4294967295}let a=this.chain_[0],c=this.chain_[1],f=this.chain_[2],p=this.chain_[3],m=this.chain_[4],g,I;for(let w=0;w<80;w++){w<40?w<20?(g=p^c&(f^p),I=1518500249):(g=c^f^p,I=1859775393):w<60?(g=c&f|p&(c|f),I=2400959708):(g=c^f^p,I=3395469782);const k=(a<<5|a>>>27)+g+m+I+o[w]&4294967295;m=p,p=f,f=(c<<30|c>>>2)&4294967295,c=a,a=k}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+p&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(t,r){if(t==null)return;r===void 0&&(r=t.length);const o=r-this.blockSize;let a=0;const c=this.buf_;let f=this.inbuf_;for(;a<r;){if(f===0)for(;a<=o;)this.compress_(t,a),a+=this.blockSize;if(typeof t=="string"){for(;a<r;)if(c[f]=t.charCodeAt(a),++f,++a,f===this.blockSize){this.compress_(c),f=0;break}}else for(;a<r;)if(c[f]=t[a],++f,++a,f===this.blockSize){this.compress_(c),f=0;break}}this.inbuf_=f,this.total_+=r}digest(){const t=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let a=this.blockSize-1;a>=56;a--)this.buf_[a]=r&255,r/=256;this.compress_(this.buf_);let o=0;for(let a=0;a<5;a++)for(let c=24;c>=0;c-=8)t[o]=this.chain_[a]>>c&255,++o;return t}}function Ao(i,t){return`${i} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let a=i.charCodeAt(o);if(a>=55296&&a<=56319){const c=a-55296;o++,O(o<i.length,"Surrogate pair missing trail surrogate.");const f=i.charCodeAt(o)-56320;a=65536+(c<<10)+f}a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):a<65536?(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},Oo=function(i){let t=0;for(let r=0;r<i.length;r++){const o=i.charCodeAt(r);o<128?t++:o<2048?t+=2:o>=55296&&o<=56319?(t+=4,r++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(i){return i&&i._delegate?i._delegate:i}class Bi{constructor(t,r,o){this.name=t,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const o=new Gi;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&o.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(yv(t))try{this.getOrInitializeService({instanceIdentifier:Gn})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:a});o.resolve(c)}catch{}}}}clearInstance(t=Gn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Gn){return this.instances.has(t)}getOptions(t=Gn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[c,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);o===p&&f.resolve(a)}return a}onInit(t,r){var o;const a=this.normalizeInstanceIdentifier(r),c=(o=this.onInitCallbacks.get(a))!==null&&o!==void 0?o:new Set;c.add(t),this.onInitCallbacks.set(a,c);const f=this.instances.get(a);return f&&t(f,a),()=>{c.delete(t)}}invokeOnInitCallbacks(t,r){const o=this.onInitCallbacks.get(r);if(o)for(const a of o)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:vv(t),options:r}),this.instances.set(t,o),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=Gn){return this.component?this.component.multipleInstances?t:Gn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vv(i){return i===Gn?void 0:i}function yv(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new _v(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ge||(ge={}));const Ev={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},Cv=ge.INFO,Sv={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},kv=(i,t,...r)=>{if(t<i.logLevel)return;const o=new Date().toISOString(),a=Sv[t];if(a)console[a](`[${o}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class hp{constructor(t){this.name=t,this._logLevel=Cv,this._logHandler=kv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ge))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Ev[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...t),this._logHandler(this,ge.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...t),this._logHandler(this,ge.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...t),this._logHandler(this,ge.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...t),this._logHandler(this,ge.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...t),this._logHandler(this,ge.ERROR,...t)}}const Iv=(i,t)=>t.some(r=>i instanceof r);let mh,gh;function Tv(){return mh||(mh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Nv(){return gh||(gh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pp=new WeakMap,iu=new WeakMap,mp=new WeakMap,Va=new WeakMap,Tu=new WeakMap;function xv(i){const t=new Promise((r,o)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{r(xn(i.result)),a()},f=()=>{o(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",f)});return t.then(r=>{r instanceof IDBCursor&&pp.set(r,i)}).catch(()=>{}),Tu.set(t,i),t}function Rv(i){if(iu.has(i))return;const t=new Promise((r,o)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{r(),a()},f=()=>{o(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});iu.set(i,t)}let su={get(i,t,r){if(i instanceof IDBTransaction){if(t==="done")return iu.get(i);if(t==="objectStoreNames")return i.objectStoreNames||mp.get(i);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return xn(i[t])},set(i,t,r){return i[t]=r,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function Pv(i){su=i(su)}function Dv(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const o=i.call(ba(this),t,...r);return mp.set(o,t.sort?t.sort():[t]),xn(o)}:Nv().includes(i)?function(...t){return i.apply(ba(this),t),xn(pp.get(this))}:function(...t){return xn(i.apply(ba(this),t))}}function Av(i){return typeof i=="function"?Dv(i):(i instanceof IDBTransaction&&Rv(i),Iv(i,Tv())?new Proxy(i,su):i)}function xn(i){if(i instanceof IDBRequest)return xv(i);if(Va.has(i))return Va.get(i);const t=Av(i);return t!==i&&(Va.set(i,t),Tu.set(t,i)),t}const ba=i=>Tu.get(i);function Ov(i,t,{blocked:r,upgrade:o,blocking:a,terminated:c}={}){const f=indexedDB.open(i,t),p=xn(f);return o&&f.addEventListener("upgradeneeded",m=>{o(xn(f.result),m.oldVersion,m.newVersion,xn(f.transaction),m)}),r&&f.addEventListener("blocked",m=>r(m.oldVersion,m.newVersion,m)),p.then(m=>{c&&m.addEventListener("close",()=>c()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const Lv=["get","getKey","getAll","getAllKeys","count"],Mv=["put","add","delete","clear"],$a=new Map;function _h(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if($a.get(t))return $a.get(t);const r=t.replace(/FromIndex$/,""),o=t!==r,a=Mv.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(a||Lv.includes(r)))return;const c=async function(f,...p){const m=this.transaction(f,a?"readwrite":"readonly");let g=m.store;return o&&(g=g.index(p.shift())),(await Promise.all([g[r](...p),a&&m.done]))[0]};return $a.set(t,c),c}Pv(i=>({...i,get:(t,r,o)=>_h(t,r)||i.get(t,r,o),has:(t,r)=>!!_h(t,r)||i.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(zv(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function zv(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ou="@firebase/app",vh="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on=new hp("@firebase/app"),Uv="@firebase/app-compat",Bv="@firebase/analytics-compat",jv="@firebase/analytics",Wv="@firebase/app-check-compat",Hv="@firebase/app-check",Vv="@firebase/auth",bv="@firebase/auth-compat",$v="@firebase/database",Qv="@firebase/data-connect",Gv="@firebase/database-compat",Kv="@firebase/functions",Yv="@firebase/functions-compat",qv="@firebase/installations",Xv="@firebase/installations-compat",Jv="@firebase/messaging",Zv="@firebase/messaging-compat",ey="@firebase/performance",ty="@firebase/performance-compat",ny="@firebase/remote-config",ry="@firebase/remote-config-compat",iy="@firebase/storage",sy="@firebase/storage-compat",oy="@firebase/firestore",ly="@firebase/vertexai",ay="@firebase/firestore-compat",uy="firebase",cy="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu="[DEFAULT]",dy={[ou]:"fire-core",[Uv]:"fire-core-compat",[jv]:"fire-analytics",[Bv]:"fire-analytics-compat",[Hv]:"fire-app-check",[Wv]:"fire-app-check-compat",[Vv]:"fire-auth",[bv]:"fire-auth-compat",[$v]:"fire-rtdb",[Qv]:"fire-data-connect",[Gv]:"fire-rtdb-compat",[Kv]:"fire-fn",[Yv]:"fire-fn-compat",[qv]:"fire-iid",[Xv]:"fire-iid-compat",[Jv]:"fire-fcm",[Zv]:"fire-fcm-compat",[ey]:"fire-perf",[ty]:"fire-perf-compat",[ny]:"fire-rc",[ry]:"fire-rc-compat",[iy]:"fire-gcs",[sy]:"fire-gcs-compat",[oy]:"fire-fst",[ay]:"fire-fst-compat",[ly]:"fire-vertex","fire-js":"fire-js",[uy]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o=new Map,fy=new Map,au=new Map;function yh(i,t){try{i.container.addComponent(t)}catch(r){on.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,r)}}function vo(i){const t=i.name;if(au.has(t))return on.debug(`There were multiple attempts to register component ${t}.`),!1;au.set(t,i);for(const r of _o.values())yh(r,i);for(const r of fy.values())yh(r,i);return!0}function hy(i,t){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rn=new dp("app","Firebase",py);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(t,r,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Bi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Rn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy=cy;function gp(i,t={}){let r=i;typeof t!="object"&&(t={name:t});const o=Object.assign({name:lu,automaticDataCollectionEnabled:!1},t),a=o.name;if(typeof a!="string"||!a)throw Rn.create("bad-app-name",{appName:String(a)});if(r||(r=ap()),!r)throw Rn.create("no-options");const c=_o.get(a);if(c){if(ru(r,c.options)&&ru(o,c.config))return c;throw Rn.create("duplicate-app",{appName:a})}const f=new wv(a);for(const m of au.values())f.addComponent(m);const p=new my(r,o,f);return _o.set(a,p),p}function _y(i=lu){const t=_o.get(i);if(!t&&i===lu&&ap())return gp();if(!t)throw Rn.create("no-app",{appName:i});return t}function Rr(i,t,r){var o;let a=(o=dy[i])!==null&&o!==void 0?o:i;r&&(a+=`-${r}`);const c=a.match(/\s|\//),f=t.match(/\s|\//);if(c||f){const p=[`Unable to register library "${a}" with version "${t}":`];c&&p.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&f&&p.push("and"),f&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),on.warn(p.join(" "));return}vo(new Bi(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="firebase-heartbeat-database",yy=1,ji="firebase-heartbeat-store";let Qa=null;function _p(){return Qa||(Qa=Ov(vy,yy,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(ji)}catch(r){console.warn(r)}}}}).catch(i=>{throw Rn.create("idb-open",{originalErrorMessage:i.message})})),Qa}async function wy(i){try{const r=(await _p()).transaction(ji),o=await r.objectStore(ji).get(vp(i));return await r.done,o}catch(t){if(t instanceof Ki)on.warn(t.message);else{const r=Rn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});on.warn(r.message)}}}async function wh(i,t){try{const o=(await _p()).transaction(ji,"readwrite");await o.objectStore(ji).put(t,vp(i)),await o.done}catch(r){if(r instanceof Ki)on.warn(r.message);else{const o=Rn.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});on.warn(o.message)}}}function vp(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey=1024,Cy=30*24*60*60*1e3;class Sy{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Iy(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Eh();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const p=new Date(f.date).valueOf();return Date.now()-p<=Cy}),this._storage.overwrite(this._heartbeatsCache))}catch(o){on.warn(o)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Eh(),{heartbeatsToSend:o,unsentEntries:a}=ky(this._heartbeatsCache.heartbeats),c=mo(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(r){return on.warn(r),""}}}function Eh(){return new Date().toISOString().substring(0,10)}function ky(i,t=Ey){const r=[];let o=i.slice();for(const a of i){const c=r.find(f=>f.agent===a.agent);if(c){if(c.dates.push(a.date),Ch(r)>t){c.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),Ch(r)>t){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class Iy{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lv()?av().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await wy(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return wh(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return wh(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Ch(i){return mo(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(i){vo(new Bi("platform-logger",t=>new Fv(t),"PRIVATE")),vo(new Bi("heartbeat",t=>new Sy(t),"PRIVATE")),Rr(ou,vh,i),Rr(ou,vh,"esm2017"),Rr("fire-js","")}Ty("");var Sh={};const kh="@firebase/database",Ih="1.0.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yp="";function Ny(i){yp=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,r){r==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Qe(r))}get(t){const r=this.domStorage_.getItem(this.prefixedName_(t));return r==null?null:Ui(r)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,r){r==null?delete this.cache_[t]:this.cache_[t]=r}get(t){return Gt(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const t=window[i];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new xy(t)}}catch{}return new Ry},Yn=wp("localStorage"),Py=wp("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=new hp("@firebase/database"),Dy=function(){let i=1;return function(){return i++}}(),Ep=function(i){const t=gv(i),r=new mv;r.update(t);const o=r.digest();return Iu.encodeByteArray(o)},qi=function(...i){let t="";for(let r=0;r<i.length;r++){const o=i[r];Array.isArray(o)||o&&typeof o=="object"&&typeof o.length=="number"?t+=qi.apply(null,o):typeof o=="object"?t+=Qe(o):t+=o,t+=" "}return t};let Oi=null,Th=!0;const Ay=function(i,t){O(!t,"Can't turn on custom loggers persistently."),Pr.logLevel=ge.VERBOSE,Oi=Pr.log.bind(Pr)},qe=function(...i){if(Th===!0&&(Th=!1,Oi===null&&Py.get("logging_enabled")===!0&&Ay()),Oi){const t=qi.apply(null,i);Oi(t)}},Xi=function(i){return function(...t){qe(i,...t)}},uu=function(...i){const t="FIREBASE INTERNAL ERROR: "+qi(...i);Pr.error(t)},ln=function(...i){const t=`FIREBASE FATAL ERROR: ${qi(...i)}`;throw Pr.error(t),new Error(t)},it=function(...i){const t="FIREBASE WARNING: "+qi(...i);Pr.warn(t)},Oy=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&it("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Nu=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},Ly=function(i){if(document.readyState==="complete")i();else{let t=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}t||(t=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},Lr="[MIN_NAME]",qn="[MAX_NAME]",er=function(i,t){if(i===t)return 0;if(i===Lr||t===qn)return-1;if(t===Lr||i===qn)return 1;{const r=Nh(i),o=Nh(t);return r!==null?o!==null?r-o===0?i.length-t.length:r-o:-1:o!==null?1:i<t?-1:1}},My=function(i,t){return i===t?0:i<t?-1:1},Ri=function(i,t){if(t&&i in t)return t[i];throw new Error("Missing required key ("+i+") in object: "+Qe(t))},xu=function(i){if(typeof i!="object"||i===null)return Qe(i);const t=[];for(const o in i)t.push(o);t.sort();let r="{";for(let o=0;o<t.length;o++)o!==0&&(r+=","),r+=Qe(t[o]),r+=":",r+=xu(i[t[o]]);return r+="}",r},Cp=function(i,t){const r=i.length;if(r<=t)return[i];const o=[];for(let a=0;a<r;a+=t)a+t>r?o.push(i.substring(a,r)):o.push(i.substring(a,a+t));return o};function Xe(i,t){for(const r in i)i.hasOwnProperty(r)&&t(r,i[r])}const Sp=function(i){O(!Nu(i),"Invalid JSON number");const t=11,r=52,o=(1<<t-1)-1;let a,c,f,p,m;i===0?(c=0,f=0,a=1/i===-1/0?1:0):(a=i<0,i=Math.abs(i),i>=Math.pow(2,1-o)?(p=Math.min(Math.floor(Math.log(i)/Math.LN2),o),c=p+o,f=Math.round(i*Math.pow(2,r-p)-Math.pow(2,r))):(c=0,f=Math.round(i/Math.pow(2,1-o-r))));const g=[];for(m=r;m;m-=1)g.push(f%2?1:0),f=Math.floor(f/2);for(m=t;m;m-=1)g.push(c%2?1:0),c=Math.floor(c/2);g.push(a?1:0),g.reverse();const I=g.join("");let w="";for(m=0;m<64;m+=8){let k=parseInt(I.substr(m,8),2).toString(16);k.length===1&&(k="0"+k),w=w+k}return w.toLowerCase()},Fy=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},zy=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Uy(i,t){let r="Unknown Error";i==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?r="Client doesn't have permission to access the desired data.":i==="unavailable"&&(r="The service is unavailable");const o=new Error(i+" at "+t._path.toString()+": "+r);return o.code=i.toUpperCase(),o}const By=new RegExp("^-?(0*)\\d{1,10}$"),jy=-2147483648,Wy=2147483647,Nh=function(i){if(By.test(i)){const t=Number(i);if(t>=jy&&t<=Wy)return t}return null},jr=function(i){try{i()}catch(t){setTimeout(()=>{const r=t.stack||"";throw it("Exception was thrown by user callback.",r),t},Math.floor(0))}},Hy=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Li=function(i,t){const r=setTimeout(i,t);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(t,r){this.appName_=t,this.appCheckProvider=r,this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(o=>this.appCheck=o)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((r,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(o=>o.addTokenListener(t))}notifyForInvalidToken(){it(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(t,r,o){this.appName_=t,this.firebaseOptions_=r,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(r=>r&&r.code==="auth/token-not-initialized"?(qe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(r=>r.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(r=>r.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',it(t)}}class po{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}po.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru="5",kp="v",Ip="s",Tp="r",Np="f",xp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Rp="ls",Pp="p",cu="ac",Dp="websocket",Ap="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(t,r,o,a,c=!1,f="",p=!1,m=!1){this.secure=r,this.namespace=o,this.webSocketOnly=a,this.nodeAdmin=c,this.persistenceKey=f,this.includeNamespaceInQueryParams=p,this.isUsingEmulator=m,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Yn.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Yn.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${r}`}}function $y(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function Lp(i,t,r){O(typeof t=="string","typeof type must == string"),O(typeof r=="object","typeof params must == object");let o;if(t===Dp)o=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(t===Ap)o=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);$y(i)&&(r.ns=i.namespace);const a=[];return Xe(r,(c,f)=>{a.push(c+"="+f)}),o+a.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(){this.counters_={}}incrementCounter(t,r=1){Gt(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=r}get(){return q_(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga={},Ka={};function Pu(i){const t=i.toString();return Ga[t]||(Ga[t]=new Qy),Ga[t]}function Gy(i,t){const r=i.toString();return Ka[r]||(Ka[r]=t()),Ka[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,r){this.closeAfterResponse=t,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,r){for(this.pendingResponses[t]=r;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<o.length;++a)o[a]&&jr(()=>{this.onMessage_(o[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh="start",Yy="close",qy="pLPCommand",Xy="pRTLPCB",Mp="id",Fp="pw",zp="ser",Jy="cb",Zy="seg",e0="ts",t0="d",n0="dframe",Up=1870,Bp=30,r0=Up-Bp,i0=25e3,s0=3e4;class xr{constructor(t,r,o,a,c,f,p){this.connId=t,this.repoInfo=r,this.applicationId=o,this.appCheckToken=a,this.authToken=c,this.transportSessionId=f,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Xi(t),this.stats_=Pu(r),this.urlFn=m=>(this.appCheckToken&&(m[cu]=this.appCheckToken),Lp(r,Ap,m))}open(t,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new Ky(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(s0)),Ly(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Du((...c)=>{const[f,p,m,g,I]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===xh)this.id=p,this.password=m;else if(f===Yy)p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...c)=>{const[f,p]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(f,p)},()=>{this.onClosed_()},this.urlFn);const o={};o[xh]="t",o[zp]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(o[Jy]=this.scriptTagHolder.uniqueCallbackIdentifier),o[kp]=Ru,this.transportSessionId&&(o[Ip]=this.transportSessionId),this.lastSessionId&&(o[Rp]=this.lastSessionId),this.applicationId&&(o[Pp]=this.applicationId),this.appCheckToken&&(o[cu]=this.appCheckToken),typeof location<"u"&&location.hostname&&xp.test(location.hostname)&&(o[Tp]=Np);const a=this.urlFn(o);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){xr.forceAllow_=!0}static forceDisallow(){xr.forceDisallow_=!0}static isAvailable(){return xr.forceAllow_?!0:!xr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Fy()&&!zy()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const r=Qe(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=sp(r),a=Cp(o,r0);for(let c=0;c<a.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[c]),this.curSegmentNum++}addDisconnectPingFrame(t,r){this.myDisconnFrame=document.createElement("iframe");const o={};o[n0]="t",o[Mp]=t,o[Fp]=r,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const r=Qe(t).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class Du{constructor(t,r,o,a){this.onDisconnect=o,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Dy(),window[qy+this.uniqueCallbackIdentifier]=t,window[Xy+this.uniqueCallbackIdentifier]=r,this.myIFrame=Du.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(p){qe("frame writing exception"),p.stack&&qe(p.stack),qe(p)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||qe("No IE domain setting required")}catch{const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,r){for(this.myID=t,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Mp]=this.myID,t[Fp]=this.myPW,t[zp]=this.currentSerial;let r=this.urlFn(t),o="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Bp+o.length<=Up;){const f=this.pendingSegs.shift();o=o+"&"+Zy+a+"="+f.seg+"&"+e0+a+"="+f.ts+"&"+t0+a+"="+f.d,a++}return r=r+o,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(t,r,o){this.pendingSegs.push({seg:t,ts:r,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,r){this.outstandingRequests.add(r);const o=()=>{this.outstandingRequests.delete(r),this.newRequest_()},a=setTimeout(o,Math.floor(i0)),c=()=>{clearTimeout(a),o()};this.addTag(t,c)}addTag(t,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const a=o.readyState;(!a||a==="loaded"||a==="complete")&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),r())},o.onerror=()=>{qe("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=16384,l0=45e3;let yo=null;typeof MozWebSocket<"u"?yo=MozWebSocket:typeof WebSocket<"u"&&(yo=WebSocket);class Ft{constructor(t,r,o,a,c,f,p){this.connId=t,this.applicationId=o,this.appCheckToken=a,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Xi(this.connId),this.stats_=Pu(r),this.connURL=Ft.connectionURL_(r,f,p,a,o),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,o,a,c){const f={};return f[kp]=Ru,typeof location<"u"&&location.hostname&&xp.test(location.hostname)&&(f[Tp]=Np),r&&(f[Ip]=r),o&&(f[Rp]=o),a&&(f[cu]=a),c&&(f[Pp]=c),Lp(t,Dp,f)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Yn.set("previous_websocket_failure",!0);try{let o;cp(),this.mySock=new yo(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const a=o.message||o.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const a=o.message||o.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){Ft.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(r);o&&o.length>1&&parseFloat(o[1])<4.4&&(t=!0)}return!t&&yo!==null&&!Ft.forceDisallow_}static previouslyFailed(){return Yn.isInMemoryStorage||Yn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Yn.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const o=Ui(r);this.onMessage(o)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(O(this.frames===null,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const o=this.extractFrameCount_(r);o!==null&&this.appendFrame_(o)}}send(t){this.resetKeepAlive();const r=Qe(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=Cp(r,o0);o.length>1&&this.sendString_(String(o.length));for(let a=0;a<o.length;a++)this.sendString_(o[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(l0))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ft.responsesRequiredToBeHealthy=2;Ft.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{static get ALL_TRANSPORTS(){return[xr,Ft]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const r=Ft&&Ft.isAvailable();let o=r&&!Ft.previouslyFailed();if(t.webSocketOnly&&(r||it("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Ft];else{const a=this.transports_=[];for(const c of Wi.ALL_TRANSPORTS)c&&c.isAvailable()&&a.push(c);Wi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Wi.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0=6e4,u0=5e3,c0=10*1024,d0=100*1024,Ya="t",Rh="d",f0="s",Ph="r",h0="e",Dh="o",Ah="a",Oh="n",Lh="p",p0="h";class m0{constructor(t,r,o,a,c,f,p,m,g,I){this.id=t,this.repoInfo_=r,this.applicationId_=o,this.appCheckToken_=a,this.authToken_=c,this.onMessage_=f,this.onReady_=p,this.onDisconnect_=m,this.onKill_=g,this.lastSessionId=I,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Xi("c:"+this.id+":"),this.transportManager_=new Wi(r),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,o)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=Li(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>d0?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>c0?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return r=>{t===this.conn_?this.onConnectionLost_(r):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return r=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(r):t===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(t){const r={t:"d",d:t};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Ya in t){const r=t[Ya];r===Ah?this.upgradeIfSecondaryHealthy_():r===Ph?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===Dh&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const r=Ri("t",t),o=Ri("d",t);if(r==="c")this.onSecondaryControl_(o);else if(r==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Lh,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ah,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Oh,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const r=Ri("t",t),o=Ri("d",t);r==="c"?this.onControl_(o):r==="d"&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const r=Ri(Ya,t);if(Rh in t){const o=t[Rh];if(r===p0){const a=Object.assign({},o);this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if(r===Oh){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===f0?this.onConnectionShutdown_(o):r===Ph?this.onReset_(o):r===h0?uu("Server Error: "+o):r===Dh?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):uu("Unknown control packet command: "+r)}}onHandshake_(t){const r=t.ts,o=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),Ru!==o&&it("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,o),Li(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(a0))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,r){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Li(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(u0))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Lh,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Yn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{put(t,r,o,a){}merge(t,r,o,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,r,o){}onDisconnectMerge(t,r,o){}onDisconnectCancel(t,r){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(t){this.allowedEvents_=t,this.listeners_={},O(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...r){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let a=0;a<o.length;a++)o[a].callback.apply(o[a].context,r)}}on(t,r,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:r,context:o});const a=this.getInitialEvent(t);a&&r.apply(o,a)}off(t,r,o){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let c=0;c<a.length;c++)if(a[c].callback===r&&(!o||o===a[c].context)){a.splice(c,1);return}}validateEventType_(t){O(this.allowedEvents_.find(r=>r===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends Wp{static getInstance(){return new wo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!up()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return O(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=32,Fh=768;class fe{constructor(t,r){if(r===void 0){this.pieces_=t.split("/");let o=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[o]=this.pieces_[a],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=r}toString(){let t="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(t+="/"+this.pieces_[r]);return t||"/"}}function ue(){return new fe("")}function Z(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Dn(i){return i.pieces_.length-i.pieceNum_}function _e(i){let t=i.pieceNum_;return t<i.pieces_.length&&t++,new fe(i.pieces_,t)}function Au(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function g0(i){let t="";for(let r=i.pieceNum_;r<i.pieces_.length;r++)i.pieces_[r]!==""&&(t+="/"+encodeURIComponent(String(i.pieces_[r])));return t||"/"}function Hi(i,t=0){return i.pieces_.slice(i.pieceNum_+t)}function Hp(i){if(i.pieceNum_>=i.pieces_.length)return null;const t=[];for(let r=i.pieceNum_;r<i.pieces_.length-1;r++)t.push(i.pieces_[r]);return new fe(t,0)}function Re(i,t){const r=[];for(let o=i.pieceNum_;o<i.pieces_.length;o++)r.push(i.pieces_[o]);if(t instanceof fe)for(let o=t.pieceNum_;o<t.pieces_.length;o++)r.push(t.pieces_[o]);else{const o=t.split("/");for(let a=0;a<o.length;a++)o[a].length>0&&r.push(o[a])}return new fe(r,0)}function ne(i){return i.pieceNum_>=i.pieces_.length}function ft(i,t){const r=Z(i),o=Z(t);if(r===null)return t;if(r===o)return ft(_e(i),_e(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+i+")")}function _0(i,t){const r=Hi(i,0),o=Hi(t,0);for(let a=0;a<r.length&&a<o.length;a++){const c=er(r[a],o[a]);if(c!==0)return c}return r.length===o.length?0:r.length<o.length?-1:1}function Ou(i,t){if(Dn(i)!==Dn(t))return!1;for(let r=i.pieceNum_,o=t.pieceNum_;r<=i.pieces_.length;r++,o++)if(i.pieces_[r]!==t.pieces_[o])return!1;return!0}function Tt(i,t){let r=i.pieceNum_,o=t.pieceNum_;if(Dn(i)>Dn(t))return!1;for(;r<i.pieces_.length;){if(i.pieces_[r]!==t.pieces_[o])return!1;++r,++o}return!0}class v0{constructor(t,r){this.errorPrefix_=r,this.parts_=Hi(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=Oo(this.parts_[o]);Vp(this)}}function y0(i,t){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(t),i.byteLength_+=Oo(t),Vp(i)}function w0(i){const t=i.parts_.pop();i.byteLength_-=Oo(t),i.parts_.length>0&&(i.byteLength_-=1)}function Vp(i){if(i.byteLength_>Fh)throw new Error(i.errorPrefix_+"has a key path longer than "+Fh+" bytes ("+i.byteLength_+").");if(i.parts_.length>Mh)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Mh+") or object contains a cycle "+Kn(i))}function Kn(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends Wp{static getInstance(){return new Lu}constructor(){super(["visible"]);let t,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}getInitialEvent(t){return O(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=1e3,E0=60*5*1e3,zh=30*1e3,C0=1.3,S0=3e4,k0="server_kill",Uh=3;class sn extends jp{constructor(t,r,o,a,c,f,p,m){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=o,this.onConnectStatus_=a,this.onServerInfoUpdate_=c,this.authTokenProvider_=f,this.appCheckTokenProvider_=p,this.authOverride_=m,this.id=sn.nextPersistentConnectionId_++,this.log_=Xi("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Pi,this.maxReconnectDelay_=E0,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m&&!cp())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Lu.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&wo.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,o){const a=++this.requestNumber_,c={r:a,a:t,b:r};this.log_(Qe(c)),O(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),o&&(this.requestCBHash_[a]=o)}get(t){this.initConnection_();const r=new Gi,a={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:f=>{const p=f.d;f.s==="ok"?r.resolve(p):r.reject(p)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),r.promise}listen(t,r,o,a){this.initConnection_();const c=t._queryIdentifier,f=t._path.toString();this.log_("Listen called for "+f+" "+c),this.listens.has(f)||this.listens.set(f,new Map),O(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),O(!this.listens.get(f).has(c),"listen() called twice for same path/queryId.");const p={onComplete:a,hashFn:r,query:t,tag:o};this.listens.get(f).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,o=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(o)})}sendListen_(t){const r=t.query,o=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+o+" for "+a);const c={p:o},f="q";t.tag&&(c.q=r._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest(f,c,p=>{const m=p.d,g=p.s;sn.warnOnListenWarnings_(m,r),(this.listens.get(o)&&this.listens.get(o).get(a))===t&&(this.log_("listen response",p),g!=="ok"&&this.removeListen_(o,a),t.onComplete&&t.onComplete(g,m))})}static warnOnListenWarnings_(t,r){if(t&&typeof t=="object"&&Gt(t,"w")){const o=Or(t,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const a='".indexOn": "'+r._queryParams.getIndex().toString()+'"',c=r._path.toString();it(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||hv(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=zh)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=fv(t)?"auth":"gauth",o={cred:t};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(r,o,a=>{const c=a.s,f=a.d||"error";this.authToken_===t&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,o=t.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,o)})}unlisten(t,r){const o=t._path.toString(),a=t._queryIdentifier;this.log_("Unlisten called for "+o+" "+a),O(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,a)&&this.connected_&&this.sendUnlisten_(o,a,t._queryObject,r)}sendUnlisten_(t,r,o,a){this.log_("Unlisten on "+t+" for "+r);const c={p:t},f="n";a&&(c.q=o,c.t=a),this.sendRequest(f,c)}onDisconnectPut(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:o})}onDisconnectMerge(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:o})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,o,a){const c={p:r,d:o};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,f=>{a&&setTimeout(()=>{a(f.s,f.d)},Math.floor(0))})}put(t,r,o,a){this.putInternal("p",t,r,o,a)}merge(t,r,o,a){this.putInternal("m",t,r,o,a)}putInternal(t,r,o,a,c){this.initConnection_();const f={p:r,d:o};c!==void 0&&(f.h=c),this.outstandingPuts_.push({action:t,request:f,onComplete:a}),this.outstandingPutCount_++;const p=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(p):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,o=this.outstandingPuts_[t].request,a=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,o,c=>{this.log_(r+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(c.s,c.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,o=>{if(o.s!=="ok"){const c=o.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Qe(t));const r=t.r,o=this.requestCBHash_[r];o&&(delete this.requestCBHash_[r],o(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),t==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):t==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):t==="c"?this.onListenRevoked_(r.p,r.q):t==="ac"?this.onAuthRevoked_(r.s,r.d):t==="apc"?this.onAppCheckRevoked_(r.s,r.d):t==="sd"?this.onSecurityDebugPacket_(r):uu("Unrecognized action received from server: "+Qe(t)+`
Are you using the latest client?`)}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){O(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Pi,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Pi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>S0&&(this.reconnectDelay_=Pi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*C0)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+sn.nextConnectionId_++,c=this.lastSessionId;let f=!1,p=null;const m=function(){p?p.close():(f=!0,o())},g=function(w){O(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(w)};this.realtime_={close:m,sendRequest:g};const I=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[w,k]=await Promise.all([this.authTokenProvider_.getToken(I),this.appCheckTokenProvider_.getToken(I)]);f?qe("getToken() completed but was canceled"):(qe("getToken() completed. Creating connection."),this.authToken_=w&&w.accessToken,this.appCheckToken_=k&&k.token,p=new m0(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,o,A=>{it(A+" ("+this.repoInfo_.toString()+")"),this.interrupt(k0)},c))}catch(w){this.log_("Failed to get token: "+w),f||(this.repoInfo_.nodeAdmin&&it(w),m())}}}interrupt(t){qe("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){qe("Resuming connection for reason: "+t),delete this.interruptReasons_[t],hh(this.interruptReasons_)&&(this.reconnectDelay_=Pi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let o;r?o=r.map(c=>xu(c)).join("$"):o="default";const a=this.removeListen_(t,o);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(t,r){const o=new fe(t).toString();let a;if(this.listens.has(o)){const c=this.listens.get(o);a=c.get(r),c.delete(r),c.size===0&&this.listens.delete(o)}else a=void 0;return a}onAuthRevoked_(t,r){qe("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Uh&&(this.reconnectDelay_=zh,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){qe("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Uh&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+yp.replace(/\./g,"-")]=1,up()?t["framework.cordova"]=1:ov()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=wo.getInstance().currentlyOnline();return hh(this.interruptReasons_)&&t}}sn.nextPersistentConnectionId_=0;sn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(t,r){this.name=t,this.node=r}static Wrap(t,r){return new ee(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,r){const o=new ee(Lr,t),a=new ee(Lr,r);return this.compare(o,a)!==0}minPost(){return ee.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fo;class bp extends Lo{static get __EMPTY_NODE(){return fo}static set __EMPTY_NODE(t){fo=t}compare(t,r){return er(t.name,r.name)}isDefinedOn(t){throw Br("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,r){return!1}minPost(){return ee.MIN}maxPost(){return new ee(qn,fo)}makePost(t,r){return O(typeof t=="string","KeyIndex indexValue must always be a string."),new ee(t,fo)}toString(){return".key"}}const Dr=new bp;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(t,r,o,a,c=null){this.isReverse_=a,this.resultGenerator_=c,this.nodeStack_=[];let f=1;for(;!t.isEmpty();)if(t=t,f=r?o(t.key,r):1,a&&(f*=-1),f<0)this.isReverse_?t=t.left:t=t.right;else if(f===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(t.key,t.value):r={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class be{constructor(t,r,o,a,c){this.key=t,this.value=r,this.color=o??be.RED,this.left=a??ht.EMPTY_NODE,this.right=c??ht.EMPTY_NODE}copy(t,r,o,a,c){return new be(t??this.key,r??this.value,o??this.color,a??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,o){let a=this;const c=o(t,a.key);return c<0?a=a.copy(null,null,null,a.left.insert(t,r,o),null):c===0?a=a.copy(null,r,null,null,null):a=a.copy(null,null,null,null,a.right.insert(t,r,o)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return ht.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let o,a;if(o=this,r(t,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(t,r),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),r(t,o.key)===0){if(o.right.isEmpty())return ht.EMPTY_NODE;a=o.right.min_(),o=o.copy(a.key,a.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(t,r))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,be.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}be.RED=!0;be.BLACK=!1;class I0{copy(t,r,o,a,c){return this}insert(t,r,o){return new be(t,r,null)}remove(t,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ht{constructor(t,r=ht.EMPTY_NODE){this.comparator_=t,this.root_=r}insert(t,r){return new ht(this.comparator_,this.root_.insert(t,r,this.comparator_).copy(null,null,be.BLACK,null,null))}remove(t){return new ht(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,be.BLACK,null,null))}get(t){let r,o=this.root_;for(;!o.isEmpty();){if(r=this.comparator_(t,o.key),r===0)return o.value;r<0?o=o.left:r>0&&(o=o.right)}return null}getPredecessorKey(t){let r,o=this.root_,a=null;for(;!o.isEmpty();)if(r=this.comparator_(t,o.key),r===0){if(o.left.isEmpty())return a?a.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else r<0?o=o.left:r>0&&(a=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new ho(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,r){return new ho(this.root_,t,this.comparator_,!1,r)}getReverseIteratorFrom(t,r){return new ho(this.root_,t,this.comparator_,!0,r)}getReverseIterator(t){return new ho(this.root_,null,this.comparator_,!0,t)}}ht.EMPTY_NODE=new I0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(i,t){return er(i.name,t.name)}function Mu(i,t){return er(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let du;function N0(i){du=i}const $p=function(i){return typeof i=="number"?"number:"+Sp(i):"string:"+i},Qp=function(i){if(i.isLeafNode()){const t=i.val();O(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Gt(t,".sv"),"Priority must be a string or number.")}else O(i===du||i.isEmpty(),"priority of unexpected type.");O(i===du||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bh;class Ve{static set __childrenNodeConstructor(t){Bh=t}static get __childrenNodeConstructor(){return Bh}constructor(t,r=Ve.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,O(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Qp(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Ve(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Ve.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ne(t)?this:Z(t)===".priority"?this.priorityNode_:Ve.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return t===".priority"?this.updatePriority(r):r.isEmpty()&&t!==".priority"?this:Ve.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const o=Z(t);return o===null?r:r.isEmpty()&&o!==".priority"?this:(O(o!==".priority"||Dn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,Ve.__childrenNodeConstructor.EMPTY_NODE.updateChild(_e(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+$p(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",r==="number"?t+=Sp(this.value_):t+=this.value_,this.lazyHash_=Ep(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Ve.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Ve.__childrenNodeConstructor?-1:(O(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,o=typeof this.value_,a=Ve.VALUE_TYPE_ORDER.indexOf(r),c=Ve.VALUE_TYPE_ORDER.indexOf(o);return O(a>=0,"Unknown leaf type: "+r),O(c>=0,"Unknown leaf type: "+o),a===c?o==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-a}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}Ve.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gp,Kp;function x0(i){Gp=i}function R0(i){Kp=i}class P0 extends Lo{compare(t,r){const o=t.node.getPriority(),a=r.node.getPriority(),c=o.compareTo(a);return c===0?er(t.name,r.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,r){return!t.getPriority().equals(r.getPriority())}minPost(){return ee.MIN}maxPost(){return new ee(qn,new Ve("[PRIORITY-POST]",Kp))}makePost(t,r){const o=Gp(t);return new ee(r,new Ve("[PRIORITY-POST]",o))}toString(){return".priority"}}const Pe=new P0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=Math.log(2);class A0{constructor(t){const r=c=>parseInt(Math.log(c)/D0,10),o=c=>parseInt(Array(c+1).join("1"),2);this.count=r(t+1),this.current_=this.count-1;const a=o(this.count);this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Eo=function(i,t,r,o){i.sort(t);const a=function(m,g){const I=g-m;let w,k;if(I===0)return null;if(I===1)return w=i[m],k=r?r(w):w,new be(k,w.node,be.BLACK,null,null);{const A=parseInt(I/2,10)+m,L=a(m,A),V=a(A+1,g);return w=i[A],k=r?r(w):w,new be(k,w.node,be.BLACK,L,V)}},c=function(m){let g=null,I=null,w=i.length;const k=function(L,V){const K=w-L,Oe=w;w-=L;const Fe=a(K+1,Oe),ze=i[K],Te=r?r(ze):ze;A(new be(Te,ze.node,V,null,Fe))},A=function(L){g?(g.left=L,g=L):(I=L,g=L)};for(let L=0;L<m.count;++L){const V=m.nextBitIsOne(),K=Math.pow(2,m.count-(L+1));V?k(K,be.BLACK):(k(K,be.BLACK),k(K,be.RED))}return I},f=new A0(i.length),p=c(f);return new ht(o||t,p)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qa;const Nr={};class rn{static get Default(){return O(Nr&&Pe,"ChildrenNode.ts has not been loaded"),qa=qa||new rn({".priority":Nr},{".priority":Pe}),qa}constructor(t,r){this.indexes_=t,this.indexSet_=r}get(t){const r=Or(this.indexes_,t);if(!r)throw new Error("No index defined for "+t);return r instanceof ht?r:null}hasIndex(t){return Gt(this.indexSet_,t.toString())}addIndex(t,r){O(t!==Dr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let a=!1;const c=r.getIterator(ee.Wrap);let f=c.getNext();for(;f;)a=a||t.isDefinedOn(f.node),o.push(f),f=c.getNext();let p;a?p=Eo(o,t.getCompare()):p=Nr;const m=t.toString(),g=Object.assign({},this.indexSet_);g[m]=t;const I=Object.assign({},this.indexes_);return I[m]=p,new rn(I,g)}addToIndexes(t,r){const o=go(this.indexes_,(a,c)=>{const f=Or(this.indexSet_,c);if(O(f,"Missing index implementation for "+c),a===Nr)if(f.isDefinedOn(t.node)){const p=[],m=r.getIterator(ee.Wrap);let g=m.getNext();for(;g;)g.name!==t.name&&p.push(g),g=m.getNext();return p.push(t),Eo(p,f.getCompare())}else return Nr;else{const p=r.get(t.name);let m=a;return p&&(m=m.remove(new ee(t.name,p))),m.insert(t,t.node)}});return new rn(o,this.indexSet_)}removeFromIndexes(t,r){const o=go(this.indexes_,a=>{if(a===Nr)return a;{const c=r.get(t.name);return c?a.remove(new ee(t.name,c)):a}});return new rn(o,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Di;class Y{static get EMPTY_NODE(){return Di||(Di=new Y(new ht(Mu),null,rn.Default))}constructor(t,r,o){this.children_=t,this.priorityNode_=r,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&Qp(this.priorityNode_),this.children_.isEmpty()&&O(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Di}updatePriority(t){return this.children_.isEmpty()?this:new Y(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const r=this.children_.get(t);return r===null?Di:r}}getChild(t){const r=Z(t);return r===null?this:this.getImmediateChild(r).getChild(_e(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,r){if(O(r,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(r);{const o=new ee(t,r);let a,c;r.isEmpty()?(a=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(o,this.children_)):(a=this.children_.insert(t,r),c=this.indexMap_.addToIndexes(o,this.children_));const f=a.isEmpty()?Di:this.priorityNode_;return new Y(a,f,c)}}updateChild(t,r){const o=Z(t);if(o===null)return r;{O(Z(t)!==".priority"||Dn(t)===1,".priority must be the last token in a path");const a=this.getImmediateChild(o).updateChild(_e(t),r);return this.updateImmediateChild(o,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let o=0,a=0,c=!0;if(this.forEachChild(Pe,(f,p)=>{r[f]=p.val(t),o++,c&&Y.INTEGER_REGEXP_.test(f)?a=Math.max(a,Number(f)):c=!1}),!t&&c&&a<2*o){const f=[];for(const p in r)f[p]=r[p];return f}else return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+$p(this.getPriority().val())+":"),this.forEachChild(Pe,(r,o)=>{const a=o.hash();a!==""&&(t+=":"+r+":"+a)}),this.lazyHash_=t===""?"":Ep(t)}return this.lazyHash_}getPredecessorChildName(t,r,o){const a=this.resolveIndex_(o);if(a){const c=a.getPredecessorKey(new ee(t,r));return c?c.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new ee(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new ee(r,this.children_.get(r)):null}forEachChild(t,r){const o=this.resolveIndex_(t);return o?o.inorderTraversal(a=>r(a.name,a.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getIteratorFrom(t,a=>a);{const a=this.children_.getIteratorFrom(t.name,ee.Wrap);let c=a.peek();for(;c!=null&&r.compare(c,t)<0;)a.getNext(),c=a.peek();return a}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getReverseIteratorFrom(t,a=>a);{const a=this.children_.getReverseIteratorFrom(t.name,ee.Wrap);let c=a.peek();for(;c!=null&&r.compare(c,t)>0;)a.getNext(),c=a.peek();return a}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ji?-1:0}withIndex(t){if(t===Dr||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new Y(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Dr||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const o=this.getIterator(Pe),a=r.getIterator(Pe);let c=o.getNext(),f=a.getNext();for(;c&&f;){if(c.name!==f.name||!c.node.equals(f.node))return!1;c=o.getNext(),f=a.getNext()}return c===null&&f===null}else return!1;else return!1}}resolveIndex_(t){return t===Dr?null:this.indexMap_.get(t.toString())}}Y.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class O0 extends Y{constructor(){super(new ht(Mu),Y.EMPTY_NODE,rn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Y.EMPTY_NODE}isEmpty(){return!1}}const Ji=new O0;Object.defineProperties(ee,{MIN:{value:new ee(Lr,Y.EMPTY_NODE)},MAX:{value:new ee(qn,Ji)}});bp.__EMPTY_NODE=Y.EMPTY_NODE;Ve.__childrenNodeConstructor=Y;N0(Ji);R0(Ji);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0=!0;function $e(i,t=null){if(i===null)return Y.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(t=i[".priority"]),O(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const r=i;return new Ve(r,$e(t))}if(!(i instanceof Array)&&L0){const r=[];let o=!1;if(Xe(i,(f,p)=>{if(f.substring(0,1)!=="."){const m=$e(p);m.isEmpty()||(o=o||!m.getPriority().isEmpty(),r.push(new ee(f,m)))}}),r.length===0)return Y.EMPTY_NODE;const c=Eo(r,T0,f=>f.name,Mu);if(o){const f=Eo(r,Pe.getCompare());return new Y(c,$e(t),new rn({".priority":f},{".priority":Pe}))}else return new Y(c,$e(t),rn.Default)}else{let r=Y.EMPTY_NODE;return Xe(i,(o,a)=>{if(Gt(i,o)&&o.substring(0,1)!=="."){const c=$e(a);(c.isLeafNode()||!c.isEmpty())&&(r=r.updateImmediateChild(o,c))}}),r.updatePriority($e(t))}}x0($e);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0 extends Lo{constructor(t){super(),this.indexPath_=t,O(!ne(t)&&Z(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,r){const o=this.extractChild(t.node),a=this.extractChild(r.node),c=o.compareTo(a);return c===0?er(t.name,r.name):c}makePost(t,r){const o=$e(t),a=Y.EMPTY_NODE.updateChild(this.indexPath_,o);return new ee(r,a)}maxPost(){const t=Y.EMPTY_NODE.updateChild(this.indexPath_,Ji);return new ee(qn,t)}toString(){return Hi(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0 extends Lo{compare(t,r){const o=t.node.compareTo(r.node);return o===0?er(t.name,r.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,r){return!t.equals(r)}minPost(){return ee.MIN}maxPost(){return ee.MAX}makePost(t,r){const o=$e(t);return new ee(r,o)}toString(){return".value"}}const z0=new F0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(i){return{type:"value",snapshotNode:i}}function Mr(i,t){return{type:"child_added",snapshotNode:t,childName:i}}function Vi(i,t){return{type:"child_removed",snapshotNode:t,childName:i}}function bi(i,t,r){return{type:"child_changed",snapshotNode:t,childName:i,oldSnap:r}}function U0(i,t){return{type:"child_moved",snapshotNode:t,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(t){this.index_=t}updateChild(t,r,o,a,c,f){O(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const p=t.getImmediateChild(r);return p.getChild(a).equals(o.getChild(a))&&p.isEmpty()===o.isEmpty()||(f!=null&&(o.isEmpty()?t.hasChild(r)?f.trackChildChange(Vi(r,p)):O(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):p.isEmpty()?f.trackChildChange(Mr(r,o)):f.trackChildChange(bi(r,o,p))),t.isLeafNode()&&o.isEmpty())?t:t.updateImmediateChild(r,o).withIndex(this.index_)}updateFullNode(t,r,o){return o!=null&&(t.isLeafNode()||t.forEachChild(Pe,(a,c)=>{r.hasChild(a)||o.trackChildChange(Vi(a,c))}),r.isLeafNode()||r.forEachChild(Pe,(a,c)=>{if(t.hasChild(a)){const f=t.getImmediateChild(a);f.equals(c)||o.trackChildChange(bi(a,c,f))}else o.trackChildChange(Mr(a,c))})),r.withIndex(this.index_)}updatePriority(t,r){return t.isEmpty()?Y.EMPTY_NODE:t.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(t){this.indexedFilter_=new Fu(t.getIndex()),this.index_=t.getIndex(),this.startPost_=$i.getStartPost_(t),this.endPost_=$i.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,o=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return r&&o}updateChild(t,r,o,a,c,f){return this.matches(new ee(r,o))||(o=Y.EMPTY_NODE),this.indexedFilter_.updateChild(t,r,o,a,c,f)}updateFullNode(t,r,o){r.isLeafNode()&&(r=Y.EMPTY_NODE);let a=r.withIndex(this.index_);a=a.updatePriority(Y.EMPTY_NODE);const c=this;return r.forEachChild(Pe,(f,p)=>{c.matches(new ee(f,p))||(a=a.updateImmediateChild(f,Y.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,o)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const r=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),r)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const r=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),r)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(t){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=r=>{const o=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new $i(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,r,o,a,c,f){return this.rangedFilter_.matches(new ee(r,o))||(o=Y.EMPTY_NODE),t.getImmediateChild(r).equals(o)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,r,o,a,c,f):this.fullLimitUpdateChild_(t,r,o,c,f)}updateFullNode(t,r,o){let a;if(r.isLeafNode()||r.isEmpty())a=Y.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){a=Y.EMPTY_NODE.withIndex(this.index_);let c;this.reverse_?c=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;c.hasNext()&&f<this.limit_;){const p=c.getNext();if(this.withinDirectionalStart(p))if(this.withinDirectionalEnd(p))a=a.updateImmediateChild(p.name,p.node),f++;else break;else continue}}else{a=r.withIndex(this.index_),a=a.updatePriority(Y.EMPTY_NODE);let c;this.reverse_?c=a.getReverseIterator(this.index_):c=a.getIterator(this.index_);let f=0;for(;c.hasNext();){const p=c.getNext();f<this.limit_&&this.withinDirectionalStart(p)&&this.withinDirectionalEnd(p)?f++:a=a.updateImmediateChild(p.name,Y.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,o)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,r,o,a,c){let f;if(this.reverse_){const w=this.index_.getCompare();f=(k,A)=>w(A,k)}else f=this.index_.getCompare();const p=t;O(p.numChildren()===this.limit_,"");const m=new ee(r,o),g=this.reverse_?p.getFirstChild(this.index_):p.getLastChild(this.index_),I=this.rangedFilter_.matches(m);if(p.hasChild(r)){const w=p.getImmediateChild(r);let k=a.getChildAfterChild(this.index_,g,this.reverse_);for(;k!=null&&(k.name===r||p.hasChild(k.name));)k=a.getChildAfterChild(this.index_,k,this.reverse_);const A=k==null?1:f(k,m);if(I&&!o.isEmpty()&&A>=0)return c!=null&&c.trackChildChange(bi(r,o,w)),p.updateImmediateChild(r,o);{c!=null&&c.trackChildChange(Vi(r,w));const V=p.updateImmediateChild(r,Y.EMPTY_NODE);return k!=null&&this.rangedFilter_.matches(k)?(c!=null&&c.trackChildChange(Mr(k.name,k.node)),V.updateImmediateChild(k.name,k.node)):V}}else return o.isEmpty()?t:I&&f(g,m)>=0?(c!=null&&(c.trackChildChange(Vi(g.name,g.node)),c.trackChildChange(Mr(r,o))),p.updateImmediateChild(r,o).updateImmediateChild(g.name,Y.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Pe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return O(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return O(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Lr}hasEnd(){return this.endSet_}getIndexEndValue(){return O(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return O(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:qn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return O(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Pe}copy(){const t=new zu;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function j0(i){return i.loadsAllData()?new Fu(i.getIndex()):i.hasLimit()?new B0(i):new $i(i)}function jh(i){const t={};if(i.isDefault())return t;let r;if(i.index_===Pe?r="$priority":i.index_===z0?r="$value":i.index_===Dr?r="$key":(O(i.index_ instanceof M0,"Unrecognized index type!"),r=i.index_.toString()),t.orderBy=Qe(r),i.startSet_){const o=i.startAfterSet_?"startAfter":"startAt";t[o]=Qe(i.indexStartValue_),i.startNameSet_&&(t[o]+=","+Qe(i.indexStartName_))}if(i.endSet_){const o=i.endBeforeSet_?"endBefore":"endAt";t[o]=Qe(i.indexEndValue_),i.endNameSet_&&(t[o]+=","+Qe(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?t.limitToFirst=i.limit_:t.limitToLast=i.limit_),t}function Wh(i){const t={};if(i.startSet_&&(t.sp=i.indexStartValue_,i.startNameSet_&&(t.sn=i.indexStartName_),t.sin=!i.startAfterSet_),i.endSet_&&(t.ep=i.indexEndValue_,i.endNameSet_&&(t.en=i.indexEndName_),t.ein=!i.endBeforeSet_),i.limitSet_){t.l=i.limit_;let r=i.viewFrom_;r===""&&(i.isViewFromLeft()?r="l":r="r"),t.vf=r}return i.index_!==Pe&&(t.i=i.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co extends jp{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,r){return r!==void 0?"tag$"+r:(O(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,r,o,a){super(),this.repoInfo_=t,this.onDataUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.log_=Xi("p:rest:"),this.listens_={}}listen(t,r,o,a){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const f=Co.getListenId_(t,o),p={};this.listens_[f]=p;const m=jh(t._queryParams);this.restRequest_(c+".json",m,(g,I)=>{let w=I;if(g===404&&(w=null,g=null),g===null&&this.onDataUpdate_(c,w,!1,o),Or(this.listens_,f)===p){let k;g?g===401?k="permission_denied":k="rest_error:"+g:k="ok",a(k,null)}})}unlisten(t,r){const o=Co.getListenId_(t,r);delete this.listens_[o]}get(t){const r=jh(t._queryParams),o=t._path.toString(),a=new Gi;return this.restRequest_(o+".json",r,(c,f)=>{let p=f;c===404&&(p=null,c=null),c===null?(this.onDataUpdate_(o,p,!1,null),a.resolve(p)):a.reject(new Error(p))}),a.promise}refreshAuthToken(t){}restRequest_(t,r={},o){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,c])=>{a&&a.accessToken&&(r.auth=a.accessToken),c&&c.token&&(r.ac=c.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+pv(r);this.log_("Sending REST request for "+f);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(o&&p.readyState===4){this.log_("REST Response for "+f+" received. status:",p.status,"response:",p.responseText);let m=null;if(p.status>=200&&p.status<300){try{m=Ui(p.responseText)}catch{it("Failed to parse JSON response for "+f+": "+p.responseText)}o(null,m)}else p.status!==401&&p.status!==404&&it("Got unsuccessful REST response for "+f+" Status: "+p.status),o(p.status);o=null}},p.open("GET",f,!0),p.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(){this.rootNode_=Y.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,r){this.rootNode_=this.rootNode_.updateChild(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(){return{value:null,children:new Map}}function qp(i,t,r){if(ne(t))i.value=r,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(t,r);else{const o=Z(t);i.children.has(o)||i.children.set(o,So());const a=i.children.get(o);t=_e(t),qp(a,t,r)}}function fu(i,t,r){i.value!==null?r(t,i.value):H0(i,(o,a)=>{const c=new fe(t.toString()+"/"+o);fu(a,c,r)})}function H0(i,t){i.children.forEach((r,o)=>{t(o,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),r=Object.assign({},t);return this.last_&&Xe(this.last_,(o,a)=>{r[o]=r[o]-a}),this.last_=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=10*1e3,b0=30*1e3,$0=5*60*1e3;class Q0{constructor(t,r){this.server_=r,this.statsToReport_={},this.statsListener_=new V0(t);const o=Hh+(b0-Hh)*Math.random();Li(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),r={};let o=!1;Xe(t,(a,c)=>{c>0&&Gt(this.statsToReport_,a)&&(r[a]=c,o=!0)}),o&&this.server_.reportStats(r),Li(this.reportStats_.bind(this),Math.floor(Math.random()*2*$0))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(zt||(zt={}));function Uu(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Bu(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ju(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(t,r,o){this.path=t,this.affectedTree=r,this.revert=o,this.type=zt.ACK_USER_WRITE,this.source=Uu()}operationForChild(t){if(ne(this.path)){if(this.affectedTree.value!=null)return O(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new fe(t));return new ko(ue(),r,this.revert)}}else return O(Z(this.path)===t,"operationForChild called for unrelated child."),new ko(_e(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(t,r){this.source=t,this.path=r,this.type=zt.LISTEN_COMPLETE}operationForChild(t){return ne(this.path)?new Qi(this.source,ue()):new Qi(this.source,_e(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(t,r,o){this.source=t,this.path=r,this.snap=o,this.type=zt.OVERWRITE}operationForChild(t){return ne(this.path)?new Xn(this.source,ue(),this.snap.getImmediateChild(t)):new Xn(this.source,_e(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(t,r,o){this.source=t,this.path=r,this.children=o,this.type=zt.MERGE}operationForChild(t){if(ne(this.path)){const r=this.children.subtree(new fe(t));return r.isEmpty()?null:r.value?new Xn(this.source,ue(),r.value):new Fr(this.source,ue(),r)}else return O(Z(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Fr(this.source,_e(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t,r,o){this.node_=t,this.fullyInitialized_=r,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(ne(t))return this.isFullyInitialized()&&!this.filtered_;const r=Z(t);return this.isCompleteForChild(r)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function K0(i,t,r,o){const a=[],c=[];return t.forEach(f=>{f.type==="child_changed"&&i.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&c.push(U0(f.childName,f.snapshotNode))}),Ai(i,a,"child_removed",t,o,r),Ai(i,a,"child_added",t,o,r),Ai(i,a,"child_moved",c,o,r),Ai(i,a,"child_changed",t,o,r),Ai(i,a,"value",t,o,r),a}function Ai(i,t,r,o,a,c){const f=o.filter(p=>p.type===r);f.sort((p,m)=>q0(i,p,m)),f.forEach(p=>{const m=Y0(i,p,c);a.forEach(g=>{g.respondsTo(p.type)&&t.push(g.createEvent(m,i.query_))})})}function Y0(i,t,r){return t.type==="value"||t.type==="child_removed"||(t.prevName=r.getPredecessorChildName(t.childName,t.snapshotNode,i.index_)),t}function q0(i,t,r){if(t.childName==null||r.childName==null)throw Br("Should only compare child_ events.");const o=new ee(t.childName,t.snapshotNode),a=new ee(r.childName,r.snapshotNode);return i.index_.compare(o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(i,t){return{eventCache:i,serverCache:t}}function Mi(i,t,r,o){return Mo(new Jn(t,r,o),i.serverCache)}function Xp(i,t,r,o){return Mo(i.eventCache,new Jn(t,r,o))}function hu(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function Zn(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xa;const X0=()=>(Xa||(Xa=new ht(My)),Xa);class me{static fromObject(t){let r=new me(null);return Xe(t,(o,a)=>{r=r.set(new fe(o),a)}),r}constructor(t,r=X0()){this.value=t,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,r){if(this.value!=null&&r(this.value))return{path:ue(),value:this.value};if(ne(t))return null;{const o=Z(t),a=this.children.get(o);if(a!==null){const c=a.findRootMostMatchingPathAndValue(_e(t),r);return c!=null?{path:Re(new fe(o),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(ne(t))return this;{const r=Z(t),o=this.children.get(r);return o!==null?o.subtree(_e(t)):new me(null)}}set(t,r){if(ne(t))return new me(r,this.children);{const o=Z(t),c=(this.children.get(o)||new me(null)).set(_e(t),r),f=this.children.insert(o,c);return new me(this.value,f)}}remove(t){if(ne(t))return this.children.isEmpty()?new me(null):new me(null,this.children);{const r=Z(t),o=this.children.get(r);if(o){const a=o.remove(_e(t));let c;return a.isEmpty()?c=this.children.remove(r):c=this.children.insert(r,a),this.value===null&&c.isEmpty()?new me(null):new me(this.value,c)}else return this}}get(t){if(ne(t))return this.value;{const r=Z(t),o=this.children.get(r);return o?o.get(_e(t)):null}}setTree(t,r){if(ne(t))return r;{const o=Z(t),c=(this.children.get(o)||new me(null)).setTree(_e(t),r);let f;return c.isEmpty()?f=this.children.remove(o):f=this.children.insert(o,c),new me(this.value,f)}}fold(t){return this.fold_(ue(),t)}fold_(t,r){const o={};return this.children.inorderTraversal((a,c)=>{o[a]=c.fold_(Re(t,a),r)}),r(t,this.value,o)}findOnPath(t,r){return this.findOnPath_(t,ue(),r)}findOnPath_(t,r,o){const a=this.value?o(r,this.value):!1;if(a)return a;if(ne(t))return null;{const c=Z(t),f=this.children.get(c);return f?f.findOnPath_(_e(t),Re(r,c),o):null}}foreachOnPath(t,r){return this.foreachOnPath_(t,ue(),r)}foreachOnPath_(t,r,o){if(ne(t))return this;{this.value&&o(r,this.value);const a=Z(t),c=this.children.get(a);return c?c.foreachOnPath_(_e(t),Re(r,a),o):new me(null)}}foreach(t){this.foreach_(ue(),t)}foreach_(t,r){this.children.inorderTraversal((o,a)=>{a.foreach_(Re(t,o),r)}),this.value&&r(t,this.value)}foreachChild(t){this.children.inorderTraversal((r,o)=>{o.value&&t(r,o.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(t){this.writeTree_=t}static empty(){return new Ut(new me(null))}}function Fi(i,t,r){if(ne(t))return new Ut(new me(r));{const o=i.writeTree_.findRootMostValueAndPath(t);if(o!=null){const a=o.path;let c=o.value;const f=ft(a,t);return c=c.updateChild(f,r),new Ut(i.writeTree_.set(a,c))}else{const a=new me(r),c=i.writeTree_.setTree(t,a);return new Ut(c)}}}function pu(i,t,r){let o=i;return Xe(r,(a,c)=>{o=Fi(o,Re(t,a),c)}),o}function Vh(i,t){if(ne(t))return Ut.empty();{const r=i.writeTree_.setTree(t,new me(null));return new Ut(r)}}function mu(i,t){return tr(i,t)!=null}function tr(i,t){const r=i.writeTree_.findRootMostValueAndPath(t);return r!=null?i.writeTree_.get(r.path).getChild(ft(r.path,t)):null}function bh(i){const t=[],r=i.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(Pe,(o,a)=>{t.push(new ee(o,a))}):i.writeTree_.children.inorderTraversal((o,a)=>{a.value!=null&&t.push(new ee(o,a.value))}),t}function Pn(i,t){if(ne(t))return i;{const r=tr(i,t);return r!=null?new Ut(new me(r)):new Ut(i.writeTree_.subtree(t))}}function gu(i){return i.writeTree_.isEmpty()}function zr(i,t){return Jp(ue(),i.writeTree_,t)}function Jp(i,t,r){if(t.value!=null)return r.updateChild(i,t.value);{let o=null;return t.children.inorderTraversal((a,c)=>{a===".priority"?(O(c.value!==null,"Priority writes must always be leaf nodes"),o=c.value):r=Jp(Re(i,a),c,r)}),!r.getChild(i).isEmpty()&&o!==null&&(r=r.updateChild(Re(i,".priority"),o)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(i,t){return nm(t,i)}function J0(i,t,r,o,a){O(o>i.lastWriteId,"Stacking an older write on top of newer ones"),a===void 0&&(a=!0),i.allWrites.push({path:t,snap:r,writeId:o,visible:a}),a&&(i.visibleWrites=Fi(i.visibleWrites,t,r)),i.lastWriteId=o}function Z0(i,t,r,o){O(o>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:t,children:r,writeId:o,visible:!0}),i.visibleWrites=pu(i.visibleWrites,t,r),i.lastWriteId=o}function ew(i,t){for(let r=0;r<i.allWrites.length;r++){const o=i.allWrites[r];if(o.writeId===t)return o}return null}function tw(i,t){const r=i.allWrites.findIndex(p=>p.writeId===t);O(r>=0,"removeWrite called with nonexistent writeId.");const o=i.allWrites[r];i.allWrites.splice(r,1);let a=o.visible,c=!1,f=i.allWrites.length-1;for(;a&&f>=0;){const p=i.allWrites[f];p.visible&&(f>=r&&nw(p,o.path)?a=!1:Tt(o.path,p.path)&&(c=!0)),f--}if(a){if(c)return rw(i),!0;if(o.snap)i.visibleWrites=Vh(i.visibleWrites,o.path);else{const p=o.children;Xe(p,m=>{i.visibleWrites=Vh(i.visibleWrites,Re(o.path,m))})}return!0}else return!1}function nw(i,t){if(i.snap)return Tt(i.path,t);for(const r in i.children)if(i.children.hasOwnProperty(r)&&Tt(Re(i.path,r),t))return!0;return!1}function rw(i){i.visibleWrites=Zp(i.allWrites,iw,ue()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function iw(i){return i.visible}function Zp(i,t,r){let o=Ut.empty();for(let a=0;a<i.length;++a){const c=i[a];if(t(c)){const f=c.path;let p;if(c.snap)Tt(r,f)?(p=ft(r,f),o=Fi(o,p,c.snap)):Tt(f,r)&&(p=ft(f,r),o=Fi(o,ue(),c.snap.getChild(p)));else if(c.children){if(Tt(r,f))p=ft(r,f),o=pu(o,p,c.children);else if(Tt(f,r))if(p=ft(f,r),ne(p))o=pu(o,ue(),c.children);else{const m=Or(c.children,Z(p));if(m){const g=m.getChild(_e(p));o=Fi(o,ue(),g)}}}else throw Br("WriteRecord should have .snap or .children")}}return o}function em(i,t,r,o,a){if(!o&&!a){const c=tr(i.visibleWrites,t);if(c!=null)return c;{const f=Pn(i.visibleWrites,t);if(gu(f))return r;if(r==null&&!mu(f,ue()))return null;{const p=r||Y.EMPTY_NODE;return zr(f,p)}}}else{const c=Pn(i.visibleWrites,t);if(!a&&gu(c))return r;if(!a&&r==null&&!mu(c,ue()))return null;{const f=function(g){return(g.visible||a)&&(!o||!~o.indexOf(g.writeId))&&(Tt(g.path,t)||Tt(t,g.path))},p=Zp(i.allWrites,f,t),m=r||Y.EMPTY_NODE;return zr(p,m)}}}function sw(i,t,r){let o=Y.EMPTY_NODE;const a=tr(i.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(Pe,(c,f)=>{o=o.updateImmediateChild(c,f)}),o;if(r){const c=Pn(i.visibleWrites,t);return r.forEachChild(Pe,(f,p)=>{const m=zr(Pn(c,new fe(f)),p);o=o.updateImmediateChild(f,m)}),bh(c).forEach(f=>{o=o.updateImmediateChild(f.name,f.node)}),o}else{const c=Pn(i.visibleWrites,t);return bh(c).forEach(f=>{o=o.updateImmediateChild(f.name,f.node)}),o}}function ow(i,t,r,o,a){O(o||a,"Either existingEventSnap or existingServerSnap must exist");const c=Re(t,r);if(mu(i.visibleWrites,c))return null;{const f=Pn(i.visibleWrites,c);return gu(f)?a.getChild(r):zr(f,a.getChild(r))}}function lw(i,t,r,o){const a=Re(t,r),c=tr(i.visibleWrites,a);if(c!=null)return c;if(o.isCompleteForChild(r)){const f=Pn(i.visibleWrites,a);return zr(f,o.getNode().getImmediateChild(r))}else return null}function aw(i,t){return tr(i.visibleWrites,t)}function uw(i,t,r,o,a,c,f){let p;const m=Pn(i.visibleWrites,t),g=tr(m,ue());if(g!=null)p=g;else if(r!=null)p=zr(m,r);else return[];if(p=p.withIndex(f),!p.isEmpty()&&!p.isLeafNode()){const I=[],w=f.getCompare(),k=c?p.getReverseIteratorFrom(o,f):p.getIteratorFrom(o,f);let A=k.getNext();for(;A&&I.length<a;)w(A,o)!==0&&I.push(A),A=k.getNext();return I}else return[]}function cw(){return{visibleWrites:Ut.empty(),allWrites:[],lastWriteId:-1}}function Io(i,t,r,o){return em(i.writeTree,i.treePath,t,r,o)}function Hu(i,t){return sw(i.writeTree,i.treePath,t)}function $h(i,t,r,o){return ow(i.writeTree,i.treePath,t,r,o)}function To(i,t){return aw(i.writeTree,Re(i.treePath,t))}function dw(i,t,r,o,a,c){return uw(i.writeTree,i.treePath,t,r,o,a,c)}function Vu(i,t,r){return lw(i.writeTree,i.treePath,t,r)}function tm(i,t){return nm(Re(i.treePath,t),i.writeTree)}function nm(i,t){return{treePath:i,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(){this.changeMap=new Map}trackChildChange(t){const r=t.type,o=t.childName;O(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),O(o!==".priority","Only non-priority child changes can be tracked.");const a=this.changeMap.get(o);if(a){const c=a.type;if(r==="child_added"&&c==="child_removed")this.changeMap.set(o,bi(o,t.snapshotNode,a.snapshotNode));else if(r==="child_removed"&&c==="child_added")this.changeMap.delete(o);else if(r==="child_removed"&&c==="child_changed")this.changeMap.set(o,Vi(o,a.oldSnap));else if(r==="child_changed"&&c==="child_added")this.changeMap.set(o,Mr(o,t.snapshotNode));else if(r==="child_changed"&&c==="child_changed")this.changeMap.set(o,bi(o,t.snapshotNode,a.oldSnap));else throw Br("Illegal combination of changes: "+t+" occurred after "+a)}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{getCompleteChild(t){return null}getChildAfterChild(t,r,o){return null}}const rm=new hw;class bu{constructor(t,r,o=null){this.writes_=t,this.viewCache_=r,this.optCompleteServerCache_=o}getCompleteChild(t){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(t))return r.getNode().getImmediateChild(t);{const o=this.optCompleteServerCache_!=null?new Jn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Vu(this.writes_,t,o)}}getChildAfterChild(t,r,o){const a=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Zn(this.viewCache_),c=dw(this.writes_,a,r,1,o,t);return c.length===0?null:c[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(i){return{filter:i}}function mw(i,t){O(t.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),O(t.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function gw(i,t,r,o,a){const c=new fw;let f,p;if(r.type===zt.OVERWRITE){const g=r;g.source.fromUser?f=_u(i,t,g.path,g.snap,o,a,c):(O(g.source.fromServer,"Unknown source."),p=g.source.tagged||t.serverCache.isFiltered()&&!ne(g.path),f=No(i,t,g.path,g.snap,o,a,p,c))}else if(r.type===zt.MERGE){const g=r;g.source.fromUser?f=vw(i,t,g.path,g.children,o,a,c):(O(g.source.fromServer,"Unknown source."),p=g.source.tagged||t.serverCache.isFiltered(),f=vu(i,t,g.path,g.children,o,a,p,c))}else if(r.type===zt.ACK_USER_WRITE){const g=r;g.revert?f=Ew(i,t,g.path,o,a,c):f=yw(i,t,g.path,g.affectedTree,o,a,c)}else if(r.type===zt.LISTEN_COMPLETE)f=ww(i,t,r.path,o,c);else throw Br("Unknown operation type: "+r.type);const m=c.getChanges();return _w(t,f,m),{viewCache:f,changes:m}}function _w(i,t,r){const o=t.eventCache;if(o.isFullyInitialized()){const a=o.getNode().isLeafNode()||o.getNode().isEmpty(),c=hu(i);(r.length>0||!i.eventCache.isFullyInitialized()||a&&!o.getNode().equals(c)||!o.getNode().getPriority().equals(c.getPriority()))&&r.push(Yp(hu(t)))}}function im(i,t,r,o,a,c){const f=t.eventCache;if(To(o,r)!=null)return t;{let p,m;if(ne(r))if(O(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=Zn(t),I=g instanceof Y?g:Y.EMPTY_NODE,w=Hu(o,I);p=i.filter.updateFullNode(t.eventCache.getNode(),w,c)}else{const g=Io(o,Zn(t));p=i.filter.updateFullNode(t.eventCache.getNode(),g,c)}else{const g=Z(r);if(g===".priority"){O(Dn(r)===1,"Can't have a priority with additional path components");const I=f.getNode();m=t.serverCache.getNode();const w=$h(o,r,I,m);w!=null?p=i.filter.updatePriority(I,w):p=f.getNode()}else{const I=_e(r);let w;if(f.isCompleteForChild(g)){m=t.serverCache.getNode();const k=$h(o,r,f.getNode(),m);k!=null?w=f.getNode().getImmediateChild(g).updateChild(I,k):w=f.getNode().getImmediateChild(g)}else w=Vu(o,g,t.serverCache);w!=null?p=i.filter.updateChild(f.getNode(),g,w,I,a,c):p=f.getNode()}}return Mi(t,p,f.isFullyInitialized()||ne(r),i.filter.filtersNodes())}}function No(i,t,r,o,a,c,f,p){const m=t.serverCache;let g;const I=f?i.filter:i.filter.getIndexedFilter();if(ne(r))g=I.updateFullNode(m.getNode(),o,null);else if(I.filtersNodes()&&!m.isFiltered()){const A=m.getNode().updateChild(r,o);g=I.updateFullNode(m.getNode(),A,null)}else{const A=Z(r);if(!m.isCompleteForPath(r)&&Dn(r)>1)return t;const L=_e(r),K=m.getNode().getImmediateChild(A).updateChild(L,o);A===".priority"?g=I.updatePriority(m.getNode(),K):g=I.updateChild(m.getNode(),A,K,L,rm,null)}const w=Xp(t,g,m.isFullyInitialized()||ne(r),I.filtersNodes()),k=new bu(a,w,c);return im(i,w,r,a,k,p)}function _u(i,t,r,o,a,c,f){const p=t.eventCache;let m,g;const I=new bu(a,t,c);if(ne(r))g=i.filter.updateFullNode(t.eventCache.getNode(),o,f),m=Mi(t,g,!0,i.filter.filtersNodes());else{const w=Z(r);if(w===".priority")g=i.filter.updatePriority(t.eventCache.getNode(),o),m=Mi(t,g,p.isFullyInitialized(),p.isFiltered());else{const k=_e(r),A=p.getNode().getImmediateChild(w);let L;if(ne(k))L=o;else{const V=I.getCompleteChild(w);V!=null?Au(k)===".priority"&&V.getChild(Hp(k)).isEmpty()?L=V:L=V.updateChild(k,o):L=Y.EMPTY_NODE}if(A.equals(L))m=t;else{const V=i.filter.updateChild(p.getNode(),w,L,k,I,f);m=Mi(t,V,p.isFullyInitialized(),i.filter.filtersNodes())}}}return m}function Qh(i,t){return i.eventCache.isCompleteForChild(t)}function vw(i,t,r,o,a,c,f){let p=t;return o.foreach((m,g)=>{const I=Re(r,m);Qh(t,Z(I))&&(p=_u(i,p,I,g,a,c,f))}),o.foreach((m,g)=>{const I=Re(r,m);Qh(t,Z(I))||(p=_u(i,p,I,g,a,c,f))}),p}function Gh(i,t,r){return r.foreach((o,a)=>{t=t.updateChild(o,a)}),t}function vu(i,t,r,o,a,c,f,p){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let m=t,g;ne(r)?g=o:g=new me(null).setTree(r,o);const I=t.serverCache.getNode();return g.children.inorderTraversal((w,k)=>{if(I.hasChild(w)){const A=t.serverCache.getNode().getImmediateChild(w),L=Gh(i,A,k);m=No(i,m,new fe(w),L,a,c,f,p)}}),g.children.inorderTraversal((w,k)=>{const A=!t.serverCache.isCompleteForChild(w)&&k.value===null;if(!I.hasChild(w)&&!A){const L=t.serverCache.getNode().getImmediateChild(w),V=Gh(i,L,k);m=No(i,m,new fe(w),V,a,c,f,p)}}),m}function yw(i,t,r,o,a,c,f){if(To(a,r)!=null)return t;const p=t.serverCache.isFiltered(),m=t.serverCache;if(o.value!=null){if(ne(r)&&m.isFullyInitialized()||m.isCompleteForPath(r))return No(i,t,r,m.getNode().getChild(r),a,c,p,f);if(ne(r)){let g=new me(null);return m.getNode().forEachChild(Dr,(I,w)=>{g=g.set(new fe(I),w)}),vu(i,t,r,g,a,c,p,f)}else return t}else{let g=new me(null);return o.foreach((I,w)=>{const k=Re(r,I);m.isCompleteForPath(k)&&(g=g.set(I,m.getNode().getChild(k)))}),vu(i,t,r,g,a,c,p,f)}}function ww(i,t,r,o,a){const c=t.serverCache,f=Xp(t,c.getNode(),c.isFullyInitialized()||ne(r),c.isFiltered());return im(i,f,r,o,rm,a)}function Ew(i,t,r,o,a,c){let f;if(To(o,r)!=null)return t;{const p=new bu(o,t,a),m=t.eventCache.getNode();let g;if(ne(r)||Z(r)===".priority"){let I;if(t.serverCache.isFullyInitialized())I=Io(o,Zn(t));else{const w=t.serverCache.getNode();O(w instanceof Y,"serverChildren would be complete if leaf node"),I=Hu(o,w)}I=I,g=i.filter.updateFullNode(m,I,c)}else{const I=Z(r);let w=Vu(o,I,t.serverCache);w==null&&t.serverCache.isCompleteForChild(I)&&(w=m.getImmediateChild(I)),w!=null?g=i.filter.updateChild(m,I,w,_e(r),p,c):t.eventCache.getNode().hasChild(I)?g=i.filter.updateChild(m,I,Y.EMPTY_NODE,_e(r),p,c):g=m,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(f=Io(o,Zn(t)),f.isLeafNode()&&(g=i.filter.updateFullNode(g,f,c)))}return f=t.serverCache.isFullyInitialized()||To(o,ue())!=null,Mi(t,g,f,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(t,r){this.query_=t,this.eventRegistrations_=[];const o=this.query_._queryParams,a=new Fu(o.getIndex()),c=j0(o);this.processor_=pw(c);const f=r.serverCache,p=r.eventCache,m=a.updateFullNode(Y.EMPTY_NODE,f.getNode(),null),g=c.updateFullNode(Y.EMPTY_NODE,p.getNode(),null),I=new Jn(m,f.isFullyInitialized(),a.filtersNodes()),w=new Jn(g,p.isFullyInitialized(),c.filtersNodes());this.viewCache_=Mo(w,I),this.eventGenerator_=new G0(this.query_)}get query(){return this.query_}}function Sw(i){return i.viewCache_.serverCache.getNode()}function kw(i,t){const r=Zn(i.viewCache_);return r&&(i.query._queryParams.loadsAllData()||!ne(t)&&!r.getImmediateChild(Z(t)).isEmpty())?r.getChild(t):null}function Kh(i){return i.eventRegistrations_.length===0}function Iw(i,t){i.eventRegistrations_.push(t)}function Yh(i,t,r){const o=[];if(r){O(t==null,"A cancel should cancel all event registrations.");const a=i.query._path;i.eventRegistrations_.forEach(c=>{const f=c.createCancelEvent(r,a);f&&o.push(f)})}if(t){let a=[];for(let c=0;c<i.eventRegistrations_.length;++c){const f=i.eventRegistrations_[c];if(!f.matches(t))a.push(f);else if(t.hasAnyCallback()){a=a.concat(i.eventRegistrations_.slice(c+1));break}}i.eventRegistrations_=a}else i.eventRegistrations_=[];return o}function qh(i,t,r,o){t.type===zt.MERGE&&t.source.queryId!==null&&(O(Zn(i.viewCache_),"We should always have a full cache before handling merges"),O(hu(i.viewCache_),"Missing event cache, even though we have a server cache"));const a=i.viewCache_,c=gw(i.processor_,a,t,r,o);return mw(i.processor_,c.viewCache),O(c.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=c.viewCache,sm(i,c.changes,c.viewCache.eventCache.getNode(),null)}function Tw(i,t){const r=i.viewCache_.eventCache,o=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(Pe,(c,f)=>{o.push(Mr(c,f))}),r.isFullyInitialized()&&o.push(Yp(r.getNode())),sm(i,o,r.getNode(),t)}function sm(i,t,r,o){const a=o?[o]:i.eventRegistrations_;return K0(i.eventGenerator_,t,r,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xo;class Nw{constructor(){this.views=new Map}}function xw(i){O(!xo,"__referenceConstructor has already been defined"),xo=i}function Rw(){return O(xo,"Reference.ts has not been loaded"),xo}function Pw(i){return i.views.size===0}function $u(i,t,r,o){const a=t.source.queryId;if(a!==null){const c=i.views.get(a);return O(c!=null,"SyncTree gave us an op for an invalid query."),qh(c,t,r,o)}else{let c=[];for(const f of i.views.values())c=c.concat(qh(f,t,r,o));return c}}function Dw(i,t,r,o,a){const c=t._queryIdentifier,f=i.views.get(c);if(!f){let p=Io(r,a?o:null),m=!1;p?m=!0:o instanceof Y?(p=Hu(r,o),m=!1):(p=Y.EMPTY_NODE,m=!1);const g=Mo(new Jn(p,m,!1),new Jn(o,a,!1));return new Cw(t,g)}return f}function Aw(i,t,r,o,a,c){const f=Dw(i,t,o,a,c);return i.views.has(t._queryIdentifier)||i.views.set(t._queryIdentifier,f),Iw(f,r),Tw(f,r)}function Ow(i,t,r,o){const a=t._queryIdentifier,c=[];let f=[];const p=An(i);if(a==="default")for(const[m,g]of i.views.entries())f=f.concat(Yh(g,r,o)),Kh(g)&&(i.views.delete(m),g.query._queryParams.loadsAllData()||c.push(g.query));else{const m=i.views.get(a);m&&(f=f.concat(Yh(m,r,o)),Kh(m)&&(i.views.delete(a),m.query._queryParams.loadsAllData()||c.push(m.query)))}return p&&!An(i)&&c.push(new(Rw())(t._repo,t._path)),{removed:c,events:f}}function om(i){const t=[];for(const r of i.views.values())r.query._queryParams.loadsAllData()||t.push(r);return t}function Ar(i,t){let r=null;for(const o of i.views.values())r=r||kw(o,t);return r}function lm(i,t){if(t._queryParams.loadsAllData())return Fo(i);{const o=t._queryIdentifier;return i.views.get(o)}}function am(i,t){return lm(i,t)!=null}function An(i){return Fo(i)!=null}function Fo(i){for(const t of i.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro;function Lw(i){O(!Ro,"__referenceConstructor has already been defined"),Ro=i}function Mw(){return O(Ro,"Reference.ts has not been loaded"),Ro}let Fw=1;class Xh{constructor(t){this.listenProvider_=t,this.syncPointTree_=new me(null),this.pendingWriteTree_=cw(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function um(i,t,r,o,a){return J0(i.pendingWriteTree_,t,r,o,a),a?Wr(i,new Xn(Uu(),t,r)):[]}function zw(i,t,r,o){Z0(i.pendingWriteTree_,t,r,o);const a=me.fromObject(r);return Wr(i,new Fr(Uu(),t,a))}function Nn(i,t,r=!1){const o=ew(i.pendingWriteTree_,t);if(tw(i.pendingWriteTree_,t)){let c=new me(null);return o.snap!=null?c=c.set(ue(),!0):Xe(o.children,f=>{c=c.set(new fe(f),!0)}),Wr(i,new ko(o.path,c,r))}else return[]}function zo(i,t,r){return Wr(i,new Xn(Bu(),t,r))}function Uw(i,t,r){const o=me.fromObject(r);return Wr(i,new Fr(Bu(),t,o))}function Bw(i,t){return Wr(i,new Qi(Bu(),t))}function jw(i,t,r){const o=Gu(i,r);if(o){const a=Ku(o),c=a.path,f=a.queryId,p=ft(c,t),m=new Qi(ju(f),p);return Yu(i,c,m)}else return[]}function yu(i,t,r,o,a=!1){const c=t._path,f=i.syncPointTree_.get(c);let p=[];if(f&&(t._queryIdentifier==="default"||am(f,t))){const m=Ow(f,t,r,o);Pw(f)&&(i.syncPointTree_=i.syncPointTree_.remove(c));const g=m.removed;if(p=m.events,!a){const I=g.findIndex(k=>k._queryParams.loadsAllData())!==-1,w=i.syncPointTree_.findOnPath(c,(k,A)=>An(A));if(I&&!w){const k=i.syncPointTree_.subtree(c);if(!k.isEmpty()){const A=Vw(k);for(let L=0;L<A.length;++L){const V=A[L],K=V.query,Oe=fm(i,V);i.listenProvider_.startListening(zi(K),Po(i,K),Oe.hashFn,Oe.onComplete)}}}!w&&g.length>0&&!o&&(I?i.listenProvider_.stopListening(zi(t),null):g.forEach(k=>{const A=i.queryToTagMap.get(Uo(k));i.listenProvider_.stopListening(zi(k),A)}))}bw(i,g)}return p}function Ww(i,t,r,o){const a=Gu(i,o);if(a!=null){const c=Ku(a),f=c.path,p=c.queryId,m=ft(f,t),g=new Xn(ju(p),m,r);return Yu(i,f,g)}else return[]}function Hw(i,t,r,o){const a=Gu(i,o);if(a){const c=Ku(a),f=c.path,p=c.queryId,m=ft(f,t),g=me.fromObject(r),I=new Fr(ju(p),m,g);return Yu(i,f,I)}else return[]}function Jh(i,t,r,o=!1){const a=t._path;let c=null,f=!1;i.syncPointTree_.foreachOnPath(a,(k,A)=>{const L=ft(k,a);c=c||Ar(A,L),f=f||An(A)});let p=i.syncPointTree_.get(a);p?(f=f||An(p),c=c||Ar(p,ue())):(p=new Nw,i.syncPointTree_=i.syncPointTree_.set(a,p));let m;c!=null?m=!0:(m=!1,c=Y.EMPTY_NODE,i.syncPointTree_.subtree(a).foreachChild((A,L)=>{const V=Ar(L,ue());V&&(c=c.updateImmediateChild(A,V))}));const g=am(p,t);if(!g&&!t._queryParams.loadsAllData()){const k=Uo(t);O(!i.queryToTagMap.has(k),"View does not exist, but we have a tag");const A=$w();i.queryToTagMap.set(k,A),i.tagToQueryMap.set(A,k)}const I=Wu(i.pendingWriteTree_,a);let w=Aw(p,t,r,I,c,m);if(!g&&!f&&!o){const k=lm(p,t);w=w.concat(Qw(i,t,k))}return w}function Qu(i,t,r){const a=i.pendingWriteTree_,c=i.syncPointTree_.findOnPath(t,(f,p)=>{const m=ft(f,t),g=Ar(p,m);if(g)return g});return em(a,t,c,r,!0)}function Wr(i,t){return cm(t,i.syncPointTree_,null,Wu(i.pendingWriteTree_,ue()))}function cm(i,t,r,o){if(ne(i.path))return dm(i,t,r,o);{const a=t.get(ue());r==null&&a!=null&&(r=Ar(a,ue()));let c=[];const f=Z(i.path),p=i.operationForChild(f),m=t.children.get(f);if(m&&p){const g=r?r.getImmediateChild(f):null,I=tm(o,f);c=c.concat(cm(p,m,g,I))}return a&&(c=c.concat($u(a,i,o,r))),c}}function dm(i,t,r,o){const a=t.get(ue());r==null&&a!=null&&(r=Ar(a,ue()));let c=[];return t.children.inorderTraversal((f,p)=>{const m=r?r.getImmediateChild(f):null,g=tm(o,f),I=i.operationForChild(f);I&&(c=c.concat(dm(I,p,m,g)))}),a&&(c=c.concat($u(a,i,o,r))),c}function fm(i,t){const r=t.query,o=Po(i,r);return{hashFn:()=>(Sw(t)||Y.EMPTY_NODE).hash(),onComplete:a=>{if(a==="ok")return o?jw(i,r._path,o):Bw(i,r._path);{const c=Uy(a,r);return yu(i,r,null,c)}}}}function Po(i,t){const r=Uo(t);return i.queryToTagMap.get(r)}function Uo(i){return i._path.toString()+"$"+i._queryIdentifier}function Gu(i,t){return i.tagToQueryMap.get(t)}function Ku(i){const t=i.indexOf("$");return O(t!==-1&&t<i.length-1,"Bad queryKey."),{queryId:i.substr(t+1),path:new fe(i.substr(0,t))}}function Yu(i,t,r){const o=i.syncPointTree_.get(t);O(o,"Missing sync point for query tag that we're tracking");const a=Wu(i.pendingWriteTree_,t);return $u(o,r,a,null)}function Vw(i){return i.fold((t,r,o)=>{if(r&&An(r))return[Fo(r)];{let a=[];return r&&(a=om(r)),Xe(o,(c,f)=>{a=a.concat(f)}),a}})}function zi(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(Mw())(i._repo,i._path):i}function bw(i,t){for(let r=0;r<t.length;++r){const o=t[r];if(!o._queryParams.loadsAllData()){const a=Uo(o),c=i.queryToTagMap.get(a);i.queryToTagMap.delete(a),i.tagToQueryMap.delete(c)}}}function $w(){return Fw++}function Qw(i,t,r){const o=t._path,a=Po(i,t),c=fm(i,r),f=i.listenProvider_.startListening(zi(t),a,c.hashFn,c.onComplete),p=i.syncPointTree_.subtree(o);if(a)O(!An(p.value),"If we're adding a query, it shouldn't be shadowed");else{const m=p.fold((g,I,w)=>{if(!ne(g)&&I&&An(I))return[Fo(I).query];{let k=[];return I&&(k=k.concat(om(I).map(A=>A.query))),Xe(w,(A,L)=>{k=k.concat(L)}),k}});for(let g=0;g<m.length;++g){const I=m[g];i.listenProvider_.stopListening(zi(I),Po(i,I))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(t){this.node_=t}getImmediateChild(t){const r=this.node_.getImmediateChild(t);return new qu(r)}node(){return this.node_}}class Xu{constructor(t,r){this.syncTree_=t,this.path_=r}getImmediateChild(t){const r=Re(this.path_,t);return new Xu(this.syncTree_,r)}node(){return Qu(this.syncTree_,this.path_)}}const Gw=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},Zh=function(i,t,r){if(!i||typeof i!="object")return i;if(O(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return Kw(i[".sv"],t,r);if(typeof i[".sv"]=="object")return Yw(i[".sv"],t);O(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},Kw=function(i,t,r){switch(i){case"timestamp":return r.timestamp;default:O(!1,"Unexpected server value: "+i)}},Yw=function(i,t,r){i.hasOwnProperty("increment")||O(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const o=i.increment;typeof o!="number"&&O(!1,"Unexpected increment value: "+o);const a=t.node();if(O(a!==null&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return o;const f=a.getValue();return typeof f!="number"?o:f+o},hm=function(i,t,r,o){return Ju(t,new Xu(r,i),o)},pm=function(i,t,r){return Ju(i,new qu(t),r)};function Ju(i,t,r){const o=i.getPriority().val(),a=Zh(o,t.getImmediateChild(".priority"),r);let c;if(i.isLeafNode()){const f=i,p=Zh(f.getValue(),t,r);return p!==f.getValue()||a!==f.getPriority().val()?new Ve(p,$e(a)):i}else{const f=i;return c=f,a!==f.getPriority().val()&&(c=c.updatePriority(new Ve(a))),f.forEachChild(Pe,(p,m)=>{const g=Ju(m,t.getImmediateChild(p),r);g!==m&&(c=c.updateImmediateChild(p,g))}),c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(t="",r=null,o={children:{},childCount:0}){this.name=t,this.parent=r,this.node=o}}function ec(i,t){let r=t instanceof fe?t:new fe(t),o=i,a=Z(r);for(;a!==null;){const c=Or(o.node.children,a)||{children:{},childCount:0};o=new Zu(a,o,c),r=_e(r),a=Z(r)}return o}function Hr(i){return i.node.value}function mm(i,t){i.node.value=t,wu(i)}function gm(i){return i.node.childCount>0}function qw(i){return Hr(i)===void 0&&!gm(i)}function Bo(i,t){Xe(i.node.children,(r,o)=>{t(new Zu(r,i,o))})}function _m(i,t,r,o){r&&!o&&t(i),Bo(i,a=>{_m(a,t,!0,o)}),r&&o&&t(i)}function Xw(i,t,r){let o=i.parent;for(;o!==null;){if(t(o))return!0;o=o.parent}return!1}function Zi(i){return new fe(i.parent===null?i.name:Zi(i.parent)+"/"+i.name)}function wu(i){i.parent!==null&&Jw(i.parent,i.name,i)}function Jw(i,t,r){const o=qw(r),a=Gt(i.node.children,t);o&&a?(delete i.node.children[t],i.node.childCount--,wu(i)):!o&&!a&&(i.node.children[t]=r.node,i.node.childCount++,wu(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=/[\[\].#$\/\u0000-\u001F\u007F]/,eE=/[\[\].#$\u0000-\u001F\u007F]/,Ja=10*1024*1024,tc=function(i){return typeof i=="string"&&i.length!==0&&!Zw.test(i)},vm=function(i){return typeof i=="string"&&i.length!==0&&!eE.test(i)},tE=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),vm(i)},nE=function(i){return i===null||typeof i=="string"||typeof i=="number"&&!Nu(i)||i&&typeof i=="object"&&Gt(i,".sv")},rE=function(i,t,r,o){jo(Ao(i,"value"),t,r)},jo=function(i,t,r){const o=r instanceof fe?new v0(r,i):r;if(t===void 0)throw new Error(i+"contains undefined "+Kn(o));if(typeof t=="function")throw new Error(i+"contains a function "+Kn(o)+" with contents = "+t.toString());if(Nu(t))throw new Error(i+"contains "+t.toString()+" "+Kn(o));if(typeof t=="string"&&t.length>Ja/3&&Oo(t)>Ja)throw new Error(i+"contains a string greater than "+Ja+" utf8 bytes "+Kn(o)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let a=!1,c=!1;if(Xe(t,(f,p)=>{if(f===".value")a=!0;else if(f!==".priority"&&f!==".sv"&&(c=!0,!tc(f)))throw new Error(i+" contains an invalid key ("+f+") "+Kn(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);y0(o,f),jo(i,p,o),w0(o)}),a&&c)throw new Error(i+' contains ".value" child '+Kn(o)+" in addition to actual children.")}},iE=function(i,t){let r,o;for(r=0;r<t.length;r++){o=t[r];const c=Hi(o);for(let f=0;f<c.length;f++)if(!(c[f]===".priority"&&f===c.length-1)){if(!tc(c[f]))throw new Error(i+"contains an invalid key ("+c[f]+") in path "+o.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(_0);let a=null;for(r=0;r<t.length;r++){if(o=t[r],a!==null&&Tt(a,o))throw new Error(i+"contains a path "+a.toString()+" that is ancestor of another path "+o.toString());a=o}},sE=function(i,t,r,o){const a=Ao(i,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(a+" must be an object containing the children to replace.");const c=[];Xe(t,(f,p)=>{const m=new fe(f);if(jo(a,p,Re(r,m)),Au(m)===".priority"&&!nE(p))throw new Error(a+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(m)}),iE(a,c)},ym=function(i,t,r,o){if(!vm(r))throw new Error(Ao(i,t)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},oE=function(i,t,r,o){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),ym(i,t,r)},wm=function(i,t){if(Z(t)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},lE=function(i,t){const r=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!tc(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!tE(r))throw new Error(Ao(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Wo(i,t){let r=null;for(let o=0;o<t.length;o++){const a=t[o],c=a.getPath();r!==null&&!Ou(c,r.path)&&(i.eventLists_.push(r),r=null),r===null&&(r={events:[],path:c}),r.events.push(a)}r&&i.eventLists_.push(r)}function Em(i,t,r){Wo(i,r),Cm(i,o=>Ou(o,t))}function Bt(i,t,r){Wo(i,r),Cm(i,o=>Tt(o,t)||Tt(t,o))}function Cm(i,t){i.recursionDepth_++;let r=!0;for(let o=0;o<i.eventLists_.length;o++){const a=i.eventLists_[o];if(a){const c=a.path;t(c)?(uE(i.eventLists_[o]),i.eventLists_[o]=null):r=!1}}r&&(i.eventLists_=[]),i.recursionDepth_--}function uE(i){for(let t=0;t<i.events.length;t++){const r=i.events[t];if(r!==null){i.events[t]=null;const o=r.getEventRunner();Oi&&qe("event: "+r.toString()),jr(o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="repo_interrupt",dE=25;class fE{constructor(t,r,o,a){this.repoInfo_=t,this.forceRestClient_=r,this.authTokenProvider_=o,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new aE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=So(),this.transactionQueueTree_=new Zu,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function hE(i,t,r){if(i.stats_=Pu(i.repoInfo_),i.forceRestClient_||Hy())i.server_=new Co(i.repoInfo_,(o,a,c,f)=>{ep(i,o,a,c,f)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>tp(i,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Qe(r)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}i.persistentConnection_=new sn(i.repoInfo_,t,(o,a,c,f)=>{ep(i,o,a,c,f)},o=>{tp(i,o)},o=>{mE(i,o)},i.authTokenProvider_,i.appCheckProvider_,r),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(o=>{i.server_.refreshAuthToken(o)}),i.appCheckProvider_.addTokenChangeListener(o=>{i.server_.refreshAppCheckToken(o.token)}),i.statsReporter_=Gy(i.repoInfo_,()=>new Q0(i.stats_,i.server_)),i.infoData_=new W0,i.infoSyncTree_=new Xh({startListening:(o,a,c,f)=>{let p=[];const m=i.infoData_.getNode(o._path);return m.isEmpty()||(p=zo(i.infoSyncTree_,o._path,m),setTimeout(()=>{f("ok")},0)),p},stopListening:()=>{}}),nc(i,"connected",!1),i.serverSyncTree_=new Xh({startListening:(o,a,c,f)=>(i.server_.listen(o,c,a,(p,m)=>{const g=f(p,m);Bt(i.eventQueue_,o._path,g)}),[]),stopListening:(o,a)=>{i.server_.unlisten(o,a)}})}function pE(i){const r=i.infoData_.getNode(new fe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function Ho(i){return Gw({timestamp:pE(i)})}function ep(i,t,r,o,a){i.dataUpdateCount++;const c=new fe(t);r=i.interceptServerDataCallback_?i.interceptServerDataCallback_(t,r):r;let f=[];if(a)if(o){const m=go(r,g=>$e(g));f=Hw(i.serverSyncTree_,c,m,a)}else{const m=$e(r);f=Ww(i.serverSyncTree_,c,m,a)}else if(o){const m=go(r,g=>$e(g));f=Uw(i.serverSyncTree_,c,m)}else{const m=$e(r);f=zo(i.serverSyncTree_,c,m)}let p=c;f.length>0&&(p=Ur(i,c)),Bt(i.eventQueue_,p,f)}function tp(i,t){nc(i,"connected",t),t===!1&&vE(i)}function mE(i,t){Xe(t,(r,o)=>{nc(i,r,o)})}function nc(i,t,r){const o=new fe("/.info/"+t),a=$e(r);i.infoData_.updateSnapshot(o,a);const c=zo(i.infoSyncTree_,o,a);Bt(i.eventQueue_,o,c)}function rc(i){return i.nextWriteId_++}function gE(i,t,r,o,a){Vo(i,"set",{path:t.toString(),value:r,priority:o});const c=Ho(i),f=$e(r,o),p=Qu(i.serverSyncTree_,t),m=pm(f,p,c),g=rc(i),I=um(i.serverSyncTree_,t,m,g,!0);Wo(i.eventQueue_,I),i.server_.put(t.toString(),f.val(!0),(k,A)=>{const L=k==="ok";L||it("set at "+t+" failed: "+k);const V=Nn(i.serverSyncTree_,g,!L);Bt(i.eventQueue_,t,V),Eu(i,a,k,A)});const w=sc(i,t);Ur(i,w),Bt(i.eventQueue_,w,[])}function _E(i,t,r,o){Vo(i,"update",{path:t.toString(),value:r});let a=!0;const c=Ho(i),f={};if(Xe(r,(p,m)=>{a=!1,f[p]=hm(Re(t,p),$e(m),i.serverSyncTree_,c)}),a)qe("update() called with empty data.  Don't do anything."),Eu(i,o,"ok",void 0);else{const p=rc(i),m=zw(i.serverSyncTree_,t,f,p);Wo(i.eventQueue_,m),i.server_.merge(t.toString(),r,(g,I)=>{const w=g==="ok";w||it("update at "+t+" failed: "+g);const k=Nn(i.serverSyncTree_,p,!w),A=k.length>0?Ur(i,t):t;Bt(i.eventQueue_,A,k),Eu(i,o,g,I)}),Xe(r,g=>{const I=sc(i,Re(t,g));Ur(i,I)}),Bt(i.eventQueue_,t,[])}}function vE(i){Vo(i,"onDisconnectEvents");const t=Ho(i),r=So();fu(i.onDisconnect_,ue(),(a,c)=>{const f=hm(a,c,i.serverSyncTree_,t);qp(r,a,f)});let o=[];fu(r,ue(),(a,c)=>{o=o.concat(zo(i.serverSyncTree_,a,c));const f=sc(i,a);Ur(i,f)}),i.onDisconnect_=So(),Bt(i.eventQueue_,ue(),o)}function yE(i,t,r){let o;Z(t._path)===".info"?o=Jh(i.infoSyncTree_,t,r):o=Jh(i.serverSyncTree_,t,r),Em(i.eventQueue_,t._path,o)}function wE(i,t,r){let o;Z(t._path)===".info"?o=yu(i.infoSyncTree_,t,r):o=yu(i.serverSyncTree_,t,r),Em(i.eventQueue_,t._path,o)}function EE(i){i.persistentConnection_&&i.persistentConnection_.interrupt(cE)}function Vo(i,...t){let r="";i.persistentConnection_&&(r=i.persistentConnection_.id+":"),qe(r,...t)}function Eu(i,t,r,o){t&&jr(()=>{if(r==="ok")t(null);else{const a=(r||"error").toUpperCase();let c=a;o&&(c+=": "+o);const f=new Error(c);f.code=a,t(f)}})}function Sm(i,t,r){return Qu(i.serverSyncTree_,t,r)||Y.EMPTY_NODE}function ic(i,t=i.transactionQueueTree_){if(t||bo(i,t),Hr(t)){const r=Im(i,t);O(r.length>0,"Sending zero length transaction queue"),r.every(a=>a.status===0)&&CE(i,Zi(t),r)}else gm(t)&&Bo(t,r=>{ic(i,r)})}function CE(i,t,r){const o=r.map(g=>g.currentWriteId),a=Sm(i,t,o);let c=a;const f=a.hash();for(let g=0;g<r.length;g++){const I=r[g];O(I.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),I.status=1,I.retryCount++;const w=ft(t,I.path);c=c.updateChild(w,I.currentOutputSnapshotRaw)}const p=c.val(!0),m=t;i.server_.put(m.toString(),p,g=>{Vo(i,"transaction put response",{path:m.toString(),status:g});let I=[];if(g==="ok"){const w=[];for(let k=0;k<r.length;k++)r[k].status=2,I=I.concat(Nn(i.serverSyncTree_,r[k].currentWriteId)),r[k].onComplete&&w.push(()=>r[k].onComplete(null,!0,r[k].currentOutputSnapshotResolved)),r[k].unwatcher();bo(i,ec(i.transactionQueueTree_,t)),ic(i,i.transactionQueueTree_),Bt(i.eventQueue_,t,I);for(let k=0;k<w.length;k++)jr(w[k])}else{if(g==="datastale")for(let w=0;w<r.length;w++)r[w].status===3?r[w].status=4:r[w].status=0;else{it("transaction at "+m.toString()+" failed: "+g);for(let w=0;w<r.length;w++)r[w].status=4,r[w].abortReason=g}Ur(i,t)}},f)}function Ur(i,t){const r=km(i,t),o=Zi(r),a=Im(i,r);return SE(i,a,o),o}function SE(i,t,r){if(t.length===0)return;const o=[];let a=[];const f=t.filter(p=>p.status===0).map(p=>p.currentWriteId);for(let p=0;p<t.length;p++){const m=t[p],g=ft(r,m.path);let I=!1,w;if(O(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)I=!0,w=m.abortReason,a=a.concat(Nn(i.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=dE)I=!0,w="maxretry",a=a.concat(Nn(i.serverSyncTree_,m.currentWriteId,!0));else{const k=Sm(i,m.path,f);m.currentInputSnapshot=k;const A=t[p].update(k.val());if(A!==void 0){jo("transaction failed: Data returned ",A,m.path);let L=$e(A);typeof A=="object"&&A!=null&&Gt(A,".priority")||(L=L.updatePriority(k.getPriority()));const K=m.currentWriteId,Oe=Ho(i),Fe=pm(L,k,Oe);m.currentOutputSnapshotRaw=L,m.currentOutputSnapshotResolved=Fe,m.currentWriteId=rc(i),f.splice(f.indexOf(K),1),a=a.concat(um(i.serverSyncTree_,m.path,Fe,m.currentWriteId,m.applyLocally)),a=a.concat(Nn(i.serverSyncTree_,K,!0))}else I=!0,w="nodata",a=a.concat(Nn(i.serverSyncTree_,m.currentWriteId,!0))}Bt(i.eventQueue_,r,a),a=[],I&&(t[p].status=2,function(k){setTimeout(k,Math.floor(0))}(t[p].unwatcher),t[p].onComplete&&(w==="nodata"?o.push(()=>t[p].onComplete(null,!1,t[p].currentInputSnapshot)):o.push(()=>t[p].onComplete(new Error(w),!1,null))))}bo(i,i.transactionQueueTree_);for(let p=0;p<o.length;p++)jr(o[p]);ic(i,i.transactionQueueTree_)}function km(i,t){let r,o=i.transactionQueueTree_;for(r=Z(t);r!==null&&Hr(o)===void 0;)o=ec(o,r),t=_e(t),r=Z(t);return o}function Im(i,t){const r=[];return Tm(i,t,r),r.sort((o,a)=>o.order-a.order),r}function Tm(i,t,r){const o=Hr(t);if(o)for(let a=0;a<o.length;a++)r.push(o[a]);Bo(t,a=>{Tm(i,a,r)})}function bo(i,t){const r=Hr(t);if(r){let o=0;for(let a=0;a<r.length;a++)r[a].status!==2&&(r[o]=r[a],o++);r.length=o,mm(t,r.length>0?r:void 0)}Bo(t,o=>{bo(i,o)})}function sc(i,t){const r=Zi(km(i,t)),o=ec(i.transactionQueueTree_,t);return Xw(o,a=>{Za(i,a)}),Za(i,o),_m(o,a=>{Za(i,a)}),r}function Za(i,t){const r=Hr(t);if(r){const o=[];let a=[],c=-1;for(let f=0;f<r.length;f++)r[f].status===3||(r[f].status===1?(O(c===f-1,"All SENT items should be at beginning of queue."),c=f,r[f].status=3,r[f].abortReason="set"):(O(r[f].status===0,"Unexpected transaction status in abort"),r[f].unwatcher(),a=a.concat(Nn(i.serverSyncTree_,r[f].currentWriteId,!0)),r[f].onComplete&&o.push(r[f].onComplete.bind(null,new Error("set"),!1,null))));c===-1?mm(t,void 0):r.length=c+1,Bt(i.eventQueue_,Zi(t),a);for(let f=0;f<o.length;f++)jr(o[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(i){let t="";const r=i.split("/");for(let o=0;o<r.length;o++)if(r[o].length>0){let a=r[o];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}t+="/"+a}return t}function IE(i){const t={};i.charAt(0)==="?"&&(i=i.substring(1));for(const r of i.split("&")){if(r.length===0)continue;const o=r.split("=");o.length===2?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):it(`Invalid query segment '${r}' in query '${i}'`)}return t}const np=function(i,t){const r=TE(i),o=r.namespace;r.domain==="firebase.com"&&ln(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&r.domain!=="localhost"&&ln("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||Oy();const a=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new Op(r.host,r.secure,o,a,t,"",o!==r.subdomain),path:new fe(r.pathString)}},TE=function(i){let t="",r="",o="",a="",c="",f=!0,p="https",m=443;if(typeof i=="string"){let g=i.indexOf("//");g>=0&&(p=i.substring(0,g-1),i=i.substring(g+2));let I=i.indexOf("/");I===-1&&(I=i.length);let w=i.indexOf("?");w===-1&&(w=i.length),t=i.substring(0,Math.min(I,w)),I<w&&(a=kE(i.substring(I,w)));const k=IE(i.substring(Math.min(i.length,w)));g=t.indexOf(":"),g>=0?(f=p==="https"||p==="wss",m=parseInt(t.substring(g+1),10)):g=t.length;const A=t.slice(0,g);if(A.toLowerCase()==="localhost")r="localhost";else if(A.split(".").length<=2)r=A;else{const L=t.indexOf(".");o=t.substring(0,L).toLowerCase(),r=t.substring(L+1),c=o}"ns"in k&&(c=k.ns)}return{host:t,port:m,domain:r,subdomain:o,secure:f,scheme:p,pathString:a,namespace:c}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(t,r,o,a){this.eventType=t,this.eventRegistration=r,this.snapshot=o,this.prevName=a}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Qe(this.snapshot.exportVal())}}class xE{constructor(t,r,o){this.eventRegistration=t,this.error=r,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(t,r){this.snapshotCallback=t,this.cancelCallback=r}onValue(t,r){this.snapshotCallback.call(null,t,r)}onCancel(t){return O(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(t,r,o,a){this._repo=t,this._path=r,this._queryParams=o,this._orderByCalled=a}get key(){return ne(this._path)?null:Au(this._path)}get ref(){return new On(this._repo,this._path)}get _queryIdentifier(){const t=Wh(this._queryParams),r=xu(t);return r==="{}"?"default":r}get _queryObject(){return Wh(this._queryParams)}isEqual(t){if(t=Yi(t),!(t instanceof oc))return!1;const r=this._repo===t._repo,o=Ou(this._path,t._path),a=this._queryIdentifier===t._queryIdentifier;return r&&o&&a}toJSON(){return this.toString()}toString(){return this._repo.toString()+g0(this._path)}}class On extends oc{constructor(t,r){super(t,r,new zu,!1)}get parent(){const t=Hp(this._path);return t===null?null:new On(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Do{constructor(t,r,o){this._node=t,this.ref=r,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const r=new fe(t),o=Cu(this.ref,t);return new Do(this._node.getChild(r),o,Pe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(o,a)=>t(new Do(a,Cu(this.ref,o),Pe)))}hasChild(t){const r=new fe(t);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function eu(i,t){return i=Yi(i),i._checkNotDeleted("ref"),t!==void 0?Cu(i._root,t):i._root}function Cu(i,t){return i=Yi(i),Z(i._path)===null?oE("child","path",t):ym("child","path",t),new On(i._repo,Re(i._path,t))}function PE(i){return wm("remove",i._path),DE(i,null)}function DE(i,t){i=Yi(i),wm("set",i._path),rE("set",t,i._path);const r=new Gi;return gE(i._repo,i._path,t,null,r.wrapCallback(()=>{})),r.promise}function AE(i,t){sE("update",t,i._path);const r=new Gi;return _E(i._repo,i._path,t,r.wrapCallback(()=>{})),r.promise}class lc{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,r){const o=r._queryParams.getIndex();return new NE("value",this,new Do(t.snapshotNode,new On(r._repo,r._path),o))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,r){return this.callbackContext.hasCancelCallback?new xE(this,t,r):null}matches(t){return t instanceof lc?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function OE(i,t,r,o,a){const c=new RE(r,void 0),f=new lc(c);return yE(i._repo,i,f),()=>wE(i._repo,i,f)}function LE(i,t,r,o){return OE(i,"value",t)}xw(On);Lw(On);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="FIREBASE_DATABASE_EMULATOR_HOST",Su={};let FE=!1;function zE(i,t,r,o){i.repoInfo_=new Op(`${t}:${r}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0),o&&(i.authTokenProvider_=o)}function UE(i,t,r,o,a){let c=o||i.options.databaseURL;c===void 0&&(i.options.projectId||ln("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),qe("Using default host for project ",i.options.projectId),c=`${i.options.projectId}-default-rtdb.firebaseio.com`);let f=np(c,a),p=f.repoInfo,m;typeof process<"u"&&Sh&&(m=Sh[ME]),m?(c=`http://${m}?ns=${p.namespace}`,f=np(c,a),p=f.repoInfo):f.repoInfo.secure;const g=new by(i.name,i.options,t);lE("Invalid Firebase Database URL",f),ne(f.path)||ln("Database URL must point to the root of a Firebase Database (not including a child path).");const I=jE(p,i,g,new Vy(i.name,r));return new WE(I,i)}function BE(i,t){const r=Su[t];(!r||r[i.key]!==i)&&ln(`Database ${t}(${i.repoInfo_}) has already been deleted.`),EE(i),delete r[i.key]}function jE(i,t,r,o){let a=Su[t.name];a||(a={},Su[t.name]=a);let c=a[i.toURLString()];return c&&ln("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new fE(i,FE,r,o),a[i.toURLString()]=c,c}class WE{constructor(t,r){this._repoInternal=t,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(hE(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new On(this._repo,ue())),this._rootInternal}_delete(){return this._rootInternal!==null&&(BE(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&ln("Cannot call "+t+" on a deleted database.")}}function HE(i=_y(),t){const r=hy(i,"database").getImmediate({identifier:t});if(!r._instanceStarted){const o=rv("database");o&&VE(r,...o)}return r}function VE(i,t,r,o={}){i=Yi(i),i._checkNotDeleted("useEmulator"),i._instanceStarted&&ln("Cannot call useEmulator() after instance has already been initialized.");const a=i._repoInternal;let c;if(a.repoInfo_.nodeAdmin)o.mockUserToken&&ln('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new po(po.OWNER);else if(o.mockUserToken){const f=typeof o.mockUserToken=="string"?o.mockUserToken:iv(o.mockUserToken,i.app.options.projectId);c=new po(f)}zE(a,t,r,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(i){Ny(gy),vo(new Bi("database",(t,{instanceIdentifier:r})=>{const o=t.getProvider("app").getImmediate(),a=t.getProvider("auth-internal"),c=t.getProvider("app-check-internal");return UE(o,a,c,r)},"PUBLIC").setMultipleInstances(!0)),Rr(kh,Ih,i),Rr(kh,Ih,"esm2017")}sn.prototype.simpleListen=function(i,t){this.sendRequest("q",{p:i},t)};sn.prototype.echo=function(i,t){this.sendRequest("echo",{d:i},t)};bE();var $E="firebase",QE="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rr($E,QE,"app");const GE={apiKey:"AIzaSyB5I3XLbpaTEN2L_aCWHXScdvAdUk7UqRM",authDomain:"todolistdeploy.firebaseapp.com",projectId:"todolistdeploy",storageBucket:"todolistdeploy.firebasestorage.app",messagingSenderId:"53973149101",appId:"1:53973149101:web:6aa4d0e89afa0be1ff6d24",databaseURL:"https://todolistdeploy-default-rtdb.europe-west1.firebasedatabase.app/"},KE=gp(GE),tu=HE(KE);function YE(i=""){const[t,r]=Se.useState(i);return{value:t,onChange:o=>r(o.target.value)}}const qE=()=>{const i=YE(),[t,r]=Se.useState([]),[o,a]=Se.useState(!0),[c,f]=Se.useState(!1),[p,m]=Se.useState([]),[g,I]=Se.useState(0),[w,k]=Se.useState(null),[A,L]=Se.useState("");Se.useEffect(()=>{const H=eu(tu,"todos"),ie=LE(H,Le=>{const Ge=Le.val()||{},Nt=Object.keys(Ge).map(Kt=>Ge[Kt]);m(Nt),a(!1)});return()=>ie()},[]);const V=()=>{if(g<p.length){const H=p[g];r(ie=>[...ie,H]),I(g+1)}},K=H=>{const ie=eu(tu,`todos/${H}`);PE(ie),r(Le=>Le.filter(Ge=>Ge.id!==H))},Oe=(H,ie)=>{k(H),L(ie)},Fe=()=>{const H=eu(tu,`todos/${w}`);AE(H,{title:A}),k(null),L("")},ze=(H,ie)=>{r(Le=>Le.map(Ge=>Ge.id===H?{...Ge,title:ie}:Ge)),L(ie)},Te=()=>{f(H=>!H)},re=c?[...t].sort((H,ie)=>H.title.localeCompare(ie.title)):t;return b.jsxs("div",{className:we.app,children:[b.jsx("h2",{children:"Todolist Firebase"}),b.jsx("button",{onClick:V,className:we.addButton,disabled:g>=p.length,children:" "}),b.jsx("button",{onClick:Te,className:we.sortButton,children:c?" ":" "}),b.jsx("input",{type:"text",className:"control",...i}),o?b.jsx("div",{className:we.loader}):b.jsx("div",{className:we.taskList,children:re.filter(H=>H.title.toLowerCase().includes(i.value.toLowerCase())).map(({id:H,title:ie})=>b.jsx("div",{className:we.todoItem,children:w===H?b.jsxs(b.Fragment,{children:[b.jsx("input",{className:we.changeInput,type:"text",value:A,onChange:Le=>ze(H,Le.target.value)}),b.jsx("button",{className:we.editButton,onClick:Fe,children:""})]}):b.jsxs(b.Fragment,{children:[b.jsx("span",{children:ie}),b.jsxs("div",{className:we.buttonContainer,children:[b.jsx("button",{onClick:()=>Oe(H,ie),className:we.editButton,children:""}),b.jsx("button",{onClick:()=>K(H),className:we.deleteButton,children:""})]})]})},H))})]})},XE="_container_ubmu0_1",JE={container:XE},ZE=()=>b.jsxs("div",{children:[b.jsx(M_,{}),b.jsxs("div",{className:JE.container,children:[b.jsx($_,{}),b.jsx(G_,{}),b.jsx(qE,{})]})]});D_.createRoot(document.getElementById("root")).render(b.jsx(Se.StrictMode,{children:b.jsx(ZE,{})}));
